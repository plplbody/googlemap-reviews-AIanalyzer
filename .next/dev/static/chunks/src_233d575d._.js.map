{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/firebase/client.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app';\r\nimport { getFirestore, connectFirestoreEmulator } from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"demo-key\",\r\n    authDomain: \"demo-project.firebaseapp.com\",\r\n    projectId: \"xenon-bivouac-479813-u1\",\r\n    storageBucket: \"demo-project.appspot.com\",\r\n    messagingSenderId: \"123456789\",\r\n    appId: \"1:123456789:web:abcdef\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\nconst firestore = getFirestore(app);\r\n\r\n// Connect to Emulator in Dev\r\nif (process.env.NODE_ENV === 'development') {\r\n    // Check if already connected to avoid errors on hot reload?\r\n    // Firestore SDK handles this gracefully usually, but let's be safe\r\n    // Actually, connectFirestoreEmulator should be called before any operation\r\n    try {\r\n        connectFirestoreEmulator(firestore, 'localhost', 8080);\r\n        console.log('Connected to Firestore Emulator');\r\n    } catch (e) {\r\n        // Ignore if already connected\r\n    }\r\n}\r\n\r\nexport { firestore };\r\n"],"names":[],"mappings":";;;;AAiBI;AAjBJ;AAAA;AACA;AAAA;;;AAEA,MAAM,iBAAiB;IACnB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACX;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,8KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,oLAAa,EAAC,kBAAkB,IAAA,8KAAO,GAAE,CAAC,EAAE;AACjF,MAAM,YAAY,IAAA,kLAAY,EAAC;AAE/B,6BAA6B;AAC7B,wCAA4C;IACxC,4DAA4D;IAC5D,mEAAmE;IACnE,2EAA2E;IAC3E,IAAI;QACA,IAAA,8LAAwB,EAAC,WAAW,aAAa;QACjD,QAAQ,GAAG,CAAC;IAChB,EAAE,OAAO,GAAG;IACR,8BAA8B;IAClC;AACJ"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/ui/SearchInput.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Search, Loader2, MapPin, Calendar } from 'lucide-react';\r\nimport { searchAndAnalyze } from '@/server/actions/place';\r\n\r\ninterface SearchInputProps {\r\n    onSearchStart: () => void;\r\n    onSearchComplete: (query: string) => void;\r\n}\r\n\r\nexport default function SearchInput({ onSearchStart, onSearchComplete }: SearchInputProps) {\r\n    const [keyword, setKeyword] = useState('');\r\n    const [area, setArea] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSearch = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!keyword.trim() && !area.trim()) return;\r\n\r\n        setLoading(true);\r\n        onSearchStart();\r\n        try {\r\n            // Combine keyword and area for the search query\r\n            const searchQuery = [keyword, area].filter(Boolean).join(' ');\r\n            await onSearchComplete(searchQuery);\r\n        } catch (error) {\r\n            console.error(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-full max-w-4xl mx-auto relative z-10\">\r\n            <form onSubmit={handleSearch} className=\"relative flex items-center bg-white/80 backdrop-blur-md border border-white/20 rounded-full shadow-2xl hover:shadow-orange-500/20 transition-all duration-300 overflow-hidden p-2 h-20 w-full group\">\r\n\r\n                {/* „Ç≠„Éº„ÉØ„Éº„ÉâÂÖ•ÂäõÊ¨Ñ */}\r\n                <div className=\"flex-1 flex flex-col justify-center px-6 border-r border-slate-200/50 hover:bg-white/50 transition-colors h-full\">\r\n                    <label htmlFor=\"keyword\" className=\"text-xs font-bold text-slate-500 mb-0.5 uppercase tracking-wider\">Keyword</label>\r\n                    <input\r\n                        id=\"keyword\"\r\n                        type=\"text\"\r\n                        value={keyword}\r\n                        onChange={(e) => setKeyword(e.target.value)}\r\n                        placeholder=\"Â∫óÂêç„Éª„Ç∏„É£„É≥„É´„Éª„Ç≠„Éº„ÉØ„Éº„Éâ\"\r\n                        className=\"w-full bg-transparent border-none focus:ring-0 p-0 text-slate-900 font-bold placeholder:text-slate-300 text-base truncate\"\r\n                    />\r\n                </div>\r\n\r\n                {/* „Ç®„É™„Ç¢ÂÖ•ÂäõÊ¨Ñ */}\r\n                <div className=\"flex-1 flex flex-col justify-center px-6 hover:bg-white/50 transition-colors h-full hidden md:flex\">\r\n                    <label htmlFor=\"area\" className=\"text-xs font-bold text-slate-500 mb-0.5 uppercase tracking-wider\">Area</label>\r\n                    <input\r\n                        id=\"area\"\r\n                        type=\"text\"\r\n                        value={area}\r\n                        onChange={(e) => setArea(e.target.value)}\r\n                        placeholder=\"„Ç®„É™„Ç¢Ôºà‰æãÔºöÊ∏ãË∞∑„ÄÅÈäÄÂ∫ßÔºâ\"\r\n                        className=\"w-full bg-transparent border-none focus:ring-0 p-0 text-slate-900 font-bold placeholder:text-slate-300 text-base truncate\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Ê§úÁ¥¢„Éú„Çø„É≥ */}\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    className=\"ml-2 bg-[#E65100] hover:bg-[#F57C00] text-white p-4 rounded-full transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-orange-500/50 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:hover:scale-100 aspect-square h-14 w-14\"\r\n                >\r\n                    {loading ? <Loader2 className=\"w-6 h-6 animate-spin\" /> : <Search className=\"w-6 h-6 font-bold\" />}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;;;AAHA;;;AAWe,SAAS,YAAY,EAAE,aAAa,EAAE,gBAAgB,EAAoB;;IACrF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,KAAK,IAAI,IAAI;QAErC,WAAW;QACX;QACA,IAAI;YACA,gDAAgD;YAChD,MAAM,cAAc;gBAAC;gBAAS;aAAK,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;YACzD,MAAM,iBAAiB;QAC3B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;QAClB,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAK,UAAU;YAAc,WAAU;;8BAGpC,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAM,SAAQ;4BAAU,WAAU;sCAAmE;;;;;;sCACtG,6LAAC;4BACG,IAAG;4BACH,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;4BAC1C,aAAY;4BACZ,WAAU;;;;;;;;;;;;8BAKlB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAM,SAAQ;4BAAO,WAAU;sCAAmE;;;;;;sCACnG,6LAAC;4BACG,IAAG;4BACH,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4BACvC,aAAY;4BACZ,WAAU;;;;;;;;;;;;8BAKlB,6LAAC;oBACG,MAAK;oBACL,UAAU;oBACV,WAAU;8BAET,wBAAU,6LAAC,+NAAO;wBAAC,WAAU;;;;;6CAA4B,6LAAC,mNAAM;wBAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;AAKhG;GA/DwB;KAAA"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///app/src/server/actions/place.ts"],"sourcesContent":["'use server';\r\n\r\nimport { GoogleAuth } from 'google-auth-library';\r\n\r\nimport { getFirestore } from '@/lib/firebase/admin';\r\nimport { enqueueAnalysis } from '@/lib/queue/client';\r\nimport { Place } from '@/types/schema';\r\n\r\nexport async function searchAndAnalyze(query: string): Promise<string> {\r\n    console.log(`Analyzing place: ${query}`);\r\n    const placeId = query; // In the new flow, query is the placeId\r\n\r\n    const docRef = getFirestore().collection('places').doc(placeId);\r\n    const doc = await docRef.get();\r\n\r\n    if (doc.exists) {\r\n        const data = doc.data() as Place;\r\n        console.log(`Place ${placeId} found. Status: ${data.status}`);\r\n\r\n        // Check for expiration (30 days)\r\n        const now = new Date();\r\n        const updatedAt = data.updatedAt ? (data.updatedAt as any).toDate() : new Date(0); // Handle Firestore Timestamp\r\n        const diffTime = Math.abs(now.getTime() - updatedAt.getTime());\r\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n        if (diffDays > 30) {\r\n            console.log(`Place ${placeId} data is expired (${diffDays} days old). Re-fetching...`);\r\n            // Fall through to fetch logic\r\n        } else if (data.status === 'error') {\r\n            await enqueueAnalysis(placeId);\r\n            return placeId;\r\n        } else {\r\n            return placeId;\r\n        }\r\n    }\r\n\r\n    // If we are here, it means either doc doesn't exist OR it's expired.\r\n    // We need to fetch from Google Places API.\r\n    console.log(`Fetching fresh data for place ${placeId}...`);\r\n\r\n    try {\r\n        const auth = new GoogleAuth({\r\n            scopes: 'https://www.googleapis.com/auth/cloud-platform'\r\n        });\r\n        const client = await auth.getClient();\r\n        const token = await client.getAccessToken();\r\n\r\n        const baseUrl = `https://places.googleapis.com/v1/places/${placeId}?languageCode=ja`;\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token.token}`,\r\n            'X-Goog-FieldMask': 'id,displayName,formattedAddress,rating,userRatingCount,reviews,priceLevel'\r\n        };\r\n\r\n        const response = await fetch(baseUrl, { method: 'GET', headers });\r\n\r\n        if (!response.ok) {\r\n            const errorText = await response.text();\r\n            console.error('Google Places API Details Error:', errorText);\r\n            throw new Error(`Google Places API Error: ${response.statusText}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log('API Response Data:', JSON.stringify(data, null, 2));\r\n\r\n        // Extract reviews\r\n        const reviews = data.reviews?.map((r: any) => r.text?.text).filter(Boolean) || [];\r\n\r\n        console.log(`Fetched reviews: ${reviews.length}`);\r\n\r\n        const newPlace: Place = {\r\n            id: data.id,\r\n            name: data.displayName?.text || 'Unknown',\r\n            address: data.formattedAddress,\r\n            originalRating: data.rating || 0,\r\n            userRatingsTotal: data.userRatingCount || 0,\r\n            ...(data.priceLevel ? { priceLevel: data.priceLevel } : {}),\r\n            reviews: reviews,\r\n            status: 'pending',\r\n            createdAt: doc.exists ? (doc.data() as Place).createdAt : new Date(), // Keep original createdAt if exists\r\n            updatedAt: new Date(),\r\n        };\r\n\r\n        await docRef.set(newPlace);\r\n        await enqueueAnalysis(placeId);\r\n\r\n    } catch (error) {\r\n        console.error('Failed to fetch place details:', error);\r\n        throw error;\r\n    }\r\n\r\n    return placeId;\r\n}\r\n\r\nexport interface PlaceSearchResult {\r\n    id: string;\r\n    name: string;\r\n    rating: number;\r\n    userRatingsTotal: number;\r\n    vicinity?: string;\r\n}\r\n\r\nexport async function searchPlaces(query: string): Promise<PlaceSearchResult[]> {\r\n    console.log(`Searching places list for: ${query}`);\r\n\r\n    try {\r\n        const auth = new GoogleAuth({\r\n            scopes: 'https://www.googleapis.com/auth/cloud-platform'\r\n        });\r\n        const client = await auth.getClient();\r\n        const token = await client.getAccessToken();\r\n\r\n        const response = await fetch('https://places.googleapis.com/v1/places:searchText', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token.token}`,\r\n                'X-Goog-FieldMask': 'places.id,places.displayName,places.formattedAddress,places.rating,places.userRatingCount'\r\n            },\r\n            body: JSON.stringify({\r\n                textQuery: query,\r\n                languageCode: 'ja',\r\n                maxResultCount: 10\r\n            })\r\n        });\r\n\r\n        if (!response.ok) {\r\n            const errorText = await response.text();\r\n            console.error('Google Places API Error:', errorText);\r\n            throw new Error(`Google Places API Error: ${response.statusText}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        if (!data.places) {\r\n            return [];\r\n        }\r\n\r\n        return data.places.map((place: any) => ({\r\n            id: place.id,\r\n            name: place.displayName?.text || 'Unknown',\r\n            rating: place.rating || 0,\r\n            userRatingsTotal: place.userRatingCount || 0,\r\n            vicinity: place.formattedAddress\r\n        }));\r\n\r\n    } catch (error) {\r\n        console.error('Failed to search places:', error);\r\n        // Fallback to empty list or rethrow depending on UX preference\r\n        // For now, return empty list to avoid crashing UI\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAQsB,mBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///app/src/server/actions/config.ts"],"sourcesContent":["'use server';\r\n\r\nexport async function getGoogleMapsApiKey(): Promise<string> {\r\n    const key = process.env.GOOGLE_MAPS_API_KEY;\r\n    console.log('getGoogleMapsApiKey called. Key exists:', !!key);\r\n    if (!key) {\r\n        console.warn('GOOGLE_MAPS_API_KEY is not set');\r\n        return '';\r\n    }\r\n    return key;\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAEsB,sBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/AnalysisResult.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Place } from '@/types/schema';\r\nimport { searchAndAnalyze } from '@/server/actions/place';\r\nimport { getGoogleMapsApiKey } from '@/server/actions/config';\r\nimport { useState, useEffect } from 'react';\r\nimport { ResponsiveContainer, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar } from 'recharts';\r\nimport { Loader2, Star, TrendingUp, DollarSign, Coffee, Smile, MapPin, Briefcase, Heart, User, Users, Award, RefreshCw, Map } from 'lucide-react';\r\n\r\ninterface AnalysisResultProps {\r\n    place: Place;\r\n}\r\n\r\nexport default function AnalysisResult({ place }: AnalysisResultProps) {\r\n    const [activeTab, setActiveTab] = useState<'evaluation' | 'map'>('evaluation');\r\n    const [apiKey, setApiKey] = useState('');\r\n    const [isRetrying, setIsRetrying] = useState(false);\r\n\r\n    useEffect(() => {\r\n        getGoogleMapsApiKey().then(key => {\r\n            console.log('API Key fetched:', !!key);\r\n            setApiKey(key);\r\n        });\r\n    }, []);\r\n\r\n    const handleRetry = async () => {\r\n        setIsRetrying(true);\r\n        try {\r\n            await searchAndAnalyze(place.id);\r\n        } catch (error) {\r\n            console.error(\"Retry failed:\", error);\r\n            setIsRetrying(false);\r\n        }\r\n    };\r\n\r\n    if (place.status === 'pending' || place.status === 'processing' || isRetrying) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center p-12 space-y-4 animate-pulse\">\r\n                <Loader2 className=\"w-12 h-12 text-rose-500 animate-spin\" />\r\n                <p className=\"text-xl text-slate-800 font-medium\">AI„ÅåÂàÜÊûê‰∏≠...</p>\r\n                <p className=\"text-sm text-slate-500\">Êï∞ÂçÉ‰ª∂„ÅÆ„É¨„Éì„É•„Éº„Åã„ÇâÁúüÂÆü„ÇíÊäΩÂá∫„Åó„Å¶„ÅÑ„Åæ„Åô</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (place.status === 'error') {\r\n        return (\r\n            <div className=\"p-8 bg-red-50 border border-red-100 rounded-3xl text-center shadow-sm flex flex-col items-center gap-4\">\r\n                <p className=\"text-red-600 font-medium\">ÂàÜÊûê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÊôÇÈñì„Çí„Åä„ÅÑ„Å¶ÂÜçÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\r\n                <button\r\n                    onClick={handleRetry}\r\n                    disabled={isRetrying}\r\n                    className=\"flex items-center gap-2 px-6 py-2 bg-white border border-red-200 text-red-600 rounded-full hover:bg-red-50 transition-colors font-medium shadow-sm\"\r\n                >\r\n                    <RefreshCw className={`w-4 h-4 ${isRetrying ? 'animate-spin' : ''}`} />\r\n                    ÂÜçË©¶Ë°å„Åô„Çã\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const data = place.axisScores ? [\r\n        { subject: 'Âë≥', A: place.axisScores.taste, fullMark: 5 },\r\n        { subject: 'Êé•ÂÆ¢', A: place.axisScores.service, fullMark: 5 },\r\n        { subject: 'Èõ∞Âõ≤Ê∞ó', A: place.axisScores.atmosphere, fullMark: 5 },\r\n        { subject: '„Ç≥„Çπ„Éë', A: place.axisScores.cost, fullMark: 5 },\r\n    ] : [];\r\n\r\n    return (\r\n        <div className=\"w-full max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700\">\r\n\r\n            {/* Header Section: Name & Badges */}\r\n            <div className=\"bg-white rounded-3xl shadow-xl border border-slate-100 p-8 md:p-10\">\r\n                <div className=\"flex flex-col gap-6\">\r\n                    <div className=\"flex items-center gap-2 text-slate-500 text-sm font-medium\">\r\n                        <MapPin className=\"w-4 h-4\" />\r\n                        <span>Google Maps Êé≤ËºâÂ∫ó</span>\r\n                    </div>\r\n                    <h2 className=\"text-4xl font-extrabold text-slate-900 tracking-tight leading-tight\">{place.name}</h2>\r\n\r\n                    {/* Badges */}\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        {(() => {\r\n                            const info = getPriceLevelInfo(place.priceLevel);\r\n                            if (!info) return null;\r\n                            return (\r\n                                <div className={`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold tracking-wide shadow-sm border ${info.color}`}>\r\n                                    <DollarSign className=\"w-3 h-3\" />\r\n                                    <span>{info.label}</span>\r\n                                </div>\r\n                            );\r\n                        })()}\r\n                        {place.usageScores?.business && place.usageScores.business >= 4.0 && (\r\n                            <div className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-slate-800 text-white text-xs font-bold tracking-wide shadow-sm\">\r\n                                <Briefcase className=\"w-3 h-3\" />\r\n                                <span>„Éì„Ç∏„Éç„Çπ</span>\r\n                            </div>\r\n                        )}\r\n                        {place.usageScores?.date && place.usageScores.date >= 4.0 && (\r\n                            <div className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-rose-500 text-white text-xs font-bold tracking-wide shadow-sm shadow-rose-200\">\r\n                                <Heart className=\"w-3 h-3 fill-current\" />\r\n                                <span>„Éá„Éº„Éà</span>\r\n                            </div>\r\n                        )}\r\n                        {place.usageScores?.solo && place.usageScores.solo >= 4.0 && (\r\n                            <div className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-emerald-600 text-white text-xs font-bold tracking-wide shadow-sm shadow-emerald-200\">\r\n                                <User className=\"w-3 h-3\" />\r\n                                <span>„Åä‰∏Ä‰∫∫Êßò</span>\r\n                            </div>\r\n                        )}\r\n                        {place.usageScores?.family && place.usageScores.family >= 4.0 && (\r\n                            <div className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-orange-500 text-white text-xs font-bold tracking-wide shadow-sm shadow-orange-200\">\r\n                                <Users className=\"w-3 h-3\" />\r\n                                <span>„Éï„Ç°„Éü„É™„Éº</span>\r\n                            </div>\r\n                        )}\r\n                        {place.axisScores?.taste && place.axisScores.taste >= 4.5 && (\r\n                            <div className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-amber-400 text-white text-xs font-bold tracking-wide shadow-sm shadow-amber-200\">\r\n                                <Award className=\"w-3 h-3\" />\r\n                                <span>ÁæéÈ£üÂÆ∂Ë™çÂÆö</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Contact Info */}\r\n                    <div className=\"flex flex-col gap-2 text-sm text-slate-600 mt-2\">\r\n                        {place.address && (\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <MapPin className=\"w-4 h-4 text-slate-400 shrink-0\" />\r\n                                <span>{place.address}</span>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <Map className=\"w-4 h-4 text-slate-400 shrink-0\" />\r\n                            <a\r\n                                href={`https://www.google.com/maps/search/?api=1&query=Google&query_place_id=${place.id}`}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"text-blue-600 hover:underline\"\r\n                            >\r\n                                Google Map„ÅßË¶ã„Çã\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Last Updated */}\r\n                    <div className=\"flex items-center gap-2 text-slate-400 text-xs mt-2\">\r\n                        <RefreshCw className=\"w-3 h-3\" />\r\n                        <span className=\"tabular-nums\">ÊúÄÁµÇÊõ¥Êñ∞: {formatDate(place.updatedAt)}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tabs */}\r\n            <div className=\"flex border-b border-gray-200 mb-8\">\r\n                <button\r\n                    onClick={() => setActiveTab('evaluation')}\r\n                    className={`px-6 py-3 text-sm font-medium transition-colors relative ${activeTab === 'evaluation'\r\n                        ? 'text-orange-600'\r\n                        : 'text-gray-500 hover:text-gray-700'\r\n                        }`}\r\n                >\r\n                    Ë©ï‰æ°\r\n                    {activeTab === 'evaluation' && (\r\n                        <div className=\"absolute bottom-0 left-0 w-full h-0.5 bg-orange-600\" />\r\n                    )}\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('map')}\r\n                    className={`px-6 py-3 text-sm font-medium transition-colors relative ${activeTab === 'map'\r\n                        ? 'text-orange-600'\r\n                        : 'text-gray-500 hover:text-gray-700'\r\n                        }`}\r\n                >\r\n                    Âú∞Âõ≥\r\n                    {activeTab === 'map' && (\r\n                        <div className=\"absolute bottom-0 left-0 w-full h-0.5 bg-orange-600\" />\r\n                    )}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Map Tab Content */}\r\n            {activeTab === 'map' && (\r\n                <div className=\"bg-white rounded-xl shadow-sm border border-slate-100 p-4 h-[500px] w-full\">\r\n                    {apiKey ? (\r\n                        <iframe\r\n                            width=\"100%\"\r\n                            height=\"100%\"\r\n                            style={{ border: 0, borderRadius: '0.75rem' }}\r\n                            loading=\"lazy\"\r\n                            allowFullScreen\r\n                            referrerPolicy=\"no-referrer-when-downgrade\"\r\n                            src={`https://www.google.com/maps/embed/v1/place?key=${apiKey}&q=place_id:${place.id}`}\r\n                        ></iframe>\r\n                    ) : (\r\n                        <div className=\"w-full h-full flex items-center justify-center bg-gray-50 text-gray-400\">\r\n                            <Loader2 className=\"w-8 h-8 animate-spin\" />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Evaluation Tab Content */}\r\n            {activeTab === 'evaluation' && (\r\n                <>\r\n                    {/* Score Display (True Score vs Google Score) */}\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        {/* True Score (Left - Prominent) */}\r\n                        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-orange-100 flex flex-col items-center justify-center relative overflow-hidden\">\r\n                            <div className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-400 to-red-500\"></div>\r\n                            <h3 className=\"text-gray-500 font-medium mb-2\">AIÂàÜÊûê„Çπ„Ç≥„Ç¢</h3>\r\n                            <div className=\"flex items-baseline\">\r\n                                <span className=\"text-6xl font-bold text-gray-900 tabular-nums\">{place.trueScore?.toFixed(1)}</span>\r\n                                <span className=\"text-2xl text-gray-400 ml-1\">/5.0</span>\r\n                            </div>\r\n                            <div className=\"flex items-center mt-2 text-orange-500\">\r\n                                {[...Array(5)].map((_, i) => (\r\n                                    <Star\r\n                                        key={i}\r\n                                        className={`w-6 h-6 ${i < Math.round(place.trueScore || 0) ? 'fill-current' : 'text-gray-200'}`}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                            <p className=\"text-xs text-gray-400 mt-4 text-center\">\r\n                                ‚Äª‰ø°È†ºÂ∫¶„ÅÆÈ´ò„ÅÑ‰∏ä‰Ωç5‰ª∂„ÅÆ„É¨„Éì„É•„Éº„Çí„ÇÇ„Å®„Å´<br />„Çπ„Ç≥„Ç¢„ÇíÁÆóÂá∫„Åó„Å¶„ÅÑ„Åæ„Åô\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Google Map Score (Right - Standard) */}\r\n                        <div className=\"bg-gray-50 p-6 rounded-xl border border-gray-200 flex flex-col items-center justify-center\">\r\n                            <h3 className=\"text-gray-500 font-medium mb-2\">Google Map Score</h3>\r\n                            <div className=\"flex items-baseline\">\r\n                                <span className=\"text-4xl font-bold text-gray-700 tabular-nums\">{place.originalRating.toFixed(1)}</span>\r\n                                <span className=\"text-xl text-gray-400 ml-1\">/5.0</span>\r\n                            </div>\r\n                            <div className=\"flex items-center mt-2 text-yellow-400\">\r\n                                {[...Array(5)].map((_, i) => (\r\n                                    <Star\r\n                                        key={i}\r\n                                        className={`w-5 h-5 ${i < Math.round(place.originalRating) ? 'fill-current' : 'text-gray-300'}`}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                            <p className=\"text-sm text-gray-500 mt-2\">\r\n                                <span className=\"tabular-nums\">{place.userRatingsTotal.toLocaleString()}</span> ‰ª∂„ÅÆË©ï‰æ°\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 1. Charts & Metrics */}\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                        {/* Radar Chart */}\r\n                        <div className=\"lg:col-span-1 bg-white rounded-3xl shadow-lg border border-slate-100 p-8 h-96\">\r\n                            <h3 className=\"text-lg font-bold text-slate-900 mb-6\">„Éê„É©„É≥„ÇπÂàÜÊûê</h3>\r\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                <RadarChart cx=\"50%\" cy=\"45%\" outerRadius=\"70%\" data={data}>\r\n                                    <PolarGrid stroke=\"#e2e8f0\" />\r\n                                    <PolarAngleAxis dataKey=\"subject\" tick={{ fill: '#64748b', fontSize: 13, fontWeight: 600 }} />\r\n                                    <PolarRadiusAxis angle={30} domain={[0, 5]} tick={false} axisLine={false} />\r\n                                    <Radar\r\n                                        name=\"Score\"\r\n                                        dataKey=\"A\"\r\n                                        stroke=\"#f43f5e\"\r\n                                        strokeWidth={3}\r\n                                        fill=\"#f43f5e\"\r\n                                        fillOpacity={0.2}\r\n                                    />\r\n                                </RadarChart>\r\n                            </ResponsiveContainer>\r\n                        </div>\r\n\r\n                        {/* Metric Cards */}\r\n                        <div className=\"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <MetricCard icon={Coffee} label=\"Âë≥„ÉªÂìÅË≥™\" value={place.axisScores?.taste} />\r\n                            <MetricCard icon={Smile} label=\"Êé•ÂÆ¢„Éª„Çµ„Éº„Éì„Çπ\" value={place.axisScores?.service} />\r\n                            <MetricCard icon={TrendingUp} label=\"Èõ∞Âõ≤Ê∞ó\" value={place.axisScores?.atmosphere} />\r\n                            <MetricCard icon={DollarSign} label=\"„Ç≥„Çπ„Éà„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ\" value={place.axisScores?.cost} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 2. Summary & Gap Reason */}\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"bg-white rounded-3xl shadow-lg border border-slate-100 p-8\">\r\n                            <h3 className=\"text-xl font-bold text-slate-900 mb-4\">AIÂàÜÊûê„Çµ„Éû„É™„Éº</h3>\r\n                            <p className=\"text-lg text-slate-600 leading-relaxed\">{place.summary}</p>\r\n\r\n                            {place.gapReason && (\r\n                                <div className=\"mt-6 bg-amber-50 border border-amber-200 rounded-2xl p-6\">\r\n                                    <h4 className=\"flex items-center gap-2 font-bold text-amber-800 mb-2\">\r\n                                        <TrendingUp className=\"w-5 h-5\" />\r\n                                        „Çπ„Ç≥„Ç¢ÂàÜÊûê„Ç§„É≥„Çµ„Ç§„Éà\r\n                                    </h4>\r\n                                    <p className=\"text-amber-900 text-sm leading-relaxed\">\r\n                                        {place.gapReason}\r\n                                    </p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 3. Detailed Analysis Matrix */}\r\n                    {place.axisAnalysis && (\r\n                        <div className=\"space-y-6\">\r\n                            <h3 className=\"text-2xl font-bold text-slate-900\">Ë©ï‰æ°Ëª∏Âà• Ë©≥Á¥∞ÂàÜÊûê</h3>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                <AxisAnalysisCard\r\n                                    title=\"Âë≥„ÉªÂìÅË≥™\"\r\n                                    icon={Coffee}\r\n                                    data={place.axisAnalysis.taste}\r\n                                    color=\"rose\"\r\n                                />\r\n                                <AxisAnalysisCard\r\n                                    title=\"Êé•ÂÆ¢„Éª„Çµ„Éº„Éì„Çπ\"\r\n                                    icon={Smile}\r\n                                    data={place.axisAnalysis.service}\r\n                                    color=\"blue\"\r\n                                />\r\n                                <AxisAnalysisCard\r\n                                    title=\"Èõ∞Âõ≤Ê∞ó\"\r\n                                    icon={TrendingUp}\r\n                                    data={place.axisAnalysis.atmosphere}\r\n                                    color=\"purple\"\r\n                                />\r\n                                <AxisAnalysisCard\r\n                                    title=\"„Ç≥„Çπ„Éà„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ\"\r\n                                    icon={DollarSign}\r\n                                    data={place.axisAnalysis.cost}\r\n                                    color=\"emerald\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Usage Scores */}\r\n                    <div className=\"bg-white rounded-3xl shadow-lg border border-slate-100 p-8 md:p-10\">\r\n                        <h3 className=\"text-xl font-bold text-slate-900 mb-8\">„Å©„Çì„Å™„Ç∑„Éº„É≥„Å´„Åä„Åô„Åô„ÇÅÔºü</h3>\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6\">\r\n                            <UsageCard label=\"„Éì„Ç∏„Éç„Çπ\" subLabel=\"Êé•ÂæÖ„Éª‰ºöÈ£ü\" value={place.usageScores?.business} />\r\n                            <UsageCard label=\"„Éá„Éº„Éà\" subLabel=\"Ë®òÂøµÊó•„Éª„Ç´„ÉÉ„Éó„É´\" value={place.usageScores?.date} />\r\n                            <UsageCard label=\"„Åä‰∏Ä‰∫∫Êßò\" subLabel=\"„É©„É≥„ÉÅ„Éª„Çµ„ÇØÈ£≤„Åø\" value={place.usageScores?.solo} />\r\n                            <UsageCard label=\"„Éï„Ç°„Éü„É™„Éº\" subLabel=\"„ÅäÂ≠êÊßòÈÄ£„Çå\" value={place.usageScores?.family} />\r\n                        </div>\r\n                        {place.usageSummary && (\r\n                            <div className=\"mt-6 bg-slate-50 border border-slate-200 rounded-2xl p-4 text-sm text-slate-600 leading-relaxed\">\r\n                                <span className=\"font-bold text-slate-700 mr-2\">üí° „Ç∑„Éº„É≥ÂàÜÊûê:</span>\r\n                                {place.usageSummary}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction UsageCard({ label, subLabel, value }: any) {\r\n    const score = value || 0;\r\n    const isHigh = score >= 4.0;\r\n\r\n    return (\r\n        <div className={`group p-6 rounded-2xl border-2 transition-all duration-300 hover:shadow-lg ${isHigh ? 'bg-white border-rose-100 hover:border-rose-200' : 'bg-slate-50 border-transparent'}`}>\r\n            <div className=\"flex justify-between items-start mb-4\">\r\n                <div>\r\n                    <div className=\"text-slate-900 font-bold text-lg\">{label}</div>\r\n                    <div className=\"text-xs text-slate-500 mt-1\">{subLabel}</div>\r\n                </div>\r\n                <div className={`text-2xl font-black ${isHigh ? 'text-rose-500' : 'text-slate-300'}`}>\r\n                    {score.toFixed(1)}\r\n                </div>\r\n            </div>\r\n            <div className=\"h-2 bg-slate-100 rounded-full overflow-hidden\">\r\n                <div\r\n                    className={`h-full rounded-full transition-all duration-1000 ${isHigh ? 'bg-rose-500' : 'bg-slate-300'}`}\r\n                    style={{ width: `${(score / 5) * 100}%` }}\r\n                ></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction MetricCard({ icon: Icon, label, value }: any) {\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow flex items-start gap-4\">\r\n            <div className=\"p-3 rounded-xl bg-slate-50 text-slate-700\">\r\n                <Icon className=\"w-6 h-6\" />\r\n            </div>\r\n            <div className=\"flex-1\">\r\n                <div className=\"flex justify-between items-center mb-1\">\r\n                    <h4 className=\"font-bold text-slate-900\">{label}</h4>\r\n                    <span className=\"text-2xl font-black text-slate-900\">{value?.toFixed(1)}</span>\r\n                </div>\r\n                <div className=\"h-2 bg-slate-100 rounded-full overflow-hidden\">\r\n                    <div\r\n                        className=\"h-full bg-slate-900 rounded-full transition-all duration-1000\"\r\n                        style={{ width: `${(value / 5) * 100}%` }}\r\n                    ></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AxisAnalysisCard({ title, icon: Icon, data, color }: any) {\r\n    const colorClasses: any = {\r\n        rose: { bg: 'bg-rose-50', border: 'border-rose-100', text: 'text-rose-800', dot: 'bg-rose-500' },\r\n        blue: { bg: 'bg-blue-50', border: 'border-blue-100', text: 'text-blue-800', dot: 'bg-blue-500' },\r\n        purple: { bg: 'bg-purple-50', border: 'border-purple-100', text: 'text-purple-800', dot: 'bg-purple-500' },\r\n        emerald: { bg: 'bg-emerald-50', border: 'border-emerald-100', text: 'text-emerald-800', dot: 'bg-emerald-500' },\r\n    };\r\n    const c = colorClasses[color] || colorClasses.rose;\r\n\r\n    return (\r\n        <div className={`rounded-3xl border ${c.bg} ${c.border} p-6 h-full`}>\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n                <div className={`p-2 rounded-xl bg-white/60 ${c.text}`}>\r\n                    <Icon className=\"w-5 h-5\" />\r\n                </div>\r\n                <h4 className={`font-bold text-lg ${c.text}`}>{title}</h4>\r\n            </div>\r\n\r\n            <p className=\"text-sm text-slate-700 font-medium mb-4 leading-relaxed bg-white/50 p-3 rounded-xl\">\r\n                {data?.summary}\r\n            </p>\r\n\r\n            <div className=\"space-y-4\">\r\n                <div>\r\n                    <div className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 flex items-center gap-1\">\r\n                        <Smile className=\"w-3 h-3\" /> Ë©ï‰æ°„Éù„Ç§„É≥„Éà\r\n                    </div>\r\n                    <ul className=\"space-y-2\">\r\n                        {data?.pros?.map((p: string, i: number) => (\r\n                            <li key={i} className=\"flex items-start gap-2 text-sm text-slate-700\">\r\n                                <span className={`mt-1.5 w-1.5 h-1.5 rounded-full ${c.dot} shrink-0`} />\r\n                                {p}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n                <div>\r\n                    <div className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 flex items-center gap-1\">\r\n                        <TrendingUp className=\"w-3 h-3 rotate-180\" /> Êá∏Âøµ„Éù„Ç§„É≥„Éà\r\n                    </div>\r\n                    <ul className=\"space-y-2\">\r\n                        {data?.cons?.map((c: string, i: number) => (\r\n                            <li key={i} className=\"flex items-start gap-2 text-sm text-slate-700\">\r\n                                <span className=\"mt-1.5 w-1.5 h-1.5 rounded-full bg-slate-400 shrink-0\" />\r\n                                {c}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction formatDate(date: any): string {\r\n    if (!date) return '‰∏çÊòé';\r\n    try {\r\n        // Handle Firestore Timestamp (seconds, nanoseconds)\r\n        if (date.seconds) {\r\n            return new Date(date.seconds * 1000).toLocaleDateString('ja-JP');\r\n        }\r\n        // Handle string or Date object\r\n        return new Date(date).toLocaleDateString('ja-JP');\r\n    } catch (e) {\r\n        return '‰∏çÊòé';\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction getPriceLevelInfo(level: string | undefined) {\r\n    switch (level) {\r\n        case 'PRICE_LEVEL_FREE': return { label: 'ÁÑ°Êñô', color: 'bg-slate-100 text-slate-700 border-slate-200' };\r\n        case 'PRICE_LEVEL_INEXPENSIVE': return { label: '„ÅäÊâãÈ†É (~1,000ÂÜÜ)', color: 'bg-emerald-100 text-emerald-700 border-emerald-200' };\r\n        case 'PRICE_LEVEL_MODERATE': return { label: 'Ê®ôÊ∫ñ (1,000ÂÜÜ~3,000ÂÜÜ)', color: 'bg-blue-100 text-blue-700 border-blue-200' };\r\n        case 'PRICE_LEVEL_EXPENSIVE': return { label: 'È´òÁ¥ö (3,000ÂÜÜ~10,000ÂÜÜ)', color: 'bg-orange-100 text-orange-700 border-orange-200' };\r\n        case 'PRICE_LEVEL_VERY_EXPENSIVE': return { label: 'ÊúÄÈ´òÁ¥ö (10,000ÂÜÜ~)', color: 'bg-rose-100 text-rose-700 border-rose-200' };\r\n        default: return null;\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1661, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/ui/ListingCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Star } from 'lucide-react';\r\n\r\ninterface ListingCardProps {\r\n    title: string;\r\n    location: string;\r\n    rating: number;\r\n    price?: string;\r\n    distance?: string;\r\n    imageUrl: string;\r\n    tags?: string[];\r\n    onClick?: () => void;\r\n}\r\n\r\nexport default function ListingCard({\r\n    title,\r\n    location,\r\n    rating,\r\n    price,\r\n    imageUrl,\r\n    tags,\r\n    onClick\r\n}: ListingCardProps) {\r\n    return (\r\n        <div\r\n            className=\"group cursor-pointer flex flex-col gap-4\"\r\n            onClick={onClick}\r\n        >\r\n            <div className=\"relative aspect-[4/3] w-full overflow-hidden rounded-sm bg-gray-100\">\r\n                {/* ÁîªÂÉèË°®Á§∫„Ç®„É™„Ç¢ */}\r\n                {imageUrl ? (\r\n                    <img\r\n                        src={imageUrl}\r\n                        alt={title}\r\n                        className=\"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110\"\r\n                    />\r\n                ) : (\r\n                    <div className=\"flex h-full w-full items-center justify-center bg-gray-200 text-gray-400\">\r\n                        No Image\r\n                    </div>\r\n                )}\r\n\r\n                {/* „Ç™„Éº„Éê„Éº„É¨„Ç§„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥Ôºà„Éõ„Éê„ÉºÊôÇ„ÅÆË¶ñË™çÊÄßÂêë‰∏äÔºâ */}\r\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\r\n            </div>\r\n\r\n            <div className=\"flex flex-col gap-1\">\r\n                {/* „Çø„Ç∞„É™„Çπ„Éà */}\r\n                {tags && tags.length > 0 && (\r\n                    <div className=\"flex gap-2 mb-1\">\r\n                        {tags.map((tag, i) => (\r\n                            <span key={i} className=\"text-[10px] uppercase tracking-wider font-medium text-[#E65100] border border-[#E65100]/20 px-2 py-0.5 rounded-full\">\r\n                                {tag}\r\n                            </span>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"flex justify-between items-baseline\">\r\n                    <h3 className=\"text-lg font-serif font-bold text-gray-900 group-hover:text-[#E65100] transition-colors duration-300 line-clamp-1\">\r\n                        {title}\r\n                    </h3>\r\n                    <div className=\"flex items-center gap-1 shrink-0 bg-[#FAFAFA] px-2 py-0.5 rounded-full border border-gray-100\">\r\n                        <Star className=\"w-3 h-3 fill-[#C5A059] text-[#C5A059]\" />\r\n                        <span className=\"text-sm font-medium text-gray-700\">{rating.toFixed(2)}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex justify-between items-center text-sm text-gray-500 font-sans\">\r\n                    <p>{location}</p>\r\n                    <p className=\"font-medium text-gray-900\">{price}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAee,SAAS,YAAY,EAChC,KAAK,EACL,QAAQ,EACR,MAAM,EACN,KAAK,EACL,QAAQ,EACR,IAAI,EACJ,OAAO,EACQ;IACf,qBACI,6LAAC;QACG,WAAU;QACV,SAAS;;0BAET,6LAAC;gBAAI,WAAU;;oBAEV,yBACG,6LAAC;wBACG,KAAK;wBACL,KAAK;wBACL,WAAU;;;;;6CAGd,6LAAC;wBAAI,WAAU;kCAA2E;;;;;;kCAM9F,6LAAC;wBAAI,WAAU;;;;;;;;;;;;0BAGnB,6LAAC;gBAAI,WAAU;;oBAEV,QAAQ,KAAK,MAAM,GAAG,mBACnB,6LAAC;wBAAI,WAAU;kCACV,KAAK,GAAG,CAAC,CAAC,KAAK,kBACZ,6LAAC;gCAAa,WAAU;0CACnB;+BADM;;;;;;;;;;kCAOvB,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CACT;;;;;;0CAEL,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,6MAAI;wCAAC,WAAU;;;;;;kDAChB,6LAAC;wCAAK,WAAU;kDAAqC,OAAO,OAAO,CAAC;;;;;;;;;;;;;;;;;;kCAI5E,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;0CAAG;;;;;;0CACJ,6LAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;;;;;;;;;;;;;AAK9D;KA7DwB"}},
    {"offset": {"line": 1813, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/PlaceList.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { PlaceSearchResult } from '@/server/actions/place';\r\nimport { Star, MapPin, ChevronRight } from 'lucide-react';\r\n\r\ninterface PlaceListProps {\r\n    places: PlaceSearchResult[];\r\n    onSelect: (placeId: string) => void;\r\n}\r\n\r\n// Ê§úÁ¥¢ÁµêÊûú„ÅÆ„É™„Çπ„Éà„ÇíË°®Á§∫„Åô„Çã„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà\r\nexport default function PlaceList({ places, onSelect }: PlaceListProps) {\r\n    return (\r\n        <div className=\"w-full max-w-6xl mx-auto px-4 py-8\">\r\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-6\">Ê§úÁ¥¢ÁµêÊûú</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {places.map((place) => (\r\n                    <div\r\n                        key={place.id}\r\n                        onClick={() => onSelect(place.id)}\r\n                        className=\"bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl border border-slate-100 transition-all duration-300 cursor-pointer group\"\r\n                    >\r\n                        <div className=\"flex justify-between items-start mb-4\">\r\n                            <h3 className=\"text-xl font-bold text-slate-900 group-hover:text-orange-600 transition-colors line-clamp-1\">\r\n                                {place.name}\r\n                            </h3>\r\n                            <div className=\"flex flex-col items-end\">\r\n                                <div className=\"text-[10px] text-slate-400 font-bold mb-0.5\">Google Map Score</div>\r\n                                <div className=\"flex items-center bg-orange-50 px-2 py-1 rounded-lg\">\r\n                                    <Star className=\"w-4 h-4 text-orange-500 fill-orange-500 mr-1\" />\r\n                                    <span className=\"font-bold text-orange-700\">{place.rating}</span>\r\n                                    <span className=\"text-xs text-orange-400 ml-1\">({place.userRatingsTotal})</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {place.vicinity && (\r\n                            <div className=\"flex items-start text-slate-500 text-sm mb-4\">\r\n                                <MapPin className=\"w-4 h-4 mr-1 mt-0.5 shrink-0\" />\r\n                                <span className=\"line-clamp-2\">{place.vicinity}</span>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"flex justify-end mt-4\">\r\n                            <span className=\"text-sm font-bold text-slate-400 group-hover:text-orange-500 flex items-center transition-colors\">\r\n                                Ë©≥Á¥∞„ÇíË¶ã„Çã <ChevronRight className=\"w-4 h-4 ml-1\" />\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAHA;;;AAWe,SAAS,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAkB;IAClE,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAAyC;;;;;;0BACvD,6LAAC;gBAAI,WAAU;0BACV,OAAO,GAAG,CAAC,CAAC,sBACT,6LAAC;wBAEG,SAAS,IAAM,SAAS,MAAM,EAAE;wBAChC,WAAU;;0CAEV,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAG,WAAU;kDACT,MAAM,IAAI;;;;;;kDAEf,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;0DAA8C;;;;;;0DAC7D,6LAAC;gDAAI,WAAU;;kEACX,6LAAC,6MAAI;wDAAC,WAAU;;;;;;kEAChB,6LAAC;wDAAK,WAAU;kEAA6B,MAAM,MAAM;;;;;;kEACzD,6LAAC;wDAAK,WAAU;;4DAA+B;4DAAE,MAAM,gBAAgB;4DAAC;;;;;;;;;;;;;;;;;;;;;;;;;4BAKnF,MAAM,QAAQ,kBACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,uNAAM;wCAAC,WAAU;;;;;;kDAClB,6LAAC;wCAAK,WAAU;kDAAgB,MAAM,QAAQ;;;;;;;;;;;;0CAItD,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC;oCAAK,WAAU;;wCAAmG;sDACzG,6LAAC,yOAAY;4CAAC,WAAU;;;;;;;;;;;;;;;;;;uBA3BjC,MAAM,EAAE;;;;;;;;;;;;;;;;AAmCrC;KA1CwB"}},
    {"offset": {"line": 1988, "column": 0}, "map": {"version":3,"sources":["file:///app/src/server/actions/place.ts"],"sourcesContent":["'use server';\r\n\r\nimport { GoogleAuth } from 'google-auth-library';\r\n\r\nimport { getFirestore } from '@/lib/firebase/admin';\r\nimport { enqueueAnalysis } from '@/lib/queue/client';\r\nimport { Place } from '@/types/schema';\r\n\r\nexport async function searchAndAnalyze(query: string): Promise<string> {\r\n    console.log(`Analyzing place: ${query}`);\r\n    const placeId = query; // In the new flow, query is the placeId\r\n\r\n    const docRef = getFirestore().collection('places').doc(placeId);\r\n    const doc = await docRef.get();\r\n\r\n    if (doc.exists) {\r\n        const data = doc.data() as Place;\r\n        console.log(`Place ${placeId} found. Status: ${data.status}`);\r\n\r\n        // Check for expiration (30 days)\r\n        const now = new Date();\r\n        const updatedAt = data.updatedAt ? (data.updatedAt as any).toDate() : new Date(0); // Handle Firestore Timestamp\r\n        const diffTime = Math.abs(now.getTime() - updatedAt.getTime());\r\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n        if (diffDays > 30) {\r\n            console.log(`Place ${placeId} data is expired (${diffDays} days old). Re-fetching...`);\r\n            // Fall through to fetch logic\r\n        } else if (data.status === 'error') {\r\n            await enqueueAnalysis(placeId);\r\n            return placeId;\r\n        } else {\r\n            return placeId;\r\n        }\r\n    }\r\n\r\n    // If we are here, it means either doc doesn't exist OR it's expired.\r\n    // We need to fetch from Google Places API.\r\n    console.log(`Fetching fresh data for place ${placeId}...`);\r\n\r\n    try {\r\n        const auth = new GoogleAuth({\r\n            scopes: 'https://www.googleapis.com/auth/cloud-platform'\r\n        });\r\n        const client = await auth.getClient();\r\n        const token = await client.getAccessToken();\r\n\r\n        const baseUrl = `https://places.googleapis.com/v1/places/${placeId}?languageCode=ja`;\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token.token}`,\r\n            'X-Goog-FieldMask': 'id,displayName,formattedAddress,rating,userRatingCount,reviews,priceLevel'\r\n        };\r\n\r\n        const response = await fetch(baseUrl, { method: 'GET', headers });\r\n\r\n        if (!response.ok) {\r\n            const errorText = await response.text();\r\n            console.error('Google Places API Details Error:', errorText);\r\n            throw new Error(`Google Places API Error: ${response.statusText}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log('API Response Data:', JSON.stringify(data, null, 2));\r\n\r\n        // Extract reviews\r\n        const reviews = data.reviews?.map((r: any) => r.text?.text).filter(Boolean) || [];\r\n\r\n        console.log(`Fetched reviews: ${reviews.length}`);\r\n\r\n        const newPlace: Place = {\r\n            id: data.id,\r\n            name: data.displayName?.text || 'Unknown',\r\n            address: data.formattedAddress,\r\n            originalRating: data.rating || 0,\r\n            userRatingsTotal: data.userRatingCount || 0,\r\n            ...(data.priceLevel ? { priceLevel: data.priceLevel } : {}),\r\n            reviews: reviews,\r\n            status: 'pending',\r\n            createdAt: doc.exists ? (doc.data() as Place).createdAt : new Date(), // Keep original createdAt if exists\r\n            updatedAt: new Date(),\r\n        };\r\n\r\n        await docRef.set(newPlace);\r\n        await enqueueAnalysis(placeId);\r\n\r\n    } catch (error) {\r\n        console.error('Failed to fetch place details:', error);\r\n        throw error;\r\n    }\r\n\r\n    return placeId;\r\n}\r\n\r\nexport interface PlaceSearchResult {\r\n    id: string;\r\n    name: string;\r\n    rating: number;\r\n    userRatingsTotal: number;\r\n    vicinity?: string;\r\n}\r\n\r\nexport async function searchPlaces(query: string): Promise<PlaceSearchResult[]> {\r\n    console.log(`Searching places list for: ${query}`);\r\n\r\n    try {\r\n        const auth = new GoogleAuth({\r\n            scopes: 'https://www.googleapis.com/auth/cloud-platform'\r\n        });\r\n        const client = await auth.getClient();\r\n        const token = await client.getAccessToken();\r\n\r\n        const response = await fetch('https://places.googleapis.com/v1/places:searchText', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token.token}`,\r\n                'X-Goog-FieldMask': 'places.id,places.displayName,places.formattedAddress,places.rating,places.userRatingCount'\r\n            },\r\n            body: JSON.stringify({\r\n                textQuery: query,\r\n                languageCode: 'ja',\r\n                maxResultCount: 10\r\n            })\r\n        });\r\n\r\n        if (!response.ok) {\r\n            const errorText = await response.text();\r\n            console.error('Google Places API Error:', errorText);\r\n            throw new Error(`Google Places API Error: ${response.statusText}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        if (!data.places) {\r\n            return [];\r\n        }\r\n\r\n        return data.places.map((place: any) => ({\r\n            id: place.id,\r\n            name: place.displayName?.text || 'Unknown',\r\n            rating: place.rating || 0,\r\n            userRatingsTotal: place.userRatingCount || 0,\r\n            vicinity: place.formattedAddress\r\n        }));\r\n\r\n    } catch (error) {\r\n        console.error('Failed to search places:', error);\r\n        // Fallback to empty list or rethrow depending on UX preference\r\n        // For now, return empty list to avoid crashing UI\r\n        return [];\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAsGsB,eAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 2003, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, Suspense } from \"react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport { doc, onSnapshot } from \"firebase/firestore\";\r\nimport { firestore } from \"@/lib/firebase/client\";\r\nimport SearchInput from \"@/components/ui/SearchInput\";\r\nimport AnalysisResult from \"@/components/AnalysisResult\";\r\nimport ListingCard from \"@/components/ui/ListingCard\";\r\nimport PlaceList from \"@/components/PlaceList\";\r\nimport { Place } from \"@/types/schema\";\r\nimport {\r\n  searchPlaces,\r\n  searchAndAnalyze,\r\n  PlaceSearchResult,\r\n} from \"@/server/actions/place\";\r\nimport { Utensils, Award, Sparkles, TrendingUp, ArrowLeft } from \"lucide-react\";\r\n\r\n// „Éó„É¨„Éü„Ç¢„É†Ë°®Á§∫Áî®„ÅÆ„É¢„ÉÉ„ÇØ„Éá„Éº„ÇøÔºà„Éá„É¢Áî®Ôºâ\r\n// ÂÆüÈöõ„ÅÆ„Ç¢„Éó„É™„Åß„ÅØ„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâÂèñÂæó„Åó„Åæ„Åô„Åå„ÄÅ„Åì„Åì„Åß„ÅØÂõ∫ÂÆö„Éá„Éº„Çø„Çí‰ΩøÁî®„Åó„Å¶„ÅÑ„Åæ„Åô\r\nconst FEATURED_PLACES = [\r\n  {\r\n    id: \"1\",\r\n    title: \"ÈÆ® ÈäÄÂ∫ß „Åä„ÅÆ„Åß„Çâ\",\r\n    location: \"Êù±‰∫¨ÈÉΩ‰∏≠Â§ÆÂå∫ÈäÄÂ∫ß\",\r\n    rating: 4.85,\r\n    price: \"¬•30,000~\",\r\n    imageUrl:\r\n      \"https://images.unsplash.com/photo-1579871494447-9811cf80d66c?q=80&w=1470&auto=format&fit=crop\",\r\n    tags: [\"ÂØøÂè∏\", \"„Éü„Ç∑„É•„É©„É≥\", \"ÂÄãÂÆ§„ÅÇ„Çä\"],\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"L'Effervescence\",\r\n    location: \"Êù±‰∫¨ÈÉΩÊ∏ØÂå∫Ë•øÈ∫ªÂ∏É\",\r\n    rating: 4.92,\r\n    price: \"¬•50,000~\",\r\n    imageUrl:\r\n      \"https://images.unsplash.com/photo-1559339352-11d035aa65de?q=80&w=1374&auto=format&fit=crop\",\r\n    tags: [\"„Éï„É¨„É≥„ÉÅ\", \"Èö†„ÇåÂÆ∂\", \"Ë®òÂøµÊó•\"],\r\n  },\r\n  {\r\n    id: \"3\",\r\n    title: \"È≥•„Åó„Åç\",\r\n    location: \"Êù±‰∫¨ÈÉΩÂìÅÂ∑ùÂå∫‰∏äÂ§ßÂ¥é\",\r\n    rating: 4.75,\r\n    price: \"¬•15,000~\",\r\n    imageUrl:\r\n      \"https://images.unsplash.com/photo-1625937751876-4515cd8e7752?q=80&w=1374&auto=format&fit=crop\",\r\n    tags: [\"ÁÑº„ÅçÈ≥•\", \"‰∫àÁ¥ÑÂõ∞Èõ£\", \"„Ç´„Ç¶„É≥„Çø„Éº\"],\r\n  },\r\n  {\r\n    id: \"4\",\r\n    title: \"NARISAWA\",\r\n    location: \"Êù±‰∫¨ÈÉΩÊ∏ØÂå∫ÂçóÈùíÂ±±\",\r\n    rating: 4.88,\r\n    price: \"¬•45,000~\",\r\n    imageUrl:\r\n      \"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?q=80&w=1470&auto=format&fit=crop\",\r\n    tags: [\"„Ç§„Éé„Éô„Éº„ÉÜ„Ç£„Éñ\", \"Ëá™ÁÑ∂Ê¥æ\", \"‰∏ñÁïå„ÅÆÂêçÂ∫ó\"],\r\n  },\r\n];\r\n\r\ntype ViewState = \"HOME\" | \"LIST\" | \"DETAIL\";\r\n\r\nfunction HomeContent() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n\r\n  // URL„Éë„É©„É°„Éº„Çø„Åã„ÇâÁä∂ÊÖã„ÇíÂ∞éÂá∫\r\n  const viewState = (searchParams.get(\"view\") as ViewState) || \"HOME\";\r\n  const query = searchParams.get(\"q\") || \"\";\r\n  const placeId = searchParams.get(\"id\");\r\n\r\n  const [searchResults, setSearchResults] = useState<PlaceSearchResult[]>([]);\r\n  const [place, setPlace] = useState<Place | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // URL„Éë„É©„É°„Éº„Çø„ÅÆÂ§âÊõ¥„ÇíÁõ£Ë¶ñ„Åó„Å¶„Éá„Éº„Çø„ÇíÂèñÂæó\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (viewState === \"LIST\" && query) {\r\n        setLoading(true);\r\n        try {\r\n          const results = await searchPlaces(query);\r\n          setSearchResults(results);\r\n        } catch (error) {\r\n          console.error(error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      } else if (viewState === \"DETAIL\" && placeId) {\r\n        setLoading(true);\r\n        try {\r\n          // Ë©≥Á¥∞Ë°®Á§∫„ÅÆÂ†¥Âêà„ÅØ„ÄÅ„Åæ„ÅöÂàÜÊûê/ÂèñÂæó„Ç¢„ÇØ„Ç∑„Éß„É≥„ÇíÂëº„Å∂ÔºàÂøÖË¶Å„Å™„ÇâÔºâ\r\n          // „Åü„Å†„Åó„ÄÅFirestore„ÅÆ„É™„Çπ„Éä„Éº„Åß„Éá„Éº„ÇøÂêåÊúü„Åô„Çã„Åü„ÇÅ„ÄÅ„Åì„Åì„Åß„ÅØID„Çª„ÉÉ„Éà„ÅÆ„Åø„ÅßËâØ„ÅÑÂ†¥Âêà„ÇÇ„ÅÇ„Çã„Åå„ÄÅ\r\n          // ÂàùÂõûÂàÜÊûê„Éà„É™„Ç¨„Éº„ÅÆ„Åü„ÇÅ„Å´ searchAndAnalyze „ÇíÂëº„Å∂ÂøÖË¶Å„Åå„ÅÇ„Çã\r\n          await searchAndAnalyze(placeId);\r\n        } catch (error) {\r\n          console.error(error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      } else if (viewState === \"HOME\") {\r\n        setSearchResults([]);\r\n        setPlace(null);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [viewState, query, placeId]);\r\n\r\n  // Firestore„É™„Çπ„Éä„ÉºÔºàË©≥Á¥∞Ë°®Á§∫ÊôÇÔºâ\r\n  useEffect(() => {\r\n    if (viewState !== \"DETAIL\" || !placeId) return;\r\n\r\n    const unsubscribe = onSnapshot(\r\n      doc(firestore, \"places\", placeId),\r\n      (doc) => {\r\n        if (doc.exists()) {\r\n          const data = doc.data() as Place;\r\n          setPlace({ ...data, id: doc.id });\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => unsubscribe();\r\n  }, [viewState, placeId]);\r\n\r\n  // Ê§úÁ¥¢ÈñãÂßãÊôÇ„ÅÆÂá¶ÁêÜ\r\n  const handleSearchStart = () => {\r\n    setLoading(true);\r\n  };\r\n\r\n  const handleSearchComplete = async (newQuery: string) => {\r\n    // URL„ÇíÊõ¥Êñ∞„Åó„Å¶ÈÅ∑Áßª\r\n    const params = new URLSearchParams();\r\n    params.set(\"view\", \"LIST\");\r\n    params.set(\"q\", newQuery);\r\n    router.push(`/?${params.toString()}`);\r\n  };\r\n\r\n  const handlePlaceSelect = async (selectedPlaceId: string) => {\r\n    // URL„ÇíÊõ¥Êñ∞„Åó„Å¶ÈÅ∑Áßª\r\n    const params = new URLSearchParams();\r\n    params.set(\"view\", \"DETAIL\");\r\n    params.set(\"id\", selectedPlaceId);\r\n    // Ê§úÁ¥¢„ÇØ„Ç®„É™„ÇÇ‰øùÊåÅ„Åó„Å¶„Åä„Åè„Å®Êàª„Å£„ÅüÊôÇ„Å´‰æøÂà©„Å†„Åå„ÄÅ‰ªäÂõû„ÅØ„Ç∑„É≥„Éó„É´„Å´\r\n    if (query) params.set(\"q\", query);\r\n    router.push(`/?${params.toString()}`);\r\n  };\r\n\r\n  const resetHome = () => {\r\n    router.push(\"/\");\r\n  };\r\n\r\n  const handleBack = () => {\r\n    router.back();\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-[#FAFAFA] text-[#1A1A1A] font-serif selection:bg-[#E65100]/20\">\r\n      {/* „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éê„Éº */}\r\n      <nav className={`absolute top-0 w-full z-50 p-6 flex justify-between items-center transition-colors duration-300 ${viewState === 'HOME' ? 'text-white' : 'text-slate-900'}`}>\r\n        <div\r\n          className=\"text-2xl font-bold tracking-widest cursor-pointer\"\r\n          onClick={resetHome}\r\n        >\r\n          GASTRONOMY AI\r\n        </div>\r\n        <div className=\"hidden md:flex gap-8 text-sm font-medium tracking-wide\">\r\n          <span className=\"cursor-pointer hover:text-[#E65100] transition-colors\">\r\n            COLLECTIONS\r\n          </span>\r\n          <span className=\"cursor-pointer hover:text-[#E65100] transition-colors\">\r\n            ABOUT\r\n          </span>\r\n          <span className=\"cursor-pointer hover:text-[#E65100] transition-colors\">\r\n            LOGIN\r\n          </span>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* „Éí„Éº„É≠„Éº„Çª„ÇØ„Ç∑„Éß„É≥Ôºà„Éõ„Éº„É†ÁîªÈù¢„Åß„ÅÆ„ÅøË°®Á§∫Ôºâ */}\r\n      {viewState === \"HOME\" && (\r\n        <>\r\n          <section className=\"relative h-[80vh] w-full flex flex-col items-center justify-center overflow-hidden\">\r\n            {/* ËÉåÊôØÁîªÂÉè */}\r\n            <div className=\"absolute inset-0 z-0\">\r\n              <img\r\n                src=\"https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?q=80&w=2070&auto=format&fit=crop\"\r\n                alt=\"Fine Dining\"\r\n                className=\"w-full h-full object-cover brightness-[0.4]\"\r\n              />\r\n            </div>\r\n\r\n            {/* „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ */}\r\n            <div className=\"relative z-10 w-full max-w-4xl px-6 text-center flex flex-col items-center gap-8\">\r\n              <div className=\"space-y-4 animate-in fade-in slide-in-from-bottom-8 duration-1000\">\r\n                <h1 className=\"text-5xl md:text-7xl font-bold text-white tracking-tight text-shadow-lg leading-tight\">\r\n                  ÁúüÂÆü„ÅÆ<span className=\"text-[#E65100]\">ÁæéÂë≥</span>„Çí„ÄÅ\r\n                  <br />\r\n                  Ë¶ãÊ•µ„ÇÅ„Çã„ÄÇ\r\n                </h1>\r\n                <p className=\"text-gray-200 text-lg md:text-xl font-sans font-light tracking-wide max-w-2xl mx-auto\">\r\n                  AI„ÅåÊï∞ÂçÉ„ÅÆÂè£„Ç≥„Éü„ÇíÂàÜÊûê„Åó„ÄÅÈö†„Åï„Çå„ÅüÂêçÂ∫ó„Å®Áúü„ÅÆË©ï‰æ°„ÇíÊòé„Çâ„Åã„Å´„Åó„Åæ„Åô„ÄÇ\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"w-full max-w-2xl animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200\">\r\n                <SearchInput\r\n                  onSearchStart={handleSearchStart}\r\n                  onSearchComplete={handleSearchComplete}\r\n                />\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* „Çµ„Éº„Éì„Çπ„ÅÆ‰æ°ÂÄ§ÊèêÊ°àÔºà„É°„É™„ÉÉ„ÉàÔºâ */}\r\n          <section className=\"py-24 bg-white\">\r\n            <div className=\"container mx-auto px-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-12 text-center\">\r\n                <div className=\"flex flex-col items-center gap-4 group\">\r\n                  <div className=\"w-16 h-16 rounded-full bg-[#FAFAFA] flex items-center justify-center group-hover:bg-[#E65100]/10 transition-colors\">\r\n                    <Sparkles className=\"w-8 h-8 text-[#E65100]\" />\r\n                  </div>\r\n                  <h3 className=\"text-xl font-bold\">AIÂàÜÊûê</h3>\r\n                  <p className=\"text-gray-500 font-sans text-sm leading-relaxed\">\r\n                    ËÜ®Â§ß„Å™Âè£„Ç≥„Éü„Åã„ÇâÊÑüÊÉÖ„ÇíË™≠„ÅøËß£„Åç„ÄÅ\r\n                    <br />\r\n                    Êï∞ÂÄ§„Å†„Åë„Åß„ÅØË¶ã„Åà„Å™„ÅÑÈ≠ÖÂäõ„ÇíÊäΩÂá∫„ÄÇ\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex flex-col items-center gap-4 group\">\r\n                  <div className=\"w-16 h-16 rounded-full bg-[#FAFAFA] flex items-center justify-center group-hover:bg-[#E65100]/10 transition-colors\">\r\n                    <Award className=\"w-8 h-8 text-[#C5A059]\" />\r\n                  </div>\r\n                  <h3 className=\"text-xl font-bold\">Áúü„ÅÆ„Çπ„Ç≥„Ç¢</h3>\r\n                  <p className=\"text-gray-500 font-sans text-sm leading-relaxed\">\r\n                    „Çµ„ÇØ„É©„ÇÑÂÅèË¶ã„ÇíÊéíÈô§„Åó„Åü„ÄÅ\r\n                    <br />\r\n                    Á¥îÁ≤ã„Å™Âë≥„Å®„Çµ„Éº„Éì„Çπ„ÅÆË©ï‰æ°„ÇíÁÆóÂá∫„ÄÇ\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex flex-col items-center gap-4 group\">\r\n                  <div className=\"w-16 h-16 rounded-full bg-[#FAFAFA] flex items-center justify-center group-hover:bg-[#E65100]/10 transition-colors\">\r\n                    <TrendingUp className=\"w-8 h-8 text-[#1A1A1A]\" />\r\n                  </div>\r\n                  <h3 className=\"text-xl font-bold\">„Éà„É¨„É≥„Éâ‰∫àÊ∏¨</h3>\r\n                  <p className=\"text-gray-500 font-sans text-sm leading-relaxed\">\r\n                    Ê¨°„Å´ÊµÅË°å„ÇãÂ∫ó„ÄÅ‰∫àÁ¥ÑÂõ∞Èõ£„Å´„Å™„ÇãÂ∫ó„Çí\r\n                    <br />\r\n                    „ÅÑ„Å°Êó©„Åè„Ç≠„É£„ÉÉ„ÉÅ„ÄÇ\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Âé≥ÈÅ∏„Åï„Çå„Åü„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥ */}\r\n          <section className=\"py-24 bg-[#FAFAFA]\">\r\n            <div className=\"container mx-auto px-6\">\r\n              <div className=\"flex justify-between items-end mb-12\">\r\n                <div>\r\n                  <h2 className=\"text-3xl font-bold mb-2\">Curated Selection</h2>\r\n                  <p className=\"text-gray-500 font-sans\">\r\n                    AI„ÅåÈ´ò„ÅèË©ï‰æ°„Åó„Åü„ÄÅ‰ªäË°å„Åè„Åπ„ÅçÂêçÂ∫ó\r\n                  </p>\r\n                </div>\r\n                <button className=\"text-[#E65100] font-sans font-medium hover:underline\">\r\n                  View All\r\n                </button>\r\n              </div>\r\n\r\n              {/* ÂπÖ„Åå300px‰ª•‰∏äÁ¢∫‰øù„Åß„Åç„ÇãÈôê„ÇäÊ®™„Å´‰∏¶„Åπ„ÄÅÁÑ°ÁêÜ„Å™„ÇâÊäò„ÇäËøî„ÅôË®≠ÂÆö */}\r\n              <div className=\"grid grid-cols-[repeat(auto-fit,minmax(300px,1fr))] gap-4\">\r\n                {FEATURED_PLACES.map((item) => (\r\n                  <ListingCard\r\n                    key={item.id}\r\n                    {...item}\r\n                    onClick={() => console.log(\"Clicked\", item.title)}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </>\r\n      )}\r\n\r\n      {/* „É™„Çπ„ÉàË°®Á§∫ÔºàÊ§úÁ¥¢ÁµêÊûúÔºâ */}\r\n      {viewState === \"LIST\" && (\r\n        <div className=\"pt-32 pb-24 min-h-screen bg-slate-50\">\r\n          <div className=\"container mx-auto px-6 mb-8\">\r\n            <div className=\"flex flex-col gap-6\">\r\n              <button\r\n                onClick={handleBack}\r\n                className=\"flex items-center gap-2 text-slate-500 hover:text-[#E65100] transition-colors w-fit font-medium\"\r\n              >\r\n                <ArrowLeft className=\"w-5 h-5\" />\r\n                Back to Home\r\n              </button>\r\n              <div className=\"w-full max-w-4xl mx-auto\">\r\n                <SearchInput\r\n                  onSearchStart={handleSearchStart}\r\n                  onSearchComplete={handleSearchComplete}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <PlaceList places={searchResults} onSelect={handlePlaceSelect} />\r\n        </div>\r\n      )}\r\n\r\n      {/* Ë©≥Á¥∞Ë°®Á§∫ÔºàÂàÜÊûêÁµêÊûúÔºâ */}\r\n      {viewState === \"DETAIL\" && place && (\r\n        <div className=\"pt-32 pb-24 container mx-auto px-6 animate-in fade-in duration-500\">\r\n          <button\r\n            onClick={handleBack}\r\n            className=\"flex items-center gap-2 text-slate-500 hover:text-[#E65100] transition-colors mb-6 font-medium\"\r\n          >\r\n            <ArrowLeft className=\"w-5 h-5\" />\r\n            Back to List\r\n          </button>\r\n          <AnalysisResult place={place} />\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default function Home() {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[#FAFAFA]\">\r\n        <div className=\"animate-pulse text-[#E65100]\">Loading...</div>\r\n      </div>\r\n    }>\r\n      <HomeContent />\r\n    </Suspense>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAKA;AAAA;AAAA;AAAA;;;AAhBA;;;;;;;;;;;AAkBA,uBAAuB;AACvB,2CAA2C;AAC3C,MAAM,kBAAkB;IACtB;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,QAAQ;QACR,OAAO;QACP,UACE;QACF,MAAM;YAAC;YAAM;YAAS;SAAO;IAC/B;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,QAAQ;QACR,OAAO;QACP,UACE;QACF,MAAM;YAAC;YAAQ;YAAO;SAAM;IAC9B;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,QAAQ;QACR,OAAO;QACP,UACE;QACF,MAAM;YAAC;YAAO;YAAQ;SAAQ;IAChC;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,QAAQ;QACR,OAAO;QACP,UACE;QACF,MAAM;YAAC;YAAW;YAAO;SAAQ;IACnC;CACD;AAID,SAAS;;IACP,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,eAAe,IAAA,wJAAe;IAEpC,kBAAkB;IAClB,MAAM,YAAY,AAAC,aAAa,GAAG,CAAC,WAAyB;IAC7D,MAAM,QAAQ,aAAa,GAAG,CAAC,QAAQ;IACvC,MAAM,UAAU,aAAa,GAAG,CAAC;IAEjC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAsB,EAAE;IAC1E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAe;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,yBAAyB;IACzB,IAAA,0KAAS;iCAAC;YACR,MAAM;mDAAY;oBAChB,IAAI,cAAc,UAAU,OAAO;wBACjC,WAAW;wBACX,IAAI;4BACF,MAAM,UAAU,MAAM,IAAA,mLAAY,EAAC;4BACnC,iBAAiB;wBACnB,EAAE,OAAO,OAAO;4BACd,QAAQ,KAAK,CAAC;wBAChB,SAAU;4BACR,WAAW;wBACb;oBACF,OAAO,IAAI,cAAc,YAAY,SAAS;wBAC5C,WAAW;wBACX,IAAI;4BACF,iCAAiC;4BACjC,qDAAqD;4BACrD,yCAAyC;4BACzC,MAAM,IAAA,uLAAgB,EAAC;wBACzB,EAAE,OAAO,OAAO;4BACd,QAAQ,KAAK,CAAC;wBAChB,SAAU;4BACR,WAAW;wBACb;oBACF,OAAO,IAAI,cAAc,QAAQ;wBAC/B,iBAAiB,EAAE;wBACnB,SAAS;oBACX;gBACF;;YAEA;QACF;gCAAG;QAAC;QAAW;QAAO;KAAQ;IAE9B,uBAAuB;IACvB,IAAA,0KAAS;iCAAC;YACR,IAAI,cAAc,YAAY,CAAC,SAAS;YAExC,MAAM,cAAc,IAAA,gLAAU,EAC5B,IAAA,yKAAG,EAAC,gJAAS,EAAE,UAAU;qDACzB,CAAC;oBACC,IAAI,IAAI,MAAM,IAAI;wBAChB,MAAM,OAAO,IAAI,IAAI;wBACrB,SAAS;4BAAE,GAAG,IAAI;4BAAE,IAAI,IAAI,EAAE;wBAAC;oBACjC;gBACF;;YAGF;yCAAO,IAAM;;QACf;gCAAG;QAAC;QAAW;KAAQ;IAEvB,WAAW;IACX,MAAM,oBAAoB;QACxB,WAAW;IACb;IAEA,MAAM,uBAAuB,OAAO;QAClC,aAAa;QACb,MAAM,SAAS,IAAI;QACnB,OAAO,GAAG,CAAC,QAAQ;QACnB,OAAO,GAAG,CAAC,KAAK;QAChB,OAAO,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,QAAQ,IAAI;IACtC;IAEA,MAAM,oBAAoB,OAAO;QAC/B,aAAa;QACb,MAAM,SAAS,IAAI;QACnB,OAAO,GAAG,CAAC,QAAQ;QACnB,OAAO,GAAG,CAAC,MAAM;QACjB,kCAAkC;QAClC,IAAI,OAAO,OAAO,GAAG,CAAC,KAAK;QAC3B,OAAO,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,QAAQ,IAAI;IACtC;IAEA,MAAM,YAAY;QAChB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,aAAa;QACjB,OAAO,IAAI;IACb;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BAEd,6LAAC;gBAAI,WAAW,CAAC,gGAAgG,EAAE,cAAc,SAAS,eAAe,kBAAkB;;kCACzK,6LAAC;wBACC,WAAU;wBACV,SAAS;kCACV;;;;;;kCAGD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAwD;;;;;;0CAGxE,6LAAC;gCAAK,WAAU;0CAAwD;;;;;;0CAGxE,6LAAC;gCAAK,WAAU;0CAAwD;;;;;;;;;;;;;;;;;;YAO3E,cAAc,wBACb;;kCACE,6LAAC;wBAAQ,WAAU;;0CAEjB,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCACC,KAAI;oCACJ,KAAI;oCACJ,WAAU;;;;;;;;;;;0CAKd,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;;oDAAwF;kEACjG,6LAAC;wDAAK,WAAU;kEAAiB;;;;;;oDAAS;kEAC7C,6LAAC;;;;;oDAAK;;;;;;;0DAGR,6LAAC;gDAAE,WAAU;0DAAwF;;;;;;;;;;;;kDAKvG,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC,qJAAW;4CACV,eAAe;4CACf,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;kCAO1B,6LAAC;wBAAQ,WAAU;kCACjB,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC,yNAAQ;oDAAC,WAAU;;;;;;;;;;;0DAEtB,6LAAC;gDAAG,WAAU;0DAAoB;;;;;;0DAClC,6LAAC;gDAAE,WAAU;;oDAAkD;kEAE7D,6LAAC;;;;;oDAAK;;;;;;;;;;;;;kDAIV,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC,gNAAK;oDAAC,WAAU;;;;;;;;;;;0DAEnB,6LAAC;gDAAG,WAAU;0DAAoB;;;;;;0DAClC,6LAAC;gDAAE,WAAU;;oDAAkD;kEAE7D,6LAAC;;;;;oDAAK;;;;;;;;;;;;;kDAIV,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC,mOAAU;oDAAC,WAAU;;;;;;;;;;;0DAExB,6LAAC;gDAAG,WAAU;0DAAoB;;;;;;0DAClC,6LAAC;gDAAE,WAAU;;oDAAkD;kEAE7D,6LAAC;;;;;oDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAShB,6LAAC;wBAAQ,WAAU;kCACjB,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAG,WAAU;8DAA0B;;;;;;8DACxC,6LAAC;oDAAE,WAAU;8DAA0B;;;;;;;;;;;;sDAIzC,6LAAC;4CAAO,WAAU;sDAAuD;;;;;;;;;;;;8CAM3E,6LAAC;oCAAI,WAAU;8CACZ,gBAAgB,GAAG,CAAC,CAAC,qBACpB,6LAAC,qJAAW;4CAET,GAAG,IAAI;4CACR,SAAS,IAAM,QAAQ,GAAG,CAAC,WAAW,KAAK,KAAK;2CAF3C,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;YAYzB,cAAc,wBACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS;oCACT,WAAU;;sDAEV,6LAAC,gOAAS;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CAGnC,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,qJAAW;wCACV,eAAe;wCACf,kBAAkB;;;;;;;;;;;;;;;;;;;;;;kCAK1B,6LAAC,6IAAS;wBAAC,QAAQ;wBAAe,UAAU;;;;;;;;;;;;YAK/C,cAAc,YAAY,uBACzB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,6LAAC,gOAAS;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAGnC,6LAAC,kJAAc;wBAAC,OAAO;;;;;;;;;;;;;;;;;;AAKjC;GAvQS;;QACQ,kJAAS;QACH,wJAAe;;;KAF7B;AAyQM,SAAS;IACtB,qBACE,6LAAC,yKAAQ;QAAC,wBACR,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BAA+B;;;;;;;;;;;kBAGhD,cAAA,6LAAC;;;;;;;;;;AAGP;MAVwB"}}]
}