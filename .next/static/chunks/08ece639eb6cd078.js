(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},57960,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,a=l(e),o=a[0],s=a[1],u=new i((o+s)*3/4-s),c=0,h=s>0?o-4:o;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(function(e,t,n){for(var i,a=[],o=t;o<n;o+=3)i=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}(e,o,o+16383>s?s:o+16383));return 1===i?a.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&a.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),i=r(783),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!s.isEncoding(i))throw TypeError("Unknown encoding: "+i);var a=0|d(n,i),l=o(a),u=l.write(n,i);return u!==a&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(j(e,SharedArrayBuffer)||e&&j(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return s.from(c,t,r);var p=function(e){if(s.isBuffer(e)){var t=0|f(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?o(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),o(e<0?0:0|f(e))}function h(e){for(var t=e.length<0?0:0|f(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(u(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)};function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function d(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return _(e).length;default:if(i)return n?-1:A(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var i,a,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=I[e[a]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,a=t,o=r,0===a&&o===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(a,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}(this,t,r);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var a;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(a=r*=1)!=a&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,s/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=r;a<s;a++)if(u(e,a)===u(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else -1!==c&&(a-=a-c),c=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var h=!0,f=0;f<l;f++)if(u(e,a+f)!==u(t,f)){h=!1;break}if(h)return a}return -1}s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(j(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),j(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(j(a,Uint8Array)&&(a=s.from(a)),!s.isBuffer(a))throw TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},s.byteLength=d,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(j(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,o=r-t,l=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r),h=0;h<l;++h)if(u[h]!==c[h]){a=u[h],o=c[h];break}return a<o?-1:+(o<a)},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)};function v(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:(192&(a=e[i+1]))==128&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=e[i+1],o=e[i+2],(192&a)==128&&(192&o)==128&&(l=(15&u)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],(192&a)==128&&(192&o)==128&&(192&s)==128&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}var f=n,d=f.length;if(d<=4096)return String.fromCharCode.apply(String,f);for(var p="",g=0;g<d;)p+=String.fromCharCode.apply(String,f.slice(g,g+=4096));return p}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,a){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function x(e,t,r,n,i,a){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,r,n,a){return t*=1,r>>>=0,a||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function S(e,t,r,n,a){return t*=1,r>>>=0,a||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,a,o,s,l,u,c,h,f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var d=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s,l=parseInt(t.substr(2*o,2),16);if((s=l)!=s)break;e[r+o]=l}return o}(this,e,t,r);case"utf8":case"utf-8":return i=t,a=r,T(A(e,this.length-i),this,i,a);case"ascii":return o=t,s=r,T(C(e),this,o,s);case"latin1":case"binary":return function(e,t,r,n){return T(C(t),e,r,n)}(this,e,t,r);case"base64":return l=t,u=r,T(_(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=r,T(function(e,t){for(var r,n,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,h);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},s.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var a=1,o=0;for(this[t]=255&e;++o<r&&(a*=256);)this[t+o]=e/a&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var a=r-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return S(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return S(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var a=i-1;a>=0;--a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,a=e.charCodeAt(0);("utf8"===n&&a<128||"latin1"===n)&&(e=a)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=s.isBuffer(e)?e:s.from(e,n),l=o.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%l]}return this};var O=/[^+/0-9A-Za-z-_]/g;function A(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function C(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function _(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function T(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var I=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+h],h+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=u}return(d?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,h=c>>1,f=5960464477539062e-23*(23===i),d=n?0:a-1,p=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=f/l:t+=f*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*l-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+d]=255&o,d+=p,o/=256,u-=8);e[r+d-p]|=128*g}}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},o=!0;try{n[e](r,r.exports,a),o=!1}finally{o&&delete i[e]}return r.exports}a.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=a(72)},95187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={callServer:function(){return a.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return o.findSourceMapURL}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(32120),o=e.r(92245),s=e.r(35326)},24798,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.debounce=function(e,t,{signal:r,edges:n}={}){let i,a=null,o=null!=n&&n.includes("leading"),s=null==n||n.includes("trailing"),l=()=>{null!==a&&(e.apply(i,a),i=void 0,a=null)},u=null,c=()=>{null!=u&&clearTimeout(u),u=setTimeout(()=>{u=null,s&&l(),h()},t)},h=()=>{null!==u&&(clearTimeout(u),u=null),i=void 0,a=null},f=function(...e){if(r?.aborted)return;i=this,a=e;let t=null==u;c(),o&&t&&l()};return f.schedule=c,f.cancel=h,f.flush=()=>{l()},r?.addEventListener("abort",h,{once:!0}),f}},96074,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(24798);r.debounce=function(e,t=0,r={}){let i;"object"!=typeof r&&(r={});let{leading:a=!1,trailing:o=!0,maxWait:s}=r,l=[,,];a&&(l[0]="leading"),o&&(l[1]="trailing");let u=null,c=n.debounce(function(...t){i=e.apply(this,t),u=null},t,{edges:l}),h=function(...t){return null!=s&&(null===u&&(u=Date.now()),Date.now()-u>=s)?(i=e.apply(this,t),u=Date.now(),c.cancel(),c.schedule(),i):(c.apply(this,t),i)};return h.cancel=c.cancel,h.flush=()=>(c.flush(),i),h}},46508,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(96074);r.throttle=function(e,t=0,r={}){let{leading:i=!0,trailing:a=!0}=r;return n.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},58723,(e,t,r)=>{t.exports=e.r(46508).throttle},78756,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isUnsafeProperty=function(e){return"__proto__"===e}},33858,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},96736,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},48018,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");let r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}},79232,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(48018),i=e.r(96736);r.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"==typeof e)return[e];e=n.toString(e);let t=[],r=e.length;if(0===r)return t;let a=0,o="",s="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),a++);a<r;){let n=e[a];s?"\\"===n&&a+1<r?o+=e[++a]:n===s?s="":o+=n:l?'"'===n||"'"===n?s=n:"]"===n?(l=!1,t.push(o),o=""):o+=n:"["===n?(l=!0,o&&(t.push(o),o="")):"."===n?o&&(t.push(o),o=""):o+=n,a++}return o&&t.push(o),t}},18915,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(78756),i=e.r(33858),a=e.r(96736),o=e.r(79232);r.get=function e(t,r,s){if(null==t)return s;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return s;let a=t[r];if(void 0===a)if(i.isDeepKey(r))return e(t,o.toPath(r),s);else return s;return a}case"number":case"symbol":{"number"==typeof r&&(r=a.toKey(r));let e=t[r];if(void 0===e)return s;return e}default:{if(Array.isArray(r)){var l=t,u=r,c=s;if(0===u.length)return c;let e=l;for(let t=0;t<u.length;t++){if(null==e||n.isUnsafeProperty(u[t]))return c;e=e[u[t]]}return void 0===e?c:e}if(r=Object.is(r?.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return s;let e=t[r];if(void 0===e)return s;return e}}}},92068,(e,t,r)=>{t.exports=e.r(18915).get},14595,(e,t,r)=>{"use strict";var n=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useSyncExternalStore,o=n.useRef,s=n.useEffect,l=n.useMemo,u=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,n,c){var h=o(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;var d=a(e,(h=l(function(){function e(e){if(!s){if(s=!0,a=e,e=n(e),void 0!==c&&f.hasValue){var t=f.value;if(c(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var r=n(e);return void 0!==c&&c(t,r)?(a=e,t):(a=e,o=r)}var a,o,s=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,c]))[0],h[1]);return s(function(){f.hasValue=!0,f.value=d},[d]),u(d),d}},13027,(e,t,r)=>{"use strict";t.exports=e.r(14595)},55838,(e,t,r)=>{"use strict";var n=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,o=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,c=n[1];return s(function(){i.value=r,i.getSnapshot=t,u(i)&&c({inst:i})},[e,r,t]),o(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,r)=>{"use strict";var n=e.r(71645),i=e.r(2239),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,s=n.useRef,l=n.useEffect,u=n.useMemo,c=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var h=s(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;var d=o(e,(h=u(function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(o=e,t):(o=e,s=r)}var o,s,l=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,i]))[0],h[1]);return l(function(){f.hasValue=!0,f.value=d},[d]),c(d),d}},30224,(e,t,r)=>{"use strict";t.exports=e.r(52822)},45403,(e,t,r)=>{"use strict";function n(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:4*(e!=e)}Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.compareValues=(e,t,r)=>{if(e!==t){let i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},9542,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}},38104,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(9542),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;r.isKey=function(e,t){return!Array.isArray(e)&&(!!("number"==typeof e||"boolean"==typeof e||null==e||n.isSymbol(e))||"string"==typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e))}},910,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(45403),i=e.r(38104),a=e.r(79232);r.orderBy=function(e,t,r,o){if(null==e)return[];r=o?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));let s=(e,t)=>{let r=e;for(let e=0;e<t.length&&null!=r;++e)r=r[t[e]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||i.isKey(e))?e:{key:e,path:a.toPath(e)});return e.map(e=>({original:e,criteria:l.map(t=>{var r,n;return r=t,null==(n=e)||null==r?n:"object"==typeof r&&"key"in r?Object.hasOwn(n,r.key)?n[r.key]:s(n,r.path):"function"==typeof r?r(n):Array.isArray(r)?s(n,r):"object"==typeof n?n[r]:n})})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){let a=n.compareValues(e.criteria[i],t.criteria[i],r[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},44647,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.flatten=function(e,t=1){let r=[],n=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){let o=e[a];Array.isArray(o)&&t<n?i(o,t+1):r.push(o)}};return i(e,0),r}},5257,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=/^(?:0|[1-9]\d*)$/;r.isIndex=function(e,t=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},70871,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},69642,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(70871);r.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&n.isLength(e.length)}},90820,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},23855,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},15111,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(5257),i=e.r(69642),a=e.r(90820),o=e.r(23855);r.isIterateeCall=function(e,t,r){return!!a.isObject(r)&&(!!("number"==typeof t&&i.isArrayLike(r)&&n.isIndex(t))&&t<r.length||"string"==typeof t&&t in r)&&o.eq(r[t],e)}},69955,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(910),i=e.r(44647),a=e.r(15111);r.sortBy=function(e,...t){let r=t.length;return r>1&&a.isIterateeCall(e,t[0],t[1])?t=[]:r>2&&a.isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),n.orderBy(e,i.flatten(t),["asc"])}},42342,(e,t,r)=>{t.exports=e.r(69955).sortBy},41015,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(9542);r.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},89793,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(41015);r.toFinite=function(e){return e?(e=n.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}},45264,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(15111),i=e.r(89793);r.range=function(e,t,r){r&&"number"!=typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),r=void 0===r?e<t?1:-1:i.toFinite(r);let a=Math.max(Math.ceil((t-e)/(r||1)),0),o=Array(a);for(let t=0;t<a;t++)o[t]=e,e+=r;return o}},66814,(e,t,r)=>{t.exports=e.r(45264).range},51655,(e,t,r)=>{!function(r){"use strict";var n,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a=!0,o="[DecimalError] ",s=o+"Invalid argument: ",l=o+"Exponent out of range: ",u=Math.floor,c=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=u(1286742750677284.5),d={};function p(e,t){var r,n,i,o,s,l,u,c,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),a?O(t,f):t;if(u=e.d,c=t.d,s=e.e,i=t.e,u=u.slice(),o=s-i){for(o<0?(n=u,o=-o,l=c.length):(n=c,i=s,l=u.length),o>(l=(s=Math.ceil(f/7))>l?s+1:l+1)&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((l=u.length)-(o=c.length)<0&&(o=l,n=c,c=u,u=n),r=0;o;)r=(u[--o]=u[o]+c[o]+r)/1e7|0,u[o]%=1e7;for(r&&(u.unshift(r),++i),l=u.length;0==u[--l];)u.pop();return t.d=u,t.e=i,a?O(t,f):t}function g(e,t,r){if(e!==~~e||e<t||e>r)throw Error(s+e)}function m(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=x(r)),a+=n;(r=7-(n=(o=e[t])+"").length)&&(a+=x(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}d.absoluteValue=d.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},d.comparedTo=d.cmp=function(e){var t,r,n,i;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,r=(n=this.d.length)<(i=e.d.length)?n:i;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return n===i?0:n>i^this.s<0?1:-1},d.decimalPlaces=d.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},d.dividedBy=d.div=function(e){return y(this,new this.constructor(e))},d.dividedToIntegerBy=d.idiv=function(e){var t=this.constructor;return O(y(this,new t(e),0,1),t.precision)},d.equals=d.eq=function(e){return!this.cmp(e)},d.exponent=function(){return b(this)},d.greaterThan=d.gt=function(e){return this.cmp(e)>0},d.greaterThanOrEqualTo=d.gte=function(e){return this.cmp(e)>=0},d.isInteger=d.isint=function(){return this.e>this.d.length-2},d.isNegative=d.isneg=function(){return this.s<0},d.isPositive=d.ispos=function(){return this.s>0},d.isZero=function(){return 0===this.s},d.lessThan=d.lt=function(e){return 0>this.cmp(e)},d.lessThanOrEqualTo=d.lte=function(e){return 1>this.cmp(e)},d.logarithm=d.log=function(e){var t,r=this.constructor,i=r.precision,s=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(n))throw Error(o+"NaN");if(this.s<1)throw Error(o+(this.s?"NaN":"-Infinity"));return this.eq(n)?new r(0):(a=!1,t=y(E(this,s),E(e,s),s),a=!0,O(t,i))},d.minus=d.sub=function(e){return e=new this.constructor(e),this.s==e.s?A(this,e):p(this,(e.s=-e.s,e))},d.modulo=d.mod=function(e){var t,r=this.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(o+"NaN");return this.s?(a=!1,t=y(this,e,0,1).times(e),a=!0,this.minus(t)):O(new r(this),n)},d.naturalExponential=d.exp=function(){return v(this)},d.naturalLogarithm=d.ln=function(){return E(this)},d.negated=d.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},d.plus=d.add=function(e){return e=new this.constructor(e),this.s==e.s?p(this,e):A(this,(e.s=-e.s,e))},d.precision=d.sd=function(e){var t,r,n;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(s+e);if(t=b(this)+1,r=7*(n=this.d.length-1)+1,n=this.d[n]){for(;n%10==0;n/=10)r--;for(n=this.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},d.squareRoot=d.sqrt=function(){var e,t,r,n,i,s,l,c=this.constructor;if(this.s<1){if(!this.s)return new c(0);throw Error(o+"NaN")}for(e=b(this),a=!1,0==(i=Math.sqrt(+this))||i==1/0?(((t=m(this.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),n=new c(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new c(i.toString()),i=l=(r=c.precision)+3;;)if(n=(s=n).plus(y(this,s,l+2)).times(.5),m(s.d).slice(0,l)===(t=m(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&"4999"==t){if(O(s,r+1,0),s.times(s).eq(this)){n=s;break}}else if("9999"!=t)break;l+=4}return a=!0,O(n,r)},d.times=d.mul=function(e){var t,r,n,i,o,s,l,u,c,h=this.constructor,f=this.d,d=(e=new h(e)).d;if(!this.s||!e.s)return new h(0);for(e.s*=this.s,r=this.e+e.e,(u=f.length)<(c=d.length)&&(o=f,f=d,d=o,s=u,u=c,c=s),o=[],n=s=u+c;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)l=o[i]+d[n]*f[i-n-1]+t,o[i--]=l%1e7|0,t=l/1e7|0;o[i]=(o[i]+t)%1e7|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,a?O(e,h.precision):e},d.toDecimalPlaces=d.todp=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(g(e,0,1e9),void 0===t?t=n.rounding:g(t,0,8),O(r,e+b(r)+1,t))},d.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=C(n,!0):(g(e,0,1e9),void 0===t?t=i.rounding:g(t,0,8),r=C(n=O(new i(n),e+1,t),!0,e+1)),r},d.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?C(this):(g(e,0,1e9),void 0===t?t=i.rounding:g(t,0,8),r=C((n=O(new i(this),e+b(this)+1,t)).abs(),!1,e+b(n)+1),this.isneg()&&!this.isZero()?"-"+r:r)},d.toInteger=d.toint=function(){var e=this.constructor;return O(new e(this),b(this)+1,e.rounding)},d.toNumber=function(){return+this},d.toPower=d.pow=function(e){var t,r,i,s,l,c,h=this,f=h.constructor,d=+(e=new f(e));if(!e.s)return new f(n);if(!(h=new f(h)).s){if(e.s<1)throw Error(o+"Infinity");return h}if(h.eq(n))return h;if(i=f.precision,e.eq(n))return O(h,i);if(c=(t=e.e)>=(r=e.d.length-1),l=h.s,c){if((r=d<0?-d:d)<=0x1fffffffffffff){for(s=new f(n),t=Math.ceil(i/7+4),a=!1;r%2&&_((s=s.times(h)).d,t),0!==(r=u(r/2));)_((h=h.times(h)).d,t);return a=!0,e.s<0?new f(n).div(s):O(s,i)}}else if(l<0)throw Error(o+"NaN");return l=l<0&&1&e.d[Math.max(t,r)]?-1:1,h.s=1,a=!1,s=e.times(E(h,i+12)),a=!0,(s=v(s)).s=l,s},d.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?(r=b(i),n=C(i,r<=a.toExpNeg||r>=a.toExpPos)):(g(e,1,1e9),void 0===t?t=a.rounding:g(t,0,8),r=b(i=O(new a(i),e,t)),n=C(i,e<=r||r<=a.toExpNeg,e)),n},d.toSignificantDigits=d.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(g(e,1,1e9),void 0===t?t=r.rounding:g(t,0,8)),O(new r(this),e,t)},d.toString=d.valueOf=d.val=d.toJSON=function(){var e=b(this),t=this.constructor;return C(this,e<=t.toExpNeg||e>=t.toExpPos)};var y=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%1e7|0,n=r/1e7|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=1e7*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s){var l,u,c,h,f,d,p,g,m,y,v,w,x,E,S,A,C,_,T=n.constructor,j=n.s==i.s?1:-1,I=n.d,k=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(o+"Division by zero");for(c=0,u=n.e-i.e,C=k.length,S=I.length,g=(p=new T(j)).d=[];k[c]==(I[c]||0);)++c;if(k[c]>(I[c]||0)&&--u,(w=null==a?a=T.precision:s?a+(b(n)-b(i))+1:a)<0)return new T(0);if(w=w/7+2|0,c=0,1==C)for(h=0,k=k[0],w++;(c<S||h)&&w--;c++)x=1e7*h+(I[c]||0),g[c]=x/k|0,h=x%k|0;else{for((h=1e7/(k[0]+1)|0)>1&&(k=e(k,h),I=e(I,h),C=k.length,S=I.length),E=C,y=(m=I.slice(0,C)).length;y<C;)m[y++]=0;(_=k.slice()).unshift(0),A=k[0],k[1]>=1e7/2&&++A;do h=0,(l=t(k,m,C,y))<0?(v=m[0],C!=y&&(v=1e7*v+(m[1]||0)),(h=v/A|0)>1?(h>=1e7&&(h=1e7-1),d=(f=e(k,h)).length,y=m.length,1==(l=t(f,m,d,y))&&(h--,r(f,C<d?_:k,d))):(0==h&&(l=h=1),f=k.slice()),(d=f.length)<y&&f.unshift(0),r(m,f,y),-1==l&&(y=m.length,(l=t(k,m,C,y))<1&&(h++,r(m,C<y?_:k,y))),y=m.length):0===l&&(h++,m=[0]),g[c++]=h,l&&m[0]?m[y++]=I[E]||0:(m=[I[E]],y=1);while((E++<S||void 0!==m[0])&&w--)}return g[0]||g.shift(),p.e=u,O(p,s?a+b(p)+1:a)}}();function v(e,t){var r,i,o,s,u,h=0,f=0,d=e.constructor,p=d.precision;if(b(e)>16)throw Error(l+b(e));if(!e.s)return new d(n);for(null==t?(a=!1,u=p):u=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(u+=Math.log(c(2,f))/Math.LN10*2+5|0,r=i=o=new d(n),d.precision=u;;){if(i=O(i.times(e),u),r=r.times(++h),m((s=o.plus(y(i,r,u))).d).slice(0,u)===m(o.d).slice(0,u)){for(;f--;)o=O(o.times(o),u);return d.precision=p,null==t?(a=!0,O(o,p)):o}o=s}}function b(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function w(e,t,r){if(t>e.LN10.sd())throw a=!0,r&&(e.precision=r),Error(o+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function x(e){for(var t="";e--;)t+="0";return t}function E(e,t){var r,i,s,l,u,c,h,f,d,p=1,g=e,v=g.d,x=g.constructor,S=x.precision;if(g.s<1)throw Error(o+(g.s?"NaN":"-Infinity"));if(g.eq(n))return new x(0);if(null==t?(a=!1,f=S):f=t,g.eq(10))return null==t&&(a=!0),w(x,f);if(x.precision=f+=10,i=(r=m(v)).charAt(0),!(15e14>Math.abs(l=b(g))))return h=w(x,f+2,S).times(l+""),g=E(new x(i+"."+r.slice(1)),f-10).plus(h),x.precision=S,null==t?(a=!0,O(g,S)):g;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=m((g=g.times(e)).d)).charAt(0),p++;for(l=b(g),i>1?(g=new x("0."+r),l++):g=new x(i+"."+r.slice(1)),c=u=g=y(g.minus(n),g.plus(n),f),d=O(g.times(g),f),s=3;;){if(u=O(u.times(d),f),m((h=c.plus(y(u,new x(s),f))).d).slice(0,f)===m(c.d).slice(0,f))return c=c.times(2),0!==l&&(c=c.plus(w(x,f+2,S).times(l+""))),c=y(c,new x(p),f),x.precision=S,null==t?(a=!0,O(c,S)):c;c=h,s+=2}}function S(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,e.e=u((r=r-n-1)/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),a&&(e.e>f||e.e<-f))throw Error(l+r)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,r){var n,i,o,s,h,d,p,g,m=e.d;for(s=1,o=m[0];o>=10;o/=10)s++;if((n=t-s)<0)n+=7,i=t,p=m[g=0];else{if((g=Math.ceil((n+1)/7))>=(o=m.length))return e;for(s=1,p=o=m[g];o>=10;o/=10)s++;n%=7,i=n-7+s}if(void 0!==r&&(h=p/(o=c(10,s-i-1))%10|0,d=t<0||void 0!==m[g+1]||p%o,d=r<4?(h||d)&&(0==r||r==(e.s<0?3:2)):h>5||5==h&&(4==r||d||6==r&&(n>0?i>0?p/c(10,s-i):0:m[g-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(o=b(e),m.length=1,t=t-o-1,m[0]=c(10,(7-t%7)%7),e.e=u(-t/7)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(0==n?(m.length=g,o=1,g--):(m.length=g+1,o=c(10,7-n),m[g]=i>0?(p/c(10,s-i)%c(10,i)|0)*o:0),d)for(;;)if(0==g){1e7==(m[0]+=o)&&(m[0]=1,++e.e);break}else{if(m[g]+=o,1e7!=m[g])break;m[g--]=0,o=1}for(n=m.length;0===m[--n];)m.pop();if(a&&(e.e>f||e.e<-f))throw Error(l+b(e));return e}function A(e,t){var r,n,i,o,s,l,u,c,h,f,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),a?O(t,p):t;if(u=e.d,f=t.d,n=t.e,c=e.e,u=u.slice(),s=c-n){for((h=s<0)?(r=u,s=-s,l=f.length):(r=f,n=c,l=u.length),s>(i=Math.max(Math.ceil(p/7),l)+2)&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for((h=(i=u.length)<(l=f.length))&&(l=i),i=0;i<l;i++)if(u[i]!=f[i]){h=u[i]<f[i];break}s=0}for(h&&(r=u,u=f,f=r,t.s=-t.s),l=u.length,i=f.length-l;i>0;--i)u[l++]=0;for(i=f.length;i>s;){if(u[--i]<f[i]){for(o=i;o&&0===u[--o];)u[o]=1e7-1;--u[o],u[i]+=1e7}u[i]-=f[i]}for(;0===u[--l];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(t.d=u,t.e=n,a?O(t,p):t):new d(0)}function C(e,t,r){var n,i=b(e),a=m(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+x(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+x(-i-1)+a,r&&(n=r-o)>0&&(a+=x(n))):i>=o?(a+=x(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+x(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=x(n))),e.s<0?"-"+a:a}function _(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!=typeof e)throw Error(o+"Object expected");var t,r,n,i=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]]))if(u(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(s+r+": "+n);if(void 0!==(n=e[r="LN10"]))if(n==Math.LN10)this[r]=new this(n);else throw Error(s+r+": "+n);return this}if((i=function e(t){var r,n,i;function a(e){if(!(this instanceof a))return new a(e);if(this.constructor=a,e instanceof a){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(s+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return S(this,e.toString())}if("string"!=typeof e)throw Error(s+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,h.test(e))S(this,e);else throw Error(s+e)}if(a.prototype=d,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=T,void 0===t&&(t={}),t)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","LN10"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(i)).default=i.Decimal=i,n=new i(1),"function"==typeof define&&define.amd){let t;e.r,void 0!==(t=i)&&e.v(t)}else t.exports?t.exports=i:(r||(r="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),r.Decimal=i)}(e.e)},78492,(e,t,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var s=new o(r,n||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,o=Array(a);n<a;n++)o[n]=r[n].fn;return o},u.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,a),!0;case 6:return c.fn.call(c.context,t,r,n,a,o),!0}for(u=1,l=Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!l)for(f=1,l=Array(h-1);f<h;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,a);else{for(var s=0,u=[],c=o.length;s<c;s++)(o[s].fn!==t||n&&!o[s].once||r&&o[s].context!==r)&&u.push(o[s]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,t.exports=u},67700,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.maxBy=function(e,t){if(0===e.length)return;let r=e[0],n=t(r);for(let i=1;i<e.length;i++){let a=e[i],o=t(a);o>n&&(n=o,r=a)}return r}},36074,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.identity=function(e){return e}},77473,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(18915);r.property=function(e){return function(t){return n.get(t,e)}}},75234,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}},44695,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(90820),i=e.r(75234),a=e.r(23855);function o(e,t,r,u){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return s(e,t,r,n);if(t instanceof Map){var a=e,o=t,u=r,c=n;if(0===o.size)return!0;if(!(a instanceof Map))return!1;for(let[e,t]of o.entries())if(!1===u(a.get(e),t,e,a,o,c))return!1;return!0}if(t instanceof Set)return l(e,t,r,n);let h=Object.keys(t);if(null==e)return 0===h.length;if(0===h.length)return!0;if(n?.has(t))return n.get(t)===e;n?.set(t,e);try{for(let a=0;a<h.length;a++){let o=h[a];if(!i.isPrimitive(e)&&!(o in e)||void 0===t[o]&&void 0!==e[o]||null===t[o]&&null!==e[o]||!r(e[o],t[o],o,e,t,n))return!1}return!0}finally{n?.delete(t)}}(e,t,r,u);case"function":if(Object.keys(t).length>0)return o(e,{...t},r,u);return a.eq(e,t);default:if(!n.isObject(e))return a.eq(e,t);if("string"==typeof t)return""===t;return!0}}function s(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;let i=new Set;for(let a=0;a<t.length;a++){let o=t[a],s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let u=e[l],c=!1;if(r(u,o,a,e,t,n)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function l(e,t,r,n){return 0===t.size||e instanceof Set&&s([...e],[...t],r,n)}r.isMatchWith=function e(t,r,n){return"function"!=typeof n?e(t,r,()=>void 0):o(t,r,function e(t,r,i,a,s,l){let u=n(t,r,i,a,s,l);return void 0!==u?!!u:o(t,r,e,l)},new Map)},r.isSetMatch=l},3450,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(44695);r.isMatch=function(e,t){return n.isMatchWith(e,t,()=>void 0)}},9866,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},23678,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},55813,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.argumentsTag="[object Arguments]",r.arrayBufferTag="[object ArrayBuffer]",r.arrayTag="[object Array]",r.bigInt64ArrayTag="[object BigInt64Array]",r.bigUint64ArrayTag="[object BigUint64Array]",r.booleanTag="[object Boolean]",r.dataViewTag="[object DataView]",r.dateTag="[object Date]",r.errorTag="[object Error]",r.float32ArrayTag="[object Float32Array]",r.float64ArrayTag="[object Float64Array]",r.functionTag="[object Function]",r.int16ArrayTag="[object Int16Array]",r.int32ArrayTag="[object Int32Array]",r.int8ArrayTag="[object Int8Array]",r.mapTag="[object Map]",r.numberTag="[object Number]",r.objectTag="[object Object]",r.regexpTag="[object RegExp]",r.setTag="[object Set]",r.stringTag="[object String]",r.symbolTag="[object Symbol]",r.uint16ArrayTag="[object Uint16Array]",r.uint32ArrayTag="[object Uint32Array]",r.uint8ArrayTag="[object Uint8Array]",r.uint8ClampedArrayTag="[object Uint8ClampedArray]"},55424,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},92348,(e,t,r)=>{"use strict";var n=e.i(57960);Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let i=e.r(9866),a=e.r(23678),o=e.r(55813),s=e.r(75234),l=e.r(55424);function u(e,t,r,i=new Map,h){let f=h?.(e,t,r,i);if(void 0!==f)return f;if(s.isPrimitive(e))return e;if(i.has(e))return i.get(e);if(Array.isArray(e)){let t=Array(e.length);i.set(e,t);for(let n=0;n<e.length;n++)t[n]=u(e[n],n,r,i,h);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[n,a]of(i.set(e,t),e))t.set(n,u(a,n,r,i,h));return t}if(e instanceof Set){let t=new Set;for(let n of(i.set(e,t),e))t.add(u(n,void 0,r,i,h));return t}if(void 0!==n.Buffer&&n.Buffer.isBuffer(e))return e.subarray();if(l.isTypedArray(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);i.set(e,t);for(let n=0;n<e.length;n++)t[n]=u(e[n],n,r,i,h);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return i.set(e,t),c(t,e,r,i,h),t}if("undefined"!=typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return i.set(e,t),c(t,e,r,i,h),t}if("undefined"!=typeof Blob&&e instanceof Blob){let t=new Blob([e],{type:e.type});return i.set(e,t),c(t,e,r,i,h),t}if(e instanceof Error){let t=new e.constructor;return i.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,r,i,h),t}if(e instanceof Boolean){let t=new Boolean(e.valueOf());return i.set(e,t),c(t,e,r,i,h),t}if(e instanceof Number){let t=new Number(e.valueOf());return i.set(e,t),c(t,e,r,i,h),t}if(e instanceof String){let t=new String(e.valueOf());return i.set(e,t),c(t,e,r,i,h),t}if("object"==typeof e&&function(e){switch(a.getTag(e)){case o.argumentsTag:case o.arrayTag:case o.arrayBufferTag:case o.dataViewTag:case o.booleanTag:case o.dateTag:case o.float32ArrayTag:case o.float64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.mapTag:case o.numberTag:case o.objectTag:case o.regexpTag:case o.setTag:case o.stringTag:case o.symbolTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return i.set(e,t),c(t,e,r,i,h),t}return e}function c(e,t,r=e,n,a){let o=[...Object.keys(t),...i.getSymbols(t)];for(let i=0;i<o.length;i++){let s=o[i],l=Object.getOwnPropertyDescriptor(e,s);(null==l||l.writable)&&(e[s]=u(t[s],s,r,n,a))}}r.cloneDeepWith=function(e,t){return u(e,void 0,e,new Map,t)},r.cloneDeepWithImpl=u,r.copyProperties=c},99510,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(92348);r.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},67284,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(3450),i=e.r(99510);r.matches=function(e){return e=i.cloneDeep(e),t=>n.isMatch(t,e)}},68110,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(92348),i=e.r(55813);r.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,a,o,s)=>{let l=t?.(r,a,o,s);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{let t=new e.constructor(e?.valueOf());return n.copyProperties(t,e),t}case i.argumentsTag:{let t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},93141,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(68110);r.cloneDeep=function(e){return n.cloneDeepWith(e)}},17858,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(23678);r.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===n.getTag(e)}},56518,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(33858),i=e.r(5257),a=e.r(17858),o=e.r(79232);r.has=function(e,t){let r;if(0===(r=Array.isArray(t)?t:"string"==typeof t&&n.isDeepKey(t)&&e?.[t]==null?o.toPath(t):[t]).length)return!1;let s=e;for(let e=0;e<r.length;e++){let t=r[e];if((null==s||!Object.hasOwn(s,t))&&!((Array.isArray(s)||a.isArguments(s))&&i.isIndex(t)&&t<s.length))return!1;s=s[t]}return!0}},40656,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(3450),i=e.r(96736),a=e.r(93141),o=e.r(18915),s=e.r(56518);r.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(r){let i=o.get(r,e);return void 0===i?s.has(r,e):void 0===t?void 0===i:n.isMatch(i,t)}}},27519,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(36074),i=e.r(77473),a=e.r(67284),o=e.r(40656);r.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":if(Array.isArray(e)&&2===e.length)return o.matchesProperty(e[0],e[1]);return a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},8578,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(67700),i=e.r(36074),a=e.r(27519);r.maxBy=function(e,t){if(null!=e)return n.maxBy(Array.from(e),a.iteratee(t??i.identity))}},13058,(e,t,r)=>{t.exports=e.r(8578).maxBy},42169,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.minBy=function(e,t){if(0===e.length)return;let r=e[0],n=t(r);for(let i=1;i<e.length;i++){let a=e[i],o=t(a);o<n&&(n=o,r=a)}return r}},13717,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(42169),i=e.r(36074),a=e.r(27519);r.minBy=function(e,t){if(null!=e)return n.minBy(Array.from(e),a.iteratee(t??i.identity))}},68398,(e,t,r)=>{t.exports=e.r(13717).minBy},43210,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.last=function(e){return e[e.length-1]}},75576,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},5518,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(43210),i=e.r(75576),a=e.r(69642);r.last=function(e){if(a.isArrayLike(e))return n.last(i.toArray(e))}},4178,(e,t,r)=>{t.exports=e.r(5518).last},52210,(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case o:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case y:case m:case u:return e;default:return t}}case a:return t}}}function S(e){return E(e)===f}r.AsyncMode=h,r.ConcurrentMode=f,r.ContextConsumer=c,r.ContextProvider=u,r.Element=i,r.ForwardRef=d,r.Fragment=o,r.Lazy=y,r.Memo=m,r.Portal=a,r.Profiler=l,r.StrictMode=s,r.Suspense=p,r.isAsyncMode=function(e){return S(e)||E(e)===h},r.isConcurrentMode=S,r.isContextConsumer=function(e){return E(e)===c},r.isContextProvider=function(e){return E(e)===u},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},r.isForwardRef=function(e){return E(e)===d},r.isFragment=function(e){return E(e)===o},r.isLazy=function(e){return E(e)===y},r.isMemo=function(e){return E(e)===m},r.isPortal=function(e){return E(e)===a},r.isProfiler=function(e){return E(e)===l},r.isStrictMode=function(e){return E(e)===s},r.isSuspense=function(e){return E(e)===p},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===l||e===s||e===p||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===v)},r.typeOf=E},79684,(e,t,r)=>{"use strict";t.exports=e.r(52210)},52683,e=>{"use strict";let t,r,n,i;var a,o,s,l,u,c,h,f,d,p,g,m,y,v,b,w,x,E,S,O,A,C,_,T,j,I,k,N=e.i(43476),P=e.i(71645),M=e.i(18566),D=e.i(47167),R=e.i(57960);let L=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},F=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){let a=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else{let a=e[r++],o=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")},U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=i>>2,c=(3&i)<<4|o>>4,h=(15&o)<<2|l>>6,f=63&l;!s&&(f=64,a||(h=64)),n.push(r[u],r[c],r[h],r[f])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(L(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):F(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let i=r[e.charAt(t++)],a=t<e.length?r[e.charAt(t)]:0,o=++t<e.length?r[e.charAt(t)]:64,s=++t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==a||null==o||null==s)throw new V;let l=i<<2|a>>4;if(n.push(l),64!==o){let e=a<<4&240|o>>2;if(n.push(e),64!==s){let e=o<<6&192|s;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class V extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let B=function(e){let t=L(e);return U.encodeByteArray(t,!0)},z=function(e){return B(e).replace(/\./g,"")},$=function(e){try{return U.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},q=()=>{try{return("undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g).__FIREBASE_DEFAULTS__||(()=>{if(void 0===D.default||void 0===D.default.env)return;let e=D.default.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)})()||(()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&$(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},K=()=>q()?.config;class H{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function G(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W(e){return(await fetch(e,{credentials:"include"})).ok}let Y={},Q=!1;function X(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}class J extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,J.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){var r,n;let i=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],s=o?(r=o,n=i,r.replace(ee,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`})):"Error",l=`${this.serviceName}: ${s} (${a}).`;return new J(a,l,i)}}let ee=/\{\$([^}]+)}/g;function et(e,t){if(e===t)return!0;let r=Object.keys(e),n=Object.keys(t);for(let i of r){if(!n.includes(i))return!1;let r=e[i],a=t[i];if(er(r)&&er(a)){if(!et(r,a))return!1}else if(r!==a)return!1}for(let e of n)if(!r.includes(e))return!1;return!0}function er(e){return null!==e&&"object"==typeof e}function en(e){return e&&e._delegate?e._delegate:e}class ei{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let ea="[DEFAULT]";class eo{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new H;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(r)return null;throw e}if(r)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ea})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),n=this.onInitCallbacks.get(r)??new Set;n.add(e),this.onInitCallbacks.set(r,n);let i=this.instances.get(r);return i&&e(i,r),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let n of r)try{n(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var r;let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e)===ea?void 0:r,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class es{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new eo(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}let el=[];(a=s||(s={}))[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT";let eu={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},ec=s.INFO,eh={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},ef=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=eh[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ed{constructor(e){this.name=e,this._logLevel=ec,this._logHandler=ef,this._userLogHandler=null,el.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in s))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?eu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...e),this._logHandler(this,s.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...e),this._logHandler(this,s.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,s.INFO,...e),this._logHandler(this,s.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,s.WARN,...e),this._logHandler(this,s.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...e),this._logHandler(this,s.ERROR,...e)}}let ep=new WeakMap,eg=new WeakMap,em=new WeakMap,ey=new WeakMap,ev=new WeakMap,eb={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return eg.get(e);if("objectStoreNames"===t)return e.objectStoreNames||em.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ew(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ew(e){if(e instanceof IDBRequest){let t;return(t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(ew(e.result)),n()},a=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)})).then(t=>{t instanceof IDBCursor&&ep.set(t,e)}).catch(()=>{}),ev.set(t,e),t}if(ey.has(e))return ey.get(e);let n=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(ex(this),t),ew(ep.get(this))}:function(...t){return ew(e.apply(ex(this),t))}:function(t,...r){let n=e.call(ex(this),t,...r);return em.set(n,t.sort?t.sort():[t]),ew(n)};return e instanceof IDBTransaction&&function(e){if(eg.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),n()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});eg.set(e,t)}(e),(t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,eb):e}(e);return n!==e&&(ey.set(e,n),ev.set(n,e)),n}let ex=e=>ev.get(e),eE=["get","getKey","getAll","getAllKeys","count"],eS=["put","add","delete","clear"],eO=new Map;function eA(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eO.get(t))return eO.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=eS.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||eE.includes(r)))return;let a=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),o=a.store;return n&&(o=o.index(t.shift())),(await Promise.all([o[r](...t),i&&a.done]))[0]};return eO.set(t,a),a}eb={...i=eb,get:(e,t,r)=>eA(e,t)||i.get(e,t,r),has:(e,t)=>!!eA(e,t)||i.has(e,t)};class eC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{let t;if(t=e.getComponent(),t?.type!=="VERSION")return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let e_="@firebase/app",eT="0.14.6",ej=new ed("@firebase/app"),eI="[DEFAULT]",ek={[e_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},eN=new Map,eP=new Map,eM=new Map;function eD(e,t){try{e.container.addComponent(t)}catch(r){ej.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function eR(e,t){e.container.addOrOverwriteComponent(t)}function eL(e){let t=e.name;if(eM.has(t))return ej.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(eM.set(t,e),eN.values()))eD(r,e);for(let t of eP.values())eD(t,e);return!0}function eF(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function eU(e,t,r=eI){eF(e,t).clearInstance(r)}function eV(e){return void 0!==e.options}function eB(e){return!eV(e)&&("authIdToken"in e||"appCheckToken"in e||"releaseOnDeref"in e||"automaticDataCollectionEnabled"in e)}function ez(e){return null!=e&&void 0!==e.settings}function e$(){eM.clear()}let eq=new Z("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class eK{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eq.create("app-deleted",{appName:this._name})}}function eH(e,t){let r=$(e.split(".")[1]);null===r?console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`):void 0===JSON.parse(r).exp?console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`):1e3*JSON.parse(r).exp-new Date().getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class eG extends eK{constructor(e,t,r,n){const i=void 0===t.automaticDataCollectionEnabled||t.automaticDataCollectionEnabled,a={name:r,automaticDataCollectionEnabled:i};void 0!==e.apiKey?super(e,a,n):super(e.options,a,n),this._serverConfig={automaticDataCollectionEnabled:i,...t},this._serverConfig.authIdToken&&eH(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&eH(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,e0(e_,eT,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){eZ(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw eq.create("server-app-deleted")}}let eW="12.6.0";function eY(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let n={name:eI,automaticDataCollectionEnabled:!0,...t},i=n.name;if("string"!=typeof i||!i)throw eq.create("bad-app-name",{appName:String(i)});if(r||(r=K()),!r)throw eq.create("no-options");let a=eN.get(i);if(a)if(et(r,a.options)&&et(n,a.config))return a;else throw eq.create("duplicate-app",{appName:i});let o=new es(i);for(let e of eM.values())o.addComponent(e);let s=new eK(r,n,o);return eN.set(i,s),s}function eQ(e,t={}){let r;if(("undefined"!=typeof window||X())&&!X())throw eq.create("invalid-server-app-environment");let n=t||{};if(e&&(eV(e)?r=e.options:eB(e)?n=e:r=e),void 0===n.automaticDataCollectionEnabled&&(n.automaticDataCollectionEnabled=!0),r||(r=K()),!r)throw eq.create("no-options");let i={...n,...r};if(void 0!==i.releaseOnDeref&&delete i.releaseOnDeref,void 0!==n.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw eq.create("finalization-registry-not-supported",{});let a=""+[...JSON.stringify(i)].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0),o=eP.get(a);if(o)return o.incRefCount(n.releaseOnDeref),o;let s=new es(a);for(let e of eM.values())s.addComponent(e);let l=new eG(r,n,a,s);return eP.set(a,l),l}function eX(e=eI){let t=eN.get(e);if(!t&&e===eI&&K())return eY();if(!t)throw eq.create("no-app",{appName:e});return t}function eJ(){return Array.from(eN.values())}async function eZ(e){let t=!1,r=e.name;eN.has(r)?(t=!0,eN.delete(r)):eP.has(r)&&0>=e.decRefCount()&&(eP.delete(r),t=!0),t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function e0(e,t,r){let n=ek[e]??e;r&&(n+=`-${r}`);let i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${n}" with version "${t}":`];i&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ej.warn(e.join(" "));return}eL(new ei(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}function e1(e,t){if(null!==e&&"function"!=typeof e)throw eq.create("invalid-log-argument");for(let r of el){let n=null;t&&t.level&&(n=eu[t.level]),null===e?r.userLogHandler=null:r.userLogHandler=(t,r,...i)=>{let a=i.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");r>=(n??t.logLevel)&&e({level:s[r].toLowerCase(),message:a,args:i,type:t.name})}}}function e2(e){el.forEach(t=>{t.setLogLevel(e)})}let e5="firebase-heartbeat-store",e6=null;function e3(){return e6||(e6=(function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){let o=indexedDB.open(e,1),s=ew(o);return n&&o.addEventListener("upgradeneeded",e=>{n(ew(o.result),e.oldVersion,e.newVersion,ew(o.transaction),e)}),r&&o.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(e5)}catch(e){console.warn(e)}}}).catch(e=>{throw eq.create("idb-open",{originalErrorMessage:e.message})})),e6}async function e4(e){try{let t=(await e3()).transaction(e5),r=await t.objectStore(e5).get(e7(e));return await t.done,r}catch(e){if(e instanceof J)ej.warn(e.message);else{let t=eq.create("idb-get",{originalErrorMessage:e?.message});ej.warn(t.message)}}}async function e8(e,t){try{let r=(await e3()).transaction(e5,"readwrite"),n=r.objectStore(e5);await n.put(t,e7(e)),await r.done}catch(e){if(e instanceof J)ej.warn(e.message);else{let t=eq.create("idb-set",{originalErrorMessage:e?.message});ej.warn(t.message)}}}function e7(e){return`${e.name}!${e.options.appId}`}class e9{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=te();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ej.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=te(),{heartbeatsToSend:t,unsentEntries:r}=function(e,t=1024){let r=[],n=e.slice();for(let i of e){let e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),tr(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),tr(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=z(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(e){return ej.warn(e),""}}}function te(){return new Date().toISOString().substring(0,10)}class tt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await e4(this.app);return e?.heartbeats?e:{heartbeats:[]}}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return e8(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return e8(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function tr(e){return z(JSON.stringify({version:2,heartbeats:e})).length}eL(new ei("platform-logger",e=>new eC(e),"PRIVATE")),eL(new ei("heartbeat",e=>new e9(e),"PRIVATE")),e0(e_,eT,""),e0(e_,eT,"esm2020"),e0("fire-js",""),e.s(["SDK_VERSION",()=>eW,"_DEFAULT_ENTRY_NAME",()=>eI,"_addComponent",()=>eD,"_addOrOverwriteComponent",()=>eR,"_apps",()=>eN,"_clearComponents",()=>e$,"_components",()=>eM,"_getProvider",()=>eF,"_isFirebaseApp",()=>eV,"_isFirebaseServerApp",()=>ez,"_isFirebaseServerAppSettings",()=>eB,"_registerComponent",()=>eL,"_removeServiceInstance",()=>eU,"_serverApps",()=>eP,"deleteApp",()=>eZ,"getApp",()=>eX,"getApps",()=>eJ,"initializeApp",()=>eY,"initializeServerApp",()=>eQ,"onLog",()=>e1,"registerVersion",()=>e0,"setLogLevel",()=>e2],92953);var tn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:e.g,ti={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}var t=function(){this.blockSize=-1};function r(){}function n(e,t,r){r||(r=0);let n=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;i<16;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^r&(i^a))+n[0]+0xd76aa478|0,o=a+(i^(t=r+(o<<7|o>>>25))&(r^i))+n[1]+0xe8c7b756|0,o=i+(r^(a=t+(o<<12|o>>>20))&(t^r))+n[2]+0x242070db|0,o=r+(t^(i=a+(o<<17|o>>>15))&(a^t))+n[3]+0xc1bdceee|0,o=t+(a^(r=i+(o<<22|o>>>10))&(i^a))+n[4]+0xf57c0faf|0,o=a+(i^(t=r+(o<<7|o>>>25))&(r^i))+n[5]+0x4787c62a|0,o=i+(r^(a=t+(o<<12|o>>>20))&(t^r))+n[6]+0xa8304613|0,o=r+(t^(i=a+(o<<17|o>>>15))&(a^t))+n[7]+0xfd469501|0,o=t+(a^(r=i+(o<<22|o>>>10))&(i^a))+n[8]+0x698098d8|0,o=a+(i^(t=r+(o<<7|o>>>25))&(r^i))+n[9]+0x8b44f7af|0,o=i+(r^(a=t+(o<<12|o>>>20))&(t^r))+n[10]+0xffff5bb1|0,o=r+(t^(i=a+(o<<17|o>>>15))&(a^t))+n[11]+0x895cd7be|0,o=t+(a^(r=i+(o<<22|o>>>10))&(i^a))+n[12]+0x6b901122|0,o=a+(i^(t=r+(o<<7|o>>>25))&(r^i))+n[13]+0xfd987193|0,o=i+(r^(a=t+(o<<12|o>>>20))&(t^r))+n[14]+0xa679438e|0,o=r+(t^(i=a+(o<<17|o>>>15))&(a^t))+n[15]+0x49b40821|0,r=i+(o<<22|o>>>10),o=t+(i^a&(r^i))+n[1]+0xf61e2562|0,t=r+(o<<5|o>>>27),o=a+(r^i&(t^r))+n[6]+0xc040b340|0,a=t+(o<<9|o>>>23),o=i+(t^r&(a^t))+n[11]+0x265e5a51|0,i=a+(o<<14|o>>>18),o=r+(a^t&(i^a))+n[0]+0xe9b6c7aa|0,r=i+(o<<20|o>>>12),o=t+(i^a&(r^i))+n[5]+0xd62f105d|0,t=r+(o<<5|o>>>27),o=a+(r^i&(t^r))+n[10]+0x2441453|0,a=t+(o<<9|o>>>23),o=i+(t^r&(a^t))+n[15]+0xd8a1e681|0,i=a+(o<<14|o>>>18),o=r+(a^t&(i^a))+n[4]+0xe7d3fbc8|0,r=i+(o<<20|o>>>12),o=t+(i^a&(r^i))+n[9]+0x21e1cde6|0,t=r+(o<<5|o>>>27),o=a+(r^i&(t^r))+n[14]+0xc33707d6|0,a=t+(o<<9|o>>>23),o=i+(t^r&(a^t))+n[3]+0xf4d50d87|0,i=a+(o<<14|o>>>18),o=r+(a^t&(i^a))+n[8]+0x455a14ed|0,r=i+(o<<20|o>>>12),o=t+(i^a&(r^i))+n[13]+0xa9e3e905|0,t=r+(o<<5|o>>>27),o=a+(r^i&(t^r))+n[2]+0xfcefa3f8|0,a=t+(o<<9|o>>>23),o=i+(t^r&(a^t))+n[7]+0x676f02d9|0,i=a+(o<<14|o>>>18),o=r+(a^t&(i^a))+n[12]+0x8d2a4c8a|0,o=t+((r=i+(o<<20|o>>>12))^i^a)+n[5]+0xfffa3942|0,o=a+((t=r+(o<<4|o>>>28))^r^i)+n[8]+0x8771f681|0,o=i+((a=t+(o<<11|o>>>21))^t^r)+n[11]+0x6d9d6122|0,o=r+((i=a+(o<<16|o>>>16))^a^t)+n[14]+0xfde5380c|0,o=t+((r=i+(o<<23|o>>>9))^i^a)+n[1]+0xa4beea44|0,o=a+((t=r+(o<<4|o>>>28))^r^i)+n[4]+0x4bdecfa9|0,o=i+((a=t+(o<<11|o>>>21))^t^r)+n[7]+0xf6bb4b60|0,o=r+((i=a+(o<<16|o>>>16))^a^t)+n[10]+0xbebfbc70|0,o=t+((r=i+(o<<23|o>>>9))^i^a)+n[13]+0x289b7ec6|0,o=a+((t=r+(o<<4|o>>>28))^r^i)+n[0]+0xeaa127fa|0,o=i+((a=t+(o<<11|o>>>21))^t^r)+n[3]+0xd4ef3085|0,o=r+((i=a+(o<<16|o>>>16))^a^t)+n[6]+0x4881d05|0,o=t+((r=i+(o<<23|o>>>9))^i^a)+n[9]+0xd9d4d039|0,o=a+((t=r+(o<<4|o>>>28))^r^i)+n[12]+0xe6db99e5|0,o=i+((a=t+(o<<11|o>>>21))^t^r)+n[15]+0x1fa27cf8|0,o=r+((i=a+(o<<16|o>>>16))^a^t)+n[2]+0xc4ac5665|0,r=i+(o<<23|o>>>9),o=t+(i^(r|~a))+n[0]+0xf4292244|0,t=r+(o<<6|o>>>26),o=a+(r^(t|~i))+n[7]+0x432aff97|0,a=t+(o<<10|o>>>22),o=i+(t^(a|~r))+n[14]+0xab9423a7|0,i=a+(o<<15|o>>>17),o=r+(a^(i|~t))+n[5]+0xfc93a039|0,r=i+(o<<21|o>>>11),o=t+(i^(r|~a))+n[12]+0x655b59c3|0,t=r+(o<<6|o>>>26),o=a+(r^(t|~i))+n[3]+0x8f0ccc92|0,a=t+(o<<10|o>>>22),o=i+(t^(a|~r))+n[10]+0xffeff47d|0,i=a+(o<<15|o>>>17),o=r+(a^(i|~t))+n[1]+0x85845dd1|0,r=i+(o<<21|o>>>11),o=t+(i^(r|~a))+n[8]+0x6fa87e4f|0,t=r+(o<<6|o>>>26),o=a+(r^(t|~i))+n[15]+0xfe2ce6e0|0,a=t+(o<<10|o>>>22),o=i+(t^(a|~r))+n[6]+0xa3014314|0,i=a+(o<<15|o>>>17),o=r+(a^(i|~t))+n[13]+0x4e0811a1|0,r=i+(o<<21|o>>>11),o=t+(i^(r|~a))+n[4]+0xf7537e82|0,t=r+(o<<6|o>>>26),o=a+(r^(t|~i))+n[11]+0xbd3af235|0,a=t+(o<<10|o>>>22),o=i+(t^(a|~r))+n[2]+0x2ad7d2bb|0,i=a+(o<<15|o>>>17),o=r+(a^(i|~t))+n[9]+0xeb86d391|0,e.g[0]=e.g[0]+t|0,e.g[1]=e.g[1]+(i+(o<<21|o>>>11))|0,e.g[2]=e.g[2]+i|0,e.g[3]=e.g[3]+a|0}function i(e,t){this.h=t;let r=[],n=!0;for(let i=e.length-1;i>=0;i--){let a=0|e[i];n&&a==t||(r[i]=a,n=!1)}this.g=r}r.prototype=t.prototype,e.F=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.D=function(e,r,n){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[r].apply(e,i)},e.prototype.u=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.v=function(e,t){void 0===t&&(t=e.length);let r=t-this.blockSize,i=this.C,a=this.h,o=0;for(;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},e.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var r=e.length-8;r<e.length;++r)e[r]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,r=0;r<4;++r)for(let n=0;n<32;n+=8)e[t++]=this.g[r]>>>n&255;return e};var a,o={};function s(e){var t;return -128<=e&&e<128?(t=function(e){return new i([0|e],e<0?-1:0)},Object.prototype.hasOwnProperty.call(o,e)?o[e]:o[e]=t(e)):new i([0|e],e<0?-1:0)}function c(e){if(isNaN(e)||!isFinite(e))return h;if(e<0)return m(c(-e));let t=[],r=1;for(let n=0;e>=r;n++)t[n]=e/r|0,r*=0x100000000;return new i(t,0)}var h=s(0),f=s(1),d=s(0x1000000);function p(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function g(e){return -1==e.h}function m(e){let t=e.g.length,r=[];for(let n=0;n<t;n++)r[n]=~e.g[n];return new i(r,~e.h).add(f)}function y(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function b(e,t){this.g=e,this.h=t}function w(e,t){if(p(t))throw Error("division by zero");if(p(e))return new b(h,h);if(g(e))return t=w(m(e),t),new b(m(t.g),m(t.h));if(g(t))return t=w(e,m(t)),new b(m(t.g),t.h);if(e.g.length>30){if(g(e)||g(t))throw Error("slowDivide_ only works with positive integers.");for(var r=f,n=t;0>=n.l(e);)r=x(r),n=x(n);var i=E(r,1),a=E(n,1);for(n=E(n,2),r=E(r,2);!p(n);){var o=a.add(n);0>=o.l(e)&&(i=i.add(r),a=o),n=E(n,1),r=E(r,1)}return t=y(e,i.j(t)),new b(i,t)}for(i=h;e.l(t)>=0;){for(n=(n=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))<=48?1:Math.pow(2,n-48),o=(a=c(r)).j(t);g(o)||o.l(e)>0;)r-=n,o=(a=c(r)).j(t);p(a)&&(a=f),i=i.add(a),e=y(e,o)}return new b(i,e)}function x(e){let t=e.g.length+1,r=[];for(let n=0;n<t;n++)r[n]=e.i(n)<<1|e.i(n-1)>>>31;return new i(r,e.h)}function E(e,t){let r=t>>5;t%=32;let n=e.g.length-r,a=[];for(let i=0;i<n;i++)a[i]=t>0?e.i(i+r)>>>t|e.i(i+r+1)<<32-t:e.i(i+r);return new i(a,e.h)}(a=i.prototype).m=function(){if(g(this))return-m(this).m();let e=0,t=1;for(let r=0;r<this.g.length;r++){let n=this.i(r);e+=(n>=0?n:0x100000000+n)*t,t*=0x100000000}return e},a.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(p(this))return"0";if(g(this))return"-"+m(this).toString(e);let t=c(Math.pow(e,6));var r=this;let n="";for(;;){let i=w(r,t).g,a=(((r=y(r,i.j(t))).g.length>0?r.g[0]:r.h)>>>0).toString(e);if(p(r=i))return a+n;for(;a.length<6;)a="0"+a;n=a+n}},a.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},a.l=function(e){return g(e=y(this,e))?-1:+!p(e)},a.abs=function(){return g(this)?m(this):this},a.add=function(e){let t=Math.max(this.g.length,e.g.length),r=[],n=0;for(let i=0;i<=t;i++){let t=n+(65535&this.i(i))+(65535&e.i(i)),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);n=a>>>16,t&=65535,a&=65535,r[i]=a<<16|t}return new i(r,-0x80000000&r[r.length-1]?-1:0)},a.j=function(e){if(p(this)||p(e))return h;if(g(this))return g(e)?m(this).j(m(e)):m(m(this).j(e));if(g(e))return m(this.j(m(e)));if(0>this.l(d)&&0>e.l(d))return c(this.m()*e.m());let t=this.g.length+e.g.length,r=[];for(var n=0;n<2*t;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(let t=0;t<e.g.length;t++){let i=this.i(n)>>>16,a=65535&this.i(n),o=e.i(t)>>>16,s=65535&e.i(t);r[2*n+2*t]+=a*s,v(r,2*n+2*t),r[2*n+2*t+1]+=i*s,v(r,2*n+2*t+1),r[2*n+2*t+1]+=a*o,v(r,2*n+2*t+1),r[2*n+2*t+2]+=i*o,v(r,2*n+2*t+2)}for(e=0;e<t;e++)r[e]=r[2*e+1]<<16|r[2*e];for(e=t;e<2*t;e++)r[e]=0;return new i(r,0)},a.B=function(e){return w(this,e).h},a.and=function(e){let t=Math.max(this.g.length,e.g.length),r=[];for(let n=0;n<t;n++)r[n]=this.i(n)&e.i(n);return new i(r,this.h&e.h)},a.or=function(e){let t=Math.max(this.g.length,e.g.length),r=[];for(let n=0;n<t;n++)r[n]=this.i(n)|e.i(n);return new i(r,this.h|e.h)},a.xor=function(e){let t=Math.max(this.g.length,e.g.length),r=[];for(let n=0;n<t;n++)r[n]=this.i(n)^e.i(n);return new i(r,this.h^e.h)},e.prototype.digest=e.prototype.A,e.prototype.reset=e.prototype.u,e.prototype.update=e.prototype.v,u=ti.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if((r=r||10)<2||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return m(e(t.substring(1),r));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');let n=c(Math.pow(r,8)),i=h;for(let e=0;e<t.length;e+=8){var a=Math.min(8,t.length-e);let o=parseInt(t.substring(e,e+a),r);a<8?(a=c(Math.pow(r,a)),i=i.j(a).add(c(o))):i=(i=i.j(n)).add(c(o))}return i},l=ti.Integer=i}).apply(void 0!==tn?tn:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ta="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:e.g,to={};(function(){var e,t,r=Object.defineProperty,n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ta&&ta];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function i(e,t){if(t)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(t=t(a=i[e=e[e.length-1]]))!=a&&null!=t&&r(i,e,{configurable:!0,writable:!0,value:t})}}i("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(e){return e||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push([t,e[t]]);return r}});var a=a||{},o=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function l(e,t,r){return e.call.apply(e.bind,arguments)}function u(e,t,r){return(u=l).apply(null,arguments)}function v(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function b(e,t){function r(){}r.prototype=t.prototype,e.Z=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Ob=function(e,r,n){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[r].apply(e,i)}}var w="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function x(e){let t=e.length;if(t>0){let r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function E(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];var r=typeof n;if("array"==(r="object"!=r?r:n?Array.isArray(n)?"array":r:"null")||"object"==r&&"number"==typeof n.length){r=e.length||0;let t=n.length||0;e.length=r+t;for(let i=0;i<t;i++)e[r+i]=n[i]}else e.push(n)}}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new O,e=>e.reset());class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let A,C=!1,_=new class{constructor(){this.h=this.g=null}add(e,t){let r=S.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},T=()=>{let e=Promise.resolve(void 0);A=()=>{e.then(j)}};function j(){let e;for(var t;e=null,_.g&&(e=_.g,_.g=_.g.next,_.g||(_.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){o.setTimeout(()=>{throw e},0)}(e)}S.j(t),S.h<100&&(S.h++,t.next=S.g,S.g=t)}C=!1}function I(){this.u=this.u,this.C=this.C}function k(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},k.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(e){}return e}();function P(e){return/^[\s\xa0]*$/.test(e)}function M(e,t){k.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}b(M,k),M.prototype.init=function(e,t){let r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement)),this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&M.Z.h.call(this)},M.prototype.h=function(){M.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var D="closure_listenable_"+(1e6*Math.random()|0),R=0;function L(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=i,this.key=++R,this.da=this.fa=!1}function F(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e,t,r){for(let n in e)t.call(r,e[n],n,e)}function V(e){let t={};for(let r in e)t[r]=e[r];return t}let B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(e,t){let r,n;for(let t=1;t<arguments.length;t++){for(r in n=arguments[t])e[r]=n[r];for(let t=0;t<B.length;t++)r=B[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function $(e){this.src=e,this.g={},this.h=0}function q(e,t){let r=t.type;if(r in e.g){var n,i=e.g[r],a=Array.prototype.indexOf.call(i,t,void 0);(n=a>=0)&&Array.prototype.splice.call(i,a,1),n&&(F(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function K(e,t,r,n){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&!!r==a.capture&&a.ha==n)return i}return -1}$.prototype.add=function(e,t,r,n,i){let a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);let o=K(e,t,n,i);return o>-1?(t=e[o],r||(t.fa=!1)):((t=new L(t,this.src,a,!!n,i)).fa=r,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),G={};function W(e,t,r,n,i,a){if(!t)throw Error("Invalid event type");let o=s(i)?!!i.capture:!!i,l=J(e);if(l||(e[H]=l=new $(e)),(r=l.add(t,r,n,o,a)).proxy)return r;if(n=function e(t){return X.call(e.src,e.listener,t)},r.proxy=n,n.src=e,n.listener=r,e.addEventListener)N||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(Q(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function Y(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[D])q(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(Q(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=J(t))?(q(r,e),0==r.h&&(r.src=null,t[H]=null)):F(e)}}}function Q(e){return e in G?G[e]:G[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new M(t,this);let r=e.listener,n=e.ha||e.src;e.fa&&Y(e),e=r.call(n,t)}return e}function J(e){return(e=e[H])instanceof $?e:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(e){return"function"==typeof e?e:(e[Z]||(e[Z]=function(t){return e.handleEvent(t)}),e[Z])}function et(){I.call(this),this.i=new $(this),this.M=this,this.G=null}function er(e,t){let r,n;var i,a=e.G;if(a)for(i=[];a;a=a.G)i.push(a);if(e=e.M,a=t.type||t,"string"==typeof t)t=new k(t,e);else if(t instanceof k)t.target=t.target||e;else{var o=t;z(t=new k(a,e),o)}if(o=!0,i)for(n=i.length-1;n>=0;n--)o=en(r=t.g=i[n],a,!0,t)&&o;if(o=en(r=t.g=e,a,!0,t)&&o,o=en(r,a,!1,t)&&o,i)for(n=0;n<i.length;n++)o=en(r=t.g=i[n],a,!1,t)&&o}function en(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==r){let t=o.listener,r=o.ha||o.src;o.fa&&q(e.i,o),i=!1!==t.call(r,n)&&i}}return i&&!n.defaultPrevented}b(et,I),et.prototype[D]=!0,et.prototype.removeEventListener=function(e,t,r,n){!function e(t,r,n,i,a){if(Array.isArray(r))for(var o=0;o<r.length;o++)e(t,r[o],n,i,a);else(i=s(i)?!!i.capture:!!i,n=ee(n),t&&t[D])?(t=t.i,(o=String(r).toString())in t.g&&(n=K(r=t.g[o],n,i,a))>-1&&(F(r[n]),Array.prototype.splice.call(r,n,1),0==r.length&&(delete t.g[o],t.h--))):t&&(t=J(t))&&(r=t.g[r.toString()],t=-1,r&&(t=K(r,n,i,a)),(n=t>-1?r[t]:null)&&Y(n))}(this,e,t,r,n)},et.prototype.N=function(){if(et.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let r=e.g[t];for(let e=0;e<r.length;e++)F(r[e]);delete e.g[t],e.h--}}this.G=null},et.prototype.J=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},et.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};class ei extends I{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=function(e,t){if("function"!=typeof e)if(e&&"function"==typeof e.handleEvent)e=u(e.handleEvent,e);else throw Error("Invalid listener argument");return Number(t)>0x7fffffff?-1:o.setTimeout(e,t||0)}(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let r=t.h;t.h=null,t.m.apply(null,r)}(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(e){I.call(this),this.h=e,this.g={}}b(ea,I);var eo=[];function es(e){U(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}ea.prototype.N=function(){ea.Z.N.call(this),es(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var el=o.JSON.stringify,eu=o.JSON.parse,ec=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function eh(){}function ef(){}var ed={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ep(){k.call(this,"d")}function eg(){k.call(this,"c")}b(ep,k),b(eg,k);var em={},ey=null;function ev(){return ey=ey||new et}function eb(e){k.call(this,em.Ia,e)}function ew(e){let t=ev();er(t,new eb(t))}function ex(e,t){k.call(this,em.STAT_EVENT,e),this.stat=t}function eE(e){let t=ev();er(t,new ex(t,e))}function eS(e,t){k.call(this,em.Ja,e),this.size=t}function eO(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function eA(){this.g=!0}function eC(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var r=a[e];if(!(r.length<2)){var n=r[1];if(Array.isArray(n)&&!(n.length<1)){var i=n[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<n.length;e++)n[e]=""}}}}return el(a)}catch(e){return t}}(e,r)+(n?" "+n:"")})}em.Ia="serverreachability",b(eb,k),em.STAT_EVENT="statevent",b(ex,k),em.Ja="timingevent",b(eS,k),eA.prototype.ua=function(){this.g=!1},eA.prototype.info=function(){};var e_={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},eT={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function ej(){}function eI(e){return encodeURIComponent(String(e))}function ek(e,t,r,n){this.j=e,this.i=t,this.l=r,this.S=n||1,this.V=new ea(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new eN}function eN(){this.i=null,this.g="",this.h=!1}b(ej,eh),ej.prototype.g=function(){return new XMLHttpRequest},e=new ej;var eP={},eM={};function eD(e,t,r){e.M=1,e.A=e3(e0(t)),e.u=r,e.R=!0,eR(e,null)}function eR(e,t){e.F=Date.now(),eF(e),e.B=e0(e.A);var r,n,i,a,o,l,c=e.B,h=e.S;Array.isArray(h)||(h=[String(h)]),th(c.i,"t",h),e.C=0,c=e.j.L,e.h=new eN,e.g=tX(e.j,c?t:null,!e.u),e.P>0&&(e.O=new ei(u(e.Y,e,e.g),e.P)),t=e.V,c=e.g,h=e.ba;var f="readystatechange";Array.isArray(f)||(f&&(eo[0]=f.toString()),f=eo);for(let e=0;e<f.length;e++){let r=function e(t,r,n,i,a){if(i&&i.once)return function e(t,r,n,i,a){if(Array.isArray(r)){for(let o=0;o<r.length;o++)e(t,r[o],n,i,a);return null}return n=ee(n),t&&t[D]?t.K(r,n,s(i)?!!i.capture:!!i,a):W(t,r,n,!0,i,a)}(t,r,n,i,a);if(Array.isArray(r)){for(let o=0;o<r.length;o++)e(t,r[o],n,i,a);return null}return n=ee(n),t&&t[D]?t.J(r,n,s(i)?!!i.capture:!!i,a):W(t,r,n,!1,i,a)}(c,f[e],h||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}t=e.J?V(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ew(),r=e.i,n=e.v,i=e.B,a=e.l,o=e.S,l=e.u,r.info(function(){if(r.g)if(l){var e="",t=l.split("&");for(let r=0;r<t.length;r++){var s=t[r].split("=");if(s.length>1){let t=s[0];s=s[1];let r=t.split("_");e=r.length>=2&&"type"==r[1]?e+(t+"=")+s+"&":e+(t+"=redacted&")}}}else e=null;else e=l;return"XMLHTTP REQ ("+a+") [attempt "+o+"]: "+n+"\n"+i+"\n"+e})}function eL(e){return!!e.g&&"GET"==e.v&&2!=e.M&&e.j.Aa}function eF(e){e.T=Date.now()+e.H,eU(e,e.H)}function eU(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=eO(u(e.aa,e),t)}function eV(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function eB(e){0==e.j.I||e.K||tH(e.j,e)}function ez(e){eV(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,es(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function e$(e,t){try{var r=e.j;if(0!=r.I&&(r.g==e||eW(r.h,e))){if(!e.L&&eW(r.h,e)&&3==r.I){try{var n=r.Ba.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!r.v){if(r.g)if(r.g.F+3e3<e.F)tK(r),tD(r);else break e;tz(r),eE(18)}}else r.xa=i[1],0<r.xa-r.K&&i[2]<37500&&r.F&&0==r.A&&!r.C&&(r.C=eO(u(r.Va,r),6e3));1>=eG(r.h)&&r.ta&&(r.ta=void 0)}else tW(r,11)}else if((e.L||r.g==e)&&tK(r),!P(t))for(i=r.Ba.g.parse(t),t=0;t<i.length;t++){let s=i[t],l=s[0];if(!(l<=r.K))if(r.K=l,s=s[1],2==r.I)if("c"==s[0]){r.M=s[1],r.ba=s[2];let t=s[3];null!=t&&(r.ka=t,r.j.info("VER="+r.ka));let i=s[4];null!=i&&(r.za=i,r.j.info("SVER="+r.za));let l=s[5];null!=l&&"number"==typeof l&&l>0&&(r.O=n=1.5*l,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=n.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(eY(a,a.h),a.h=null))}if(n.G){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.wa=e,e6(n.J,n.G,e))}}if(r.I=3,r.l&&r.l.ra(),r.aa&&(r.T=Date.now()-e.F,r.j.info("Handshake RTT: "+r.T+"ms")),(n=r).na=tQ(n,n.L?n.ba:null,n.W),e.L){eQ(n.h,e);var o=n.O;o&&(e.H=o),e.D&&(eV(e),eF(e)),n.g=e}else tB(n);r.i.length>0&&tL(r)}else"stop"!=s[0]&&"close"!=s[0]||tW(r,7);else 3==r.I&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?tW(r,7):tM(r):"noop"!=s[0]&&r.l&&r.l.qa(s),r.A=0)}}ew(4)}catch(e){}}ek.prototype.ba=function(e){e=e.target;let t=this.O;t&&3==tI(e)?t.j():this.Y(e)},ek.prototype.Y=function(e){try{if(e==this.g)e:{let d=tI(this.g),p=this.g.ya(),g=this.g.ca();if(!(d<3)&&(3!=d||this.g&&(this.h.h||this.g.la()||tk(this.g)))){this.K||4!=d||7==p||(8==p||g<=0?ew(3):ew(2)),eV(this);var t=this.g.ca();this.X=t;var r=function(e){if(!eL(e))return e.g.la();let t=tk(e.g);if(""===t)return"";let r="",n=t.length,i=4==tI(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return ez(e),eB(e),"";e.h.i=new o.TextDecoder}for(let a=0;a<n;a++)e.h.h=!0,r+=e.h.i.decode(t[a],{stream:!(i&&a==n-1)});return t.length=0,e.h.g+=r,e.C=0,e.h.g}(this);if(this.o=200==t,n=this.i,i=this.v,a=this.B,s=this.l,l=this.S,n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+i+"\n"+a+"\n"+d+" "+t}),this.o){if(this.U&&!this.L){t:{if(this.g){var n,i,a,s,l,u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(u)){var h=u;break t}}h=null}if(e=h)eC(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,e$(this,e);else{this.o=!1,this.m=3,eE(12),ez(this),eB(this);break e}}if(this.R){let t;for(e=!0;!this.K&&this.C<r.length;)if((t=function(e,t){var r=e.C,n=t.indexOf("\n",r);return -1==n?eM:isNaN(r=Number(t.substring(r,n)))?eP:(n+=1)+r>t.length?eM:(t=t.slice(n,n+r),e.C=n+r,t)}(this,r))==eM){4==d&&(this.m=4,eE(14),e=!1),eC(this.i,this.l,null,"[Incomplete Response]");break}else if(t==eP){this.m=4,eE(15),eC(this.i,this.l,r,"[Invalid Chunk]"),e=!1;break}else eC(this.i,this.l,t,null),e$(this,t);if(eL(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=r.length||this.h.h||(this.m=1,eE(16),e=!1),this.o=this.o&&e,e){if(r.length>0&&!this.W){this.W=!0;var f=this.j;f.g==this&&f.aa&&!f.P&&(f.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),t$(f),f.P=!0,eE(11))}}else eC(this.i,this.l,r,"[Invalid Chunked Response]"),ez(this),eB(this)}else eC(this.i,this.l,r,null),e$(this,r);4==d&&ez(this),this.o&&!this.K&&(4==d?tH(this.j,this):(this.o=!1,eF(this)))}else(function(e){let t={};e=(e.g&&tI(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(P(e[n]))continue;var r=function(e){var t=1;e=e.split(":");let r=[];for(;t>0&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}(e[n]);let i=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();let a=t[i]||[];t[i]=a,a.push(r)}var n=function(e){return e.join(", ")};for(let e in t)n.call(void 0,t[e],e,t)})(this.g),400==t&&r.indexOf("Unknown SID")>0?(this.m=3,eE(12)):(this.m=0,eE(13)),ez(this),eB(this)}}}catch(e){}finally{}},ek.prototype.cancel=function(){this.K=!0,ez(this)},ek.prototype.aa=function(){var e,t;this.D=null;let r=Date.now();r-this.T>=0?(e=this.i,t=this.B,e.info(function(){return"TIMEOUT: "+t}),2!=this.M&&(ew(),eE(17)),ez(this),this.m=2,eB(this)):eU(this,this.T-r)};var eq=class{constructor(e,t){this.g=e,this.map=t}};function eK(e){this.l=e||10,e=o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eH(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eG(e){return e.h?1:e.g?e.g.size:0}function eW(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function eY(e,t){e.g?e.g.add(t):e.h=t}function eQ(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function eX(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let r of e.g.values())t=t.concat(r.G);return t}return x(e.i)}eK.prototype.cancel=function(){if(this.i=eX(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var eJ=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eZ(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof eZ?(this.l=e.l,e1(this,e.j),this.o=e.o,this.g=e.g,e2(this,e.u),this.h=e.h,e5(this,tf(e.i)),this.m=e.m):e&&(t=String(e).match(eJ))?(this.l=!1,e1(this,t[1]||"",!0),this.o=e4(t[2]||""),this.g=e4(t[3]||"",!0),e2(this,t[4]),this.h=e4(t[5]||"",!0),e5(this,t[6]||"",!0),this.m=e4(t[7]||"")):(this.l=!1,this.i=new ti(null,this.l))}function e0(e){return new eZ(e)}function e1(e,t,r){e.j=r?e4(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function e2(e,t){if(t){if(isNaN(t=Number(t))||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function e5(e,t,r){var n,i;t instanceof ti?(e.i=t,n=e.i,(i=e.l)&&!n.j&&(ts(n),n.i=null,n.g.forEach(function(e,t){let r=t.toLowerCase();t!=r&&(tl(this,t),th(this,r,e))},n)),n.j=i):(r||(t=e8(t,tr)),e.i=new ti(t,e.l))}function e6(e,t,r){e.i.set(t,r)}function e3(e){return e6(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function e4(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function e8(e,t,r){return"string"==typeof e?(e=encodeURI(e).replace(t,e7),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function e7(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}eZ.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(e8(t,e9,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(e8(t,e9,!0),"@"),e.push(eI(r).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.u)&&e.push(":",String(r))),(r=this.h)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(e8(r,"/"==r.charAt(0)?tt:te,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",e8(r,tn)),e.join("")},eZ.prototype.resolve=function(e){let t=e0(this),r=!!e.j;r?e1(t,e.j):r=!!e.o,r?t.o=e.o:r=!!e.g,r?t.g=e.g:r=null!=e.u;var n=e.h;if(r)e2(t,e.u);else if(r=!!e.h){if("/"!=n.charAt(0))if(this.g&&!this.h)n="/"+n;else{var i=t.h.lastIndexOf("/");-1!=i&&(n=t.h.slice(0,i+1)+n)}if(".."==(i=n)||"."==i)n="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){n=0==i.lastIndexOf("/",0),i=i.split("/");let e=[];for(let t=0;t<i.length;){let r=i[t++];"."==r?n&&t==i.length&&e.push(""):".."==r?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),n&&t==i.length&&e.push("")):(e.push(r),n=!0)}n=e.join("/")}else n=i}return r?t.h=n:r=""!==e.i.toString(),r?e5(t,tf(e.i)):r=!!e.m,r&&(t.m=e.m),t};var e9=/[#\/\?@]/g,te=/[#\?:]/g,tt=/[#\?]/g,tr=/[#\?@]/g,tn=/#/g;function ti(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ts(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let r=0;r<e.length;r++){let n=e[r].indexOf("="),i,a=null;n>=0?(i=e[r].substring(0,n),a=e[r].substring(n+1)):i=e[r],t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function tl(e,t){ts(e),t=td(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tu(e,t){return ts(e),t=td(e,t),e.g.has(t)}function tc(e,t){ts(e);let r=[];if("string"==typeof t)tu(e,t)&&(r=r.concat(e.g.get(td(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)r=r.concat(e[t]);return r}function th(e,t,r){tl(e,t),r.length>0&&(e.i=null,e.g.set(td(e,t),x(r)),e.h+=r.length)}function tf(e){let t=new ti;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function td(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tp(e,t,r,n,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),n(r)}catch(e){}}function tg(){this.g=new ec}function tm(e){this.i=e.Sb||null,this.h=e.ab||!1}function ty(e,t){et.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function tv(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function tb(e){e.readyState=4,e.l=null,e.j=null,e.B=null,tw(e)}function tw(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tx(e){let t="";return U(e,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function tE(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=tx(r),"string"==typeof e?null!=r&&eI(r):e6(e,t,r))}function tS(e){et.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(t=ti.prototype).add=function(e,t){ts(this),this.i=null,e=td(this,e);let r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},t.forEach=function(e,t){ts(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},t.set=function(e,t){return ts(this),this.i=null,tu(this,e=td(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&(e=tc(this,e)).length>0?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(let n=0;n<t.length;n++){var r=t[n];let i=eI(r);r=tc(this,r);for(let t=0;t<r.length;t++){let n=i;""!==r[t]&&(n+="="+eI(r[t])),e.push(n)}}return this.i=e.join("&")},b(tm,eh),tm.prototype.g=function(){return new ty(this.i,this.h)},b(ty,et),(t=ty.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,tw(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,tb(this)),this.readyState=0},t.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tw(this)),this.g&&(this.readyState=3,tw(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tv(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},t.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tb(this):tw(this),3==this.readyState&&tv(this)}},t.Oa=function(e){this.g&&(this.response=this.responseText=e,tb(this))},t.Na=function(e){this.g&&(this.response=e,tb(this))},t.ga=function(){this.g&&tb(this)},t.setRequestHeader=function(e,t){this.A.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var r=t.next();!r.done;)e.push((r=r.value)[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(ty.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),b(tS,et);var tO=/^https?$/i,tA=["POST","PUT"];function tC(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,t_(e),tj(e)}function t_(e){e.A||(e.A=!0,er(e,"complete"),er(e,"error"))}function tT(e){if(e.h&&void 0!==a){if(e.v&&4==tI(e))setTimeout(e.Ca.bind(e),0);else if(er(e,"readystatechange"),4==tI(e)){e.h=!1;try{let a=e.ca();switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,r,n=!0;break;default:n=!1}if(!(t=n)){if(r=0===a){let t=String(e.D).match(eJ)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!tO.test(t?t.toLowerCase():"")}t=r}if(t)er(e,"complete"),er(e,"success");else{e.o=6;try{var i=tI(e)>2?e.g.statusText:""}catch(e){i=""}e.l=i+" ["+e.ca()+"]",t_(e)}}finally{tj(e)}}}}function tj(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);let r=e.g;e.g=null,t||er(e,"ready");try{r.onreadystatechange=null}catch(e){}}}function tI(e){return e.g?e.g.readyState:0}function tk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tN(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function tP(e){this.za=0,this.i=[],this.j=new eA,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tN("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tN("baseRetryDelayMs",5e3,e),this.Za=tN("retryDelaySeedMs",1e4,e),this.Ta=tN("forwardChannelMaxRetries",2,e),this.va=tN("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new eK(e&&e.concurrentRequestLimit),this.Ba=new tg,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function tM(e){if(tR(e),3==e.I){var t=e.V++,r=e0(e.J);if(e6(r,"SID",e.M),e6(r,"RID",t),e6(r,"TYPE","terminate"),tU(e,r),(t=new ek(e,e.j,t)).M=2,t.A=e3(e0(r)),r=!1,o.navigator&&o.navigator.sendBeacon)try{r=o.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!r&&o.Image&&((new Image).src=t.A,r=!0),r||(t.g=tX(t.j,null),t.g.ea(t.A)),t.F=Date.now(),eF(t)}tY(e)}function tD(e){e.g&&(t$(e),e.g.cancel(),e.g=null)}function tR(e){tD(e),e.v&&(o.clearTimeout(e.v),e.v=null),tK(e),e.h.cancel(),e.m&&("number"==typeof e.m&&o.clearTimeout(e.m),e.m=null)}function tL(e){if(!eH(e.h)&&!e.m){e.m=!0;var t=e.Ea;A||T(),C||(A(),C=!0),_.add(t,e),e.D=0}}function tF(e,t){var r;r=t?t.l:e.V++;let n=e0(e.J);e6(n,"SID",e.M),e6(n,"RID",r),e6(n,"AID",e.K),tU(e,n),e.u&&e.o&&tE(n,e.u,e.o),r=new ek(e,e.j,r,e.D+1),null===e.u&&(r.J=e.o),t&&(e.i=t.G.concat(e.i)),t=tV(e,r,1e3),r.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),eY(e.h,r),eD(r,n,t)}function tU(e,t){e.H&&U(e.H,function(e,r){e6(t,r,e)}),e.l&&U({},function(e,r){e6(t,r,e)})}function tV(e,t,r){r=Math.min(e.i.length,r);let n=e.l?u(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+r];-1==t?r>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<r;u++){var a=i[u].g;let r=i[u].map;if((a-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{a="req"+a+"_";try{var o=r instanceof Map?r:Object.entries(r);for(let[t,r]of o){let n=r;s(r)&&(n=el(r)),e.push(a+t+"="+encodeURIComponent(n))}}catch(t){throw e.push(a+"type="+encodeURIComponent("_badmap")),t}}catch(e){n&&n(r)}}if(l){o=e.join("&");break e}}o=void 0}return t.G=e=e.i.splice(0,r),o}function tB(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;A||T(),C||(A(),C=!0),_.add(t,e),e.A=0}}function tz(e){return!e.g&&!e.v&&!(e.A>=3)&&(e.Y++,e.v=eO(u(e.Da,e),tG(e,e.A)),e.A++,!0)}function t$(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function tq(e){e.g=new ek(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=e0(e.na);e6(t,"RID","rpc"),e6(t,"SID",e.M),e6(t,"AID",e.K),e6(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&e6(t,"TO",e.ia),e6(t,"TYPE","xmlhttp"),tU(e,t),e.u&&e.o&&tE(t,e.u,e.o),e.O&&(e.g.H=e.O);var r=e.g;e=e.ba,r.M=1,r.A=e3(e0(t)),r.u=null,r.R=!0,eR(r,e)}function tK(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function tH(e,t){var r,n=null;if(e.g==t){tK(e),t$(e),e.g=null;var i=2}else{if(!eW(e.h,t))return;n=t.G,eQ(e.h,t),i=1}if(0!=e.I){if(t.o)if(1==i){n=t.u?t.u.length:0,t=Date.now()-t.F;var a=e.D;er(i=ev(),new eS(i,n)),tL(e)}else tB(e);else if(3==(a=t.m)||0==a&&t.X>0||!(1==i&&(r=t,!(eG(e.h)>=e.h.j-!!e.m)&&(e.m?(e.i=r.G.concat(e.i),!0):1!=e.I&&2!=e.I&&!(e.D>=(e.Sa?0:e.Ta))&&(e.m=eO(u(e.Ea,e,r),tG(e,e.D)),e.D++,!0)))||2==i&&tz(e)))switch(n&&n.length>0&&((t=e.h).i=t.i.concat(n)),a){case 1:tW(e,5);break;case 4:tW(e,10);break;case 3:tW(e,6);break;default:tW(e,2)}}}function tG(e,t){let r=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(r*=2),r*t}function tW(e,t){if(e.j.info("Error code "+t),2==t){let t,a,s;var r,n=u(e.bb,e),i=e.Ua;let l=!i;i=new eZ(i||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||e1(i,"https"),e3(i),l?function(e,t){let r=new eA;if(o.Image){let n=new Image;n.onload=v(tp,r,"TestLoadImage: loaded",!0,t,n),n.onerror=v(tp,r,"TestLoadImage: error",!1,t,n),n.onabort=v(tp,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=v(tp,r,"TestLoadImage: timeout",!1,t,n),o.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(i.toString(),n):(r=i.toString(),t=new eA,a=new AbortController,s=setTimeout(()=>{a.abort(),tp(t,"TestPingServer: timeout",!1,n)},1e4),fetch(r,{signal:a.signal}).then(e=>{clearTimeout(s),e.ok?tp(t,"TestPingServer: ok",!0,n):tp(t,"TestPingServer: server error",!1,n)}).catch(()=>{clearTimeout(s),tp(t,"TestPingServer: error",!1,n)}))}else eE(2);e.I=0,e.l&&e.l.pa(t),tY(e),tR(e)}function tY(e){if(e.I=0,e.ja=[],e.l){let t=eX(e.h);(0!=t.length||0!=e.i.length)&&(E(e.ja,t),E(e.ja,e.i),e.h.i.length=0,x(e.i),e.i.length=0),e.l.oa()}}function tQ(e,t,r){var n=r instanceof eZ?e0(r):new eZ(r);if(""!=n.g)t&&(n.g=t+"."+n.g),e2(n,n.u);else{var i=o.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;let e=new eZ(null);n&&e1(e,n),t&&(e.g=t),i&&e2(e,i),r&&(e.h=r),n=e}return r=e.G,t=e.wa,r&&t&&e6(n,r,t),e6(n,"VER",e.ka),tU(e,n),n}function tX(e,t,r){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tS(e.Aa&&!e.ma?new tm({ab:r}):e.ma)).Fa(e.L),t}function tJ(){}function tZ(){}function t0(e,t){et.call(this),this.g=new tP(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!P(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!P(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t5(this)}function t1(e){ep.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t2(){eg.call(this),this.status=1}function t5(e){this.g=e}(t=tS.prototype).Fa=function(e){this.H=e},t.ea=function(t,r,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);r=r?r.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():e.g(),this.g.onreadystatechange=w(u(this.Ca,this));try{this.B=!0,this.g.open(r,String(t),!0),this.B=!1}catch(e){tC(this,e);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)n.set(a,i[a]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())n.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i));for(let[e,s]of(i=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=o.FormData&&t instanceof o.FormData,!(Array.prototype.indexOf.call(tA,r,void 0)>=0)||i||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n))this.g.setRequestHeader(e,s);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(e){tC(this,e)}},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,er(this,"complete"),er(this,"abort"),tj(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tj(this,!0)),tS.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tT(this):this.Xa())},t.Xa=function(){tT(this)},t.isActive=function(){return!!this.g},t.ca=function(){try{return tI(this)>2?this.g.status:-1}catch(e){return -1}},t.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},t.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),eu(t)}},t.ya=function(){return this.o},t.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=tP.prototype).ka=8,t.I=1,t.connect=function(e,t,r,n){eE(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.J=tQ(this,null,this.W),tL(this)},t.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;let i=new ek(this,this.j,e),a=this.o;if(this.U&&(a?z(a=V(a),this.U):a=this.U),null!==this.u||this.R||(i.J=a,a=null),this.S)e:{for(var t=0,r=0;r<this.i.length;r++){t:{var n=this.i[r];if("__data__"in n.map&&"string"==typeof(n=n.map.__data__)){n=n.length;break t}n=void 0}if(void 0===n)break;if((t+=n)>4096){t=r;break e}if(4096===t||r===this.i.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=tV(this,i,t),e6(r=e0(this.J),"RID",e),e6(r,"CVER",22),this.G&&e6(r,"X-HTTP-Session-Id",this.G),tU(this,r),a&&(this.R?t="headers="+eI(tx(a))+"&"+t:this.u&&tE(r,this.u,a)),eY(this.h,i),this.Ra&&e6(r,"TYPE","init"),this.S?(e6(r,"$req",t),e6(r,"SID","null"),i.U=!0,eD(i,r,null)):eD(i,r,t),this.I=2}}else 3==this.I&&(e?tF(this,e):0==this.i.length||eH(this.h)||tF(this))},t.Da=function(){if(this.v=null,tq(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=eO(u(this.Wa,this),e)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,eE(10),tD(this),tq(this))},t.Va=function(){null!=this.C&&(this.C=null,tD(this),tz(this),eE(19))},t.bb=function(e){e?(this.j.info("Successfully pinged google.com"),eE(2)):(this.j.info("Failed to ping google.com"),eE(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=tJ.prototype).ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){},tZ.prototype.g=function(e,t){return new t0(e,t)},b(t0,et),t0.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},t0.prototype.close=function(){tM(this.g)},t0.prototype.o=function(e){var t=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.v&&((r={}).__data__=el(e),e=r);t.i.push(new eq(t.Ya++,e)),3==t.I&&tL(t)},t0.prototype.N=function(){this.g.l=null,delete this.j,tM(this.g),delete this.g,t0.Z.N.call(this)},b(t1,ep),b(t2,eg),b(t5,tJ),t5.prototype.ra=function(){er(this.g,"a")},t5.prototype.qa=function(e){er(this.g,new t1(e))},t5.prototype.pa=function(e){er(this.g,new t2)},t5.prototype.oa=function(){er(this.g,"b")},tZ.prototype.createWebChannel=tZ.prototype.g,t0.prototype.send=t0.prototype.o,t0.prototype.open=t0.prototype.m,t0.prototype.close=t0.prototype.close,y=to.createWebChannelTransport=function(){return new tZ},m=to.getStatEventTarget=function(){return ev()},g=to.Event=em,p=to.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},e_.NO_ERROR=0,e_.TIMEOUT=8,e_.HTTP_ERROR=6,d=to.ErrorCode=e_,eT.COMPLETE="complete",f=to.EventType=eT,ef.EventType=ed,ed.OPEN="a",ed.CLOSE="b",ed.ERROR="c",ed.MESSAGE="d",et.prototype.listen=et.prototype.J,h=to.WebChannel=ef,to.FetchXmlHttpFactory=tm,tS.prototype.listenOnce=tS.prototype.K,tS.prototype.getLastError=tS.prototype.Ha,tS.prototype.getLastErrorCode=tS.prototype.ya,tS.prototype.getStatus=tS.prototype.ca,tS.prototype.getResponseJson=tS.prototype.La,tS.prototype.getResponseText=tS.prototype.la,tS.prototype.send=tS.prototype.ea,tS.prototype.setWithCredentials=tS.prototype.Fa,c=to.XhrIo=tS}).apply(void 0!==ta?ta:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let ts="@firebase/firestore",tl="4.9.2";class tu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tu.UNAUTHENTICATED=new tu(null),tu.GOOGLE_CREDENTIALS=new tu("google-credentials-uid"),tu.FIRST_PARTY=new tu("first-party-uid"),tu.MOCK_USER=new tu("mock-user");let tc="12.3.0",th=new ed("@firebase/firestore");function tf(){return th.logLevel}function td(e,...t){if(th.logLevel<=s.DEBUG){let r=t.map(tm);th.debug(`Firestore (${tc}): ${e}`,...r)}}function tp(e,...t){if(th.logLevel<=s.ERROR){let r=t.map(tm);th.error(`Firestore (${tc}): ${e}`,...r)}}function tg(e,...t){if(th.logLevel<=s.WARN){let r=t.map(tm);th.warn(`Firestore (${tc}): ${e}`,...r)}}function tm(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function ty(e,t,r){let n="Unexpected state";"string"==typeof t?n=t:r=t,tv(e,n,r)}function tv(e,t,r){let n=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==r)try{n+=" CONTEXT: "+JSON.stringify(r)}catch(e){n+=" CONTEXT: "+r}throw tp(n),Error(n)}function tb(e,t,r,n){let i="Unexpected state";"string"==typeof r?i=r:n=r,e||tv(t,i,n)}let tw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tx extends J{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tE{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tu.UNAUTHENTICATED))}shutdown(){}}class tA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tC{constructor(e){this.t=e,this.currentUser=tu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tb(void 0===this.o,42304);let r=this.i,n=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve(),i=new tE;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tE,e.enqueueRetryable(()=>n(this.currentUser))};let a=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},o=e=>{td("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(td("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tE)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(td("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(tb("string"==typeof t.accessToken,31837,{l:t}),new tS(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return tb(null===e||"string"==typeof e,2055,{h:e}),new tu(e)}}class t_{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=tu.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tT{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new t_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tu.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ez(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tb(void 0===this.o,3512);let r=e=>{null!=e.error&&td("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let r=e.token!==this.m;return this.m=e.token,td("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>r(t))};let n=e=>{td("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?n(e):td("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tj(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(tb("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new tj(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class tk{static newId(){let e=62*Math.floor(256/62),t="";for(;t.length<20;){let r=function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let e=0;e<40;e++)r[e]=Math.floor(256*Math.random());return r}(0);for(let n=0;n<r.length;++n)t.length<20&&r[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[n]%62))}return t}}function tN(e,t){return e<t?-1:+(e>t)}function tP(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let r=e.charAt(n),i=t.charAt(n);if(r!==i)return tM(r)===tM(i)?tN(r,i):tM(r)?1:-1}return tN(e.length,t.length)}function tM(e){let t=e.charCodeAt(0);return t>=55296&&t<=57343}function tD(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}let tR="__name__";class tL{constructor(e,t,r){void 0===t?t=0:t>e.length&&ty(637,{offset:t,range:e.length}),void 0===r?r=e.length-t:r>e.length-t&&ty(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===tL.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof tL?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let r=tL.compareSegments(e.get(n),t.get(n));if(0!==r)return r}return tN(e.length,t.length)}static compareSegments(e,t){let r=tL.isNumericId(e),n=tL.isNumericId(t);return r&&!n?-1:!r&&n?1:r&&n?tL.extractNumericId(e).compare(tL.extractNumericId(t)):tP(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return l.fromString(e.substring(4,e.length-2))}}class tF extends tL{construct(e,t,r){return new tF(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new tx(tw.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(e=>e.length>0))}return new tF(t)}static emptyPath(){return new tF([])}}let tU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tV extends tL{construct(e,t,r){return new tV(e,t,r)}static isValidIdentifier(e){return tU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tV.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===tR}static keyField(){return new tV([tR])}static fromServerFormat(e){let t=[],r="",n=0,i=()=>{if(0===r.length)throw new tx(tw.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},a=!1;for(;n<e.length;){let t=e[n];if("\\"===t){if(n+1===e.length)throw new tx(tw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new tx(tw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?a=!a:"."!==t||a?r+=t:i(),n++}if(i(),a)throw new tx(tw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tV(t)}static emptyPath(){return new tV([])}}class tB{constructor(e){this.path=e}static fromPath(e){return new tB(tF.fromString(e))}static fromName(e){return new tB(tF.fromString(e).popFirst(5))}static empty(){return new tB(tF.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tF.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tF.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tB(new tF(e.slice()))}}function tz(e){if(!tB.isDocumentKey(e))throw new tx(tw.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function t$(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tx(tw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let r=(t=e).constructor?t.constructor.name:null;return r?`a custom ${r} object`:"an object"}}return"function"==typeof e?"a function":ty(12329,{type:typeof e})}(e);throw new tx(tw.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function tq(e,t){let r={typeString:e};return t&&(r.value=t),r}function tK(e,t){let r;if("object"!=typeof e||null===e||Object.getPrototypeOf(e)!==Object.prototype&&null!==Object.getPrototypeOf(e))throw new tx(tw.INVALID_ARGUMENT,"JSON must be an object");for(let n in t)if(t[n]){let i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}let o=e[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(void 0!==a&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new tx(tw.INVALID_ARGUMENT,r);return!0}class tH{static now(){return tH.fromMillis(Date.now())}static fromDate(e){return tH.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*1e6);return new tH(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new tx(tw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new tx(tw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tN(this.nanoseconds,e.nanoseconds):tN(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tH._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tK(e,tH._jsonSchema))return new tH(e.seconds,e.nanoseconds)}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tH._jsonSchemaVersion="firestore/timestamp/1.0",tH._jsonSchema={type:tq("string",tH._jsonSchemaVersion),seconds:tq("number"),nanoseconds:tq("number")};class tG{static fromTimestamp(e){return new tG(e)}static min(){return new tG(new tH(0,0))}static max(){return new tG(new tH(0x3afff4417f,0x3b9ac9ff))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tW{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new tW(tG.min(),tB.empty(),-1)}static max(){return new tW(tG.max(),tB.empty(),-1)}}class tY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function tQ(e){if(e.code!==tw.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;td("LocalStore","Unexpectedly lost primary lease")}class tX{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ty(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tX((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof tX?t:tX.resolve(t)}catch(e){return tX.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tX.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tX.reject(t)}static resolve(e){return new tX((t,r)=>{t(e)})}static reject(e){return new tX((t,r)=>{r(e)})}static waitFor(e){return new tX((t,r)=>{let n=0,i=0,a=!1;e.forEach(e=>{++n,e.next(()=>{++i,a&&i===n&&t()},e=>r(e))}),a=!0,i===n&&t()})}static or(e){let t=tX.resolve(!1);for(let r of e)t=t.next(e=>e?tX.resolve(e):r());return t}static forEach(e,t){let r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new tX((r,n)=>{let i=e.length,a=Array(i),o=0;for(let s=0;s<i;s++){let l=s;t(e[l]).next(e=>{a[l]=e,++o===i&&r(a)},e=>n(e))}})}static doWhile(e,t){return new tX((r,n)=>{let i=()=>{!0===e()?t().next(()=>{i()},n):r()};i()})}}function tJ(e){return"IndexedDbTransactionError"===e.name}class tZ{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}}tZ.ce=-1;function t0(e){return 0===e&&1/e==-1/0}function t1(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function t2(e,t){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}class t5{constructor(e,t){this.comparator=e,this.root=t||t3.EMPTY}insert(e,t){return new t5(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,t3.BLACK,null,null))}remove(e){return new t5(this.comparator,this.root.remove(e,this.comparator).copy(null,null,t3.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new t6(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new t6(this.root,e,this.comparator,!1)}getReverseIterator(){return new t6(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new t6(this.root,e,this.comparator,!0)}}class t6{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class t3{constructor(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:t3.RED,this.left=null!=n?n:t3.EMPTY,this.right=null!=i?i:t3.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,i){return new t3(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this,i=r(e,n.key);return(n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r))).fixUp()}removeMin(){if(this.left.isEmpty())return t3.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let r,n=this;if(0>t(e,n.key))n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return t3.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t3.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t3.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ty(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ty(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ty(27949);return e+ +!this.isRed()}}t3.EMPTY=null,t3.RED=!0,t3.BLACK=!1,t3.EMPTY=new class{constructor(){this.size=0}get key(){throw ty(57766)}get value(){throw ty(16141)}get color(){throw ty(16727)}get left(){throw ty(29726)}get right(){throw ty(36894)}copy(e,t,r,n,i){return this}insert(e,t,r){return new t3(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class t4{constructor(e){this.comparator=e,this.data=new t5(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new t8(this.data.getIterator())}getIteratorFrom(e){return new t8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof t4)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new t4(this.comparator);return t.data=e,t}}class t8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class t7{constructor(e){this.fields=e,e.sort(tV.comparator)}static empty(){return new t7([])}unionWith(e){let t=new t4(tV.comparator);for(let e of this.fields)t=t.add(e);for(let r of e)t=t.add(r);return new t7(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tD(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class t9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class re{constructor(e){this.binaryString=e}static fromBase64String(e){return new re(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new t9("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new re(function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){var e=this.binaryString;let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tN(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}re.EMPTY_BYTE_STRING=new re("");let rt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(e){if(tb(!!e,39018),"string"==typeof e){let t=0,r=rt.exec(e);if(tb(!!r,46558,{timestamp:e}),r[1]){let e=r[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:rn(e.seconds),nanos:rn(e.nanos)}}function rn(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ri(e){return"string"==typeof e?re.fromBase64String(e):re.fromUint8Array(e)}let ra="server_timestamp",ro="__type__",rs="__previous_value__",rl="__local_write_time__";function ru(e){return(e?.mapValue?.fields||{})[ro]?.stringValue===ra}function rc(e){let t=e.mapValue.fields[rs];return ru(t)?rc(t):t}function rh(e){let t=rr(e.mapValue.fields[rl].timestampValue);return new tH(t.seconds,t.nanos)}class rf{constructor(e,t,r,n,i,a,o,s,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=u}}let rd="(default)";class rp{constructor(e,t){this.projectId=e,this.database=t||rd}static empty(){return new rp("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof rp&&e.projectId===this.projectId&&e.database===this.database}}let rg="__max__",rm={},ry="value";function rv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ru(e)?4:rN(e)?0x1fffffffffffff:rI(e)?10:11:ty(28295,{value:e})}function rb(e,t){if(e===t)return!0;let r=rv(e);if(r!==rv(t))return!1;switch(r){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rh(e).isEqual(rh(t));case 3:if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=rr(e.timestampValue),i=rr(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos;case 5:return e.stringValue===t.stringValue;case 6:return ri(e.bytesValue).isEqual(ri(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return rn(e.geoPointValue.latitude)===rn(t.geoPointValue.latitude)&&rn(e.geoPointValue.longitude)===rn(t.geoPointValue.longitude);case 2:if("integerValue"in e&&"integerValue"in t)return rn(e.integerValue)===rn(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let r=rn(e.doubleValue),n=rn(t.doubleValue);return r===n?t0(r)===t0(n):isNaN(r)&&isNaN(n)}return!1;case 9:return tD(e.arrayValue.values||[],t.arrayValue.values||[],rb);case 10:case 11:let a=e.mapValue.fields||{},o=t.mapValue.fields||{};if(t1(a)!==t1(o))return!1;for(let e in a)if(a.hasOwnProperty(e)&&(void 0===o[e]||!rb(a[e],o[e])))return!1;return!0;default:return ty(52216,{left:e})}}function rw(e,t){return void 0!==(e.values||[]).find(e=>rb(e,t))}function rx(e,t){var r,n,i,a,o,s;if(e===t)return 0;let l=rv(e),u=rv(t);if(l!==u)return tN(l,u);switch(l){case 0:case 0x1fffffffffffff:return 0;case 1:return tN(e.booleanValue,t.booleanValue);case 2:let c,h;return c=rn(e.integerValue||e.doubleValue),c<(h=rn(t.integerValue||t.doubleValue))?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1;case 3:return rE(e.timestampValue,t.timestampValue);case 4:return rE(rh(e),rh(t));case 5:return tP(e.stringValue,t.stringValue);case 6:let f,d;return r=e.bytesValue,n=t.bytesValue,f=ri(r),d=ri(n),f.compareTo(d);case 7:return function(e,t){let r=e.split("/"),n=t.split("/");for(let e=0;e<r.length&&e<n.length;e++){let t=tN(r[e],n[e]);if(0!==t)return t}return tN(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:let p;return i=e.geoPointValue,a=t.geoPointValue,0!==(p=tN(rn(i.latitude),rn(a.latitude)))?p:tN(rn(i.longitude),rn(a.longitude));case 9:return rS(e.arrayValue,t.arrayValue);case 10:let g,m,y,v,b;return o=e.mapValue,s=t.mapValue,g=o.fields||{},m=s.fields||{},y=g[ry]?.arrayValue,v=m[ry]?.arrayValue,0!==(b=tN(y?.values?.length||0,v?.values?.length||0))?b:rS(y,v);case 11:return function(e,t){if(e===rm&&t===rm)return 0;if(e===rm)return 1;if(t===rm)return -1;let r=e.fields||{},n=Object.keys(r),i=t.fields||{},a=Object.keys(i);n.sort(),a.sort();for(let e=0;e<n.length&&e<a.length;++e){let t=tP(n[e],a[e]);if(0!==t)return t;let o=rx(r[n[e]],i[a[e]]);if(0!==o)return o}return tN(n.length,a.length)}(e.mapValue,t.mapValue);default:throw ty(23264,{he:l})}}function rE(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tN(e,t);let r=rr(e),n=rr(t),i=tN(r.seconds,n.seconds);return 0!==i?i:tN(r.nanos,n.nanos)}function rS(e,t){let r=e.values||[],n=t.values||[];for(let e=0;e<r.length&&e<n.length;++e){let t=rx(r[e],n[e]);if(t)return t}return tN(r.length,n.length)}function rO(e){var t,r;let n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(n=rr(e.timestampValue),`time(${n.seconds},${n.nanos})`):"stringValue"in e?e.stringValue:"bytesValue"in e?ri(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,tB.fromName(t).toString()):"geoPointValue"in e?(r=e.geoPointValue,`geo(${r.latitude},${r.longitude})`):"arrayValue"in e?function(e){let t="[",r=!0;for(let n of e.values||[])r?r=!1:t+=",",t+=rO(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),r="{",n=!0;for(let i of t)n?n=!1:r+=",",r+=`${i}:${rO(e.fields[i])}`;return r+"}"}(e.mapValue):ty(61005,{value:e})}function rA(e){return!!e&&"integerValue"in e}function rC(e){return!!e&&"arrayValue"in e}function r_(e){return!!e&&"nullValue"in e}function rT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rj(e){return!!e&&"mapValue"in e}function rI(e){return(e?.mapValue?.fields||{}).__type__?.stringValue==="__vector__"}function rk(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return t2(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=rk(r)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=rk(e.arrayValue.values[r]);return t}return{...e}}function rN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===rg}class rP{constructor(e){this.value=e}static empty(){return new rP({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(!rj(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rk(t)}setAll(e){let t=tV.emptyPath(),r={},n=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=i.popLast()}e?r[i.lastSegment()]=rk(e):n.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,r,n)}delete(e){let t=this.field(e.popLast());rj(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rb(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];rj(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){for(let n of(t2(t,(t,r)=>e[t]=r),r))delete e[n]}clone(){return new rP(rk(this.value))}}class rM{constructor(e,t,r,n,i,a,o){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new rM(e,0,tG.min(),tG.min(),tG.min(),rP.empty(),0)}static newFoundDocument(e,t,r,n){return new rM(e,1,t,tG.min(),r,n,0)}static newNoDocument(e,t){return new rM(e,2,t,tG.min(),tG.min(),rP.empty(),0)}static newUnknownDocument(e,t){return new rM(e,3,t,tG.min(),tG.min(),rP.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(tG.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rP.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rP.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tG.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rM&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rM(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rD{constructor(e,t){this.position=e,this.inclusive=t}}function rR(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(n=a.field.isKeyField()?tB.comparator(tB.fromName(o.referenceValue),r.key):rx(o,r.data.field(a.field)),"desc"===a.dir&&(n*=-1),0!==n)break}return n}function rL(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!rb(e.position[r],t.position[r]))return!1;return!0}class rF{constructor(e,t="asc"){this.field=e,this.dir=t}}class rU{}class rV extends rU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new rq(e,t,r):"array-contains"===t?new rW(e,r):"in"===t?new rY(e,r):"not-in"===t?new rQ(e,r):"array-contains-any"===t?new rX(e,r):new rV(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new rK(e,r):new rH(e,r)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(rx(t,this.value)):null!==t&&rv(this.value)===rv(t)&&this.matchesComparison(rx(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ty(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rB extends rU{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new rB(e,t)}matches(e){return rz(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rz(e){return"and"===e.op}function r$(e){for(let t of e.filters)if(t instanceof rB)return!1;return!0}class rq extends rV{constructor(e,t,r){super(e,t,r),this.key=tB.fromName(r.referenceValue)}matches(e){let t=tB.comparator(e.key,this.key);return this.matchesComparison(t)}}class rK extends rV{constructor(e,t){super(e,"in",t),this.keys=rG("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rH extends rV{constructor(e,t){super(e,"not-in",t),this.keys=rG("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rG(e,t){return(t.arrayValue?.values||[]).map(e=>tB.fromName(e.referenceValue))}class rW extends rV{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return rC(t)&&rw(t.arrayValue,this.value)}}class rY extends rV{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&rw(this.value.arrayValue,t)}}class rQ extends rV{constructor(e,t){super(e,"not-in",t)}matches(e){if(rw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!rw(this.value.arrayValue,t)}}class rX extends rV{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!rC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>rw(this.value.arrayValue,e))}}class rJ{constructor(e,t=null,r=[],n=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function rZ(e,t=null,r=[],n=[],i=null,a=null,o=null){return new rJ(e,t,r,n,i,a,o)}function r0(e){if(null===e.Te){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof rV)return t.field.canonicalString()+t.op.toString()+rO(t.value);if(r$(t)&&rz(t))return t.filters.map(t=>e(t)).join(",");{let r=t.filters.map(t=>e(t)).join(",");return`${t.op}(${r})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>rO(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>rO(e)).join(",")),e.Te=t}return e.Te}function r1(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var r,n;if(r=e.orderBy[i],n=t.orderBy[i],!(r.dir===n.dir&&r.field.isEqual(n.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!function e(t,r){return t instanceof rV?r instanceof rV&&t.op===r.op&&t.field.isEqual(r.field)&&rb(t.value,r.value):t instanceof rB?r instanceof rB&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((t,n,i)=>t&&e(n,r.filters[i]),!0):void ty(19439)}(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rL(e.startAt,t.startAt)&&rL(e.endAt,t.endAt)}function r2(e){return tB.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class r5{constructor(e,t=null,r=[],n=[],i=null,a="F",o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function r6(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function r3(e){if(null===e.Ie){let t;e.Ie=[];let r=new Set;for(let t of e.explicitOrderBy)e.Ie.push(t),r.add(t.field.canonicalString());let n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new t4(tV.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{r.has(t.canonicalString())||t.isKeyField()||e.Ie.push(new rF(t,n))}),r.has(tV.keyField().canonicalString())||e.Ie.push(new rF(tV.keyField(),n))}return e.Ie}function r4(e){return e.Ee||(e.Ee=function(e,t){if("F"===e.limitType)return rZ(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new rF(e.field,t)});let r=e.endAt?new rD(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new rD(e.startAt.position,e.startAt.inclusive):null;return rZ(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}(e,r3(e))),e.Ee}function r8(e,t,r){return new r5(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function r7(e,t){return r1(r4(e),r4(t))&&e.limitType===t.limitType}function r9(e){return`${r0(r4(e))}|lt:${e.limitType}`}function ne(e){var t;let r;return`Query(target=${r=(t=r4(e)).path.canonicalString(),null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof rV?`${t.field.canonicalString()} ${t.op} ${rO(t.value)}`:t instanceof rB?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(e=>rO(e)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(e=>rO(e)).join(",")),`Target(${r})`}; limitType=${e.limitType})`}function nt(e,t){var r,n,i,a;let o,s,l;return t.isFoundDocument()&&(o=t.key.path,null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):tB.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o))&&function(e,t){for(let r of r3(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(let r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&(r=e,n=t,(!r.startAt||(i=r.startAt,s=rR(i,r3(r),n),i.inclusive?!!(s<=0):!!(s<0)))&&(!r.endAt||(a=r.endAt,l=rR(a,r3(r),n),a.inclusive?!!(l>=0):!!(l>0))))}function nr(e){return(t,r)=>{let n=!1;for(let i of r3(e)){let e=function(e,t,r){var n;let i,a,o=e.field.isKeyField()?tB.comparator(t.key,r.key):(n=e.field,i=t.data.field(n),a=r.data.field(n),null!==i&&null!==a?rx(i,a):ty(42886));switch(e.dir){case"asc":return o;case"desc":return -1*o;default:return ty(19790,{direction:e.dir})}}(i,t,r);if(0!==e)return e;n=n||i.field.isKeyField()}return 0}}class nn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r){for(let[t,n]of r)if(this.equalsFn(t,e))return n}}has(e){return void 0!==this.get(e)}set(e,t){let r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return void(n[r]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){t2(this.inner,(t,r)=>{for(let[t,n]of r)e(t,n)})}isEmpty(){var e=this.inner;for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}size(){return this.innerSize}}let ni=new t5(tB.comparator),na=new t5(tB.comparator);function no(...e){let t=na;for(let r of e)t=t.insert(r.key,r);return t}function ns(){return new nn(e=>e.toString(),(e,t)=>e.isEqual(t))}new t5(tB.comparator);let nl=new t4(tB.comparator);function nu(...e){let t=nl;for(let r of e)t=t.add(r);return t}let nc=new t4(tN);class nh{constructor(){this._=void 0}}class nf extends nh{}class nd extends nh{constructor(e){super(),this.elements=e}}function np(e,t){let r=nb(t);for(let t of e.elements)r.some(e=>rb(e,t))||r.push(t);return{arrayValue:{values:r}}}class ng extends nh{constructor(e){super(),this.elements=e}}function nm(e,t){let r=nb(t);for(let t of e.elements)r=r.filter(e=>!rb(e,t));return{arrayValue:{values:r}}}class ny extends nh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function nv(e){return rn(e.integerValue||e.doubleValue)}function nb(e){return rC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class nw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nw}static exists(e){return new nw(void 0,e)}static updateTime(e){return new nw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class nE{}function nS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nk(e.key,nw.none()):new nC(e.key,e.data,nw.none());{let r=e.data,n=rP.empty(),i=new t4(tV.comparator);for(let e of t.fields)if(!i.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),i=i.add(e)}return new n_(e.key,n,new t7(i.toArray()),nw.none())}}function nO(e,t,r,n){return e instanceof nC?function(e,t,r,n){if(!nx(e.precondition,t))return r;let i=e.value.clone(),a=nI(e.fieldTransforms,n,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,r,n):e instanceof n_?function(e,t,r,n){if(!nx(e.precondition,t))return r;let i=nI(e.fieldTransforms,n,t),a=t.data;return(a.setAll(nT(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===r)?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,r,n):nx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}function nA(e,t){var r,n;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=e.fieldTransforms,n=t.fieldTransforms,!!(void 0===r&&void 0===n||!(!r||!n)&&tD(r,n,(e,t)=>{var r,n;return e.field.isEqual(t.field)&&(r=e.transform,n=t.transform,r instanceof nd&&n instanceof nd||r instanceof ng&&n instanceof ng?tD(r.elements,n.elements,rb):r instanceof ny&&n instanceof ny?rb(r.Ae,n.Ae):r instanceof nf&&n instanceof nf)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nC extends nE{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class n_ extends nE{constructor(e,t,r,n,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nT(e){let t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){let n=e.data.field(r);t.set(r,n)}}),t}function nj(e,t,r){let n=new Map;tb(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){var i;let o=e[a],s=o.transform,l=t.data.field(o.field);n.set(o.field,(i=r[a],s instanceof nd?np(s,l):s instanceof ng?nm(s,l):i))}return n}function nI(e,t,r){let n=new Map;for(let i of e){let e=i.transform,a=r.data.field(i.field);n.set(i.field,function(e,t,r){var n;let i,a,o;return e instanceof nf?(n=t,i={fields:{[ro]:{stringValue:ra},[rl]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}},n&&ru(n)&&(n=rc(n)),n&&(i.fields[rs]=n),{mapValue:i}):e instanceof nd?np(e,t):e instanceof ng?nm(e,t):(o=nv(a=function(e,t){return e instanceof ny?rA(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}(e,t))+nv(e.Ae),rA(a)&&rA(e.Ae)?{integerValue:""+o}:function(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t0(t)?"-0":t}}(e.serializer,o))}(e,a,t))}return n}class nk extends nE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nN{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let n=this.mutations[t];n.key.isEqual(e.key)&&function(e,t,r){let n,i;e instanceof nC?(n=e.value.clone(),i=nj(e.fieldTransforms,t,r.transformResults),n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()):e instanceof n_?function(e,t,r){if(!nx(e.precondition,t))return t.convertToUnknownDocument(r.version);let n=nj(e.fieldTransforms,t,r.transformResults),i=t.data;i.setAll(nT(e)),i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}(e,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}(n,e,r[t])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=nO(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=nO(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ns();return this.mutations.forEach(n=>{let i=e.get(n.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields),s=nS(a,o=t.has(n.key)?null:o);null!==s&&r.set(n.key,s),a.isValidDocument()||a.convertToNoDocument(tG.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nu())}isEqual(e){return this.batchId===e.batchId&&tD(this.mutations,e.mutations,(e,t)=>nA(e,t))&&tD(this.baseMutations,e.baseMutations,(e,t)=>nA(e,t))}}class nP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nM{constructor(e,t){this.count=e,this.unchangedNames=t}}function nD(e){if(void 0===e)return tp("GRPC error has no .code"),tw.UNKNOWN;switch(e){case v.OK:return tw.OK;case v.CANCELLED:return tw.CANCELLED;case v.UNKNOWN:return tw.UNKNOWN;case v.DEADLINE_EXCEEDED:return tw.DEADLINE_EXCEEDED;case v.RESOURCE_EXHAUSTED:return tw.RESOURCE_EXHAUSTED;case v.INTERNAL:return tw.INTERNAL;case v.UNAVAILABLE:return tw.UNAVAILABLE;case v.UNAUTHENTICATED:return tw.UNAUTHENTICATED;case v.INVALID_ARGUMENT:return tw.INVALID_ARGUMENT;case v.NOT_FOUND:return tw.NOT_FOUND;case v.ALREADY_EXISTS:return tw.ALREADY_EXISTS;case v.PERMISSION_DENIED:return tw.PERMISSION_DENIED;case v.FAILED_PRECONDITION:return tw.FAILED_PRECONDITION;case v.ABORTED:return tw.ABORTED;case v.OUT_OF_RANGE:return tw.OUT_OF_RANGE;case v.UNIMPLEMENTED:return tw.UNIMPLEMENTED;case v.DATA_LOSS:return tw.DATA_LOSS;default:return ty(39323,{code:e})}}(b=v||(v={}))[b.OK=0]="OK",b[b.CANCELLED=1]="CANCELLED",b[b.UNKNOWN=2]="UNKNOWN",b[b.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",b[b.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",b[b.NOT_FOUND=5]="NOT_FOUND",b[b.ALREADY_EXISTS=6]="ALREADY_EXISTS",b[b.PERMISSION_DENIED=7]="PERMISSION_DENIED",b[b.UNAUTHENTICATED=16]="UNAUTHENTICATED",b[b.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",b[b.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",b[b.ABORTED=10]="ABORTED",b[b.OUT_OF_RANGE=11]="OUT_OF_RANGE",b[b.UNIMPLEMENTED=12]="UNIMPLEMENTED",b[b.INTERNAL=13]="INTERNAL",b[b.UNAVAILABLE=14]="UNAVAILABLE",b[b.DATA_LOSS=15]="DATA_LOSS";let nR=new l([0xffffffff,0xffffffff],0);function nL(e){let t=(new TextEncoder).encode(e),r=new u;return r.update(t),new Uint8Array(r.digest())}function nF(e){let t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new l([r,n],0),new l([i,a],0)]}class nU{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nV(`Invalid padding: ${t}`);if(r<0||e.length>0&&0===this.hashCount)throw new nV(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new nV(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=l.fromNumber(this.ge)}ye(e,t,r){let n=e.add(t.multiply(l.fromNumber(r)));return 1===n.compare(nR)&&(n=new l([n.getBits(0),n.getBits(1)],0)),n.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;let[t,r]=nF(nL(e));for(let e=0;e<this.hashCount;e++){let n=this.ye(t,r,e);if(!this.we(n))return!1}return!0}static create(e,t,r){let n=new nU(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return r.forEach(e=>n.insert(e)),n}insert(e){if(0===this.ge)return;let[t,r]=nF(nL(e));for(let e=0;e<this.hashCount;e++){let n=this.ye(t,r,e);this.Se(n)}}Se(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class nV extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nB{constructor(e,t,r,n,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let n=new Map;return n.set(e,nz.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nB(tG.min(),n,new t5(tN),ni,nu())}}class nz{constructor(e,t,r,n,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nz(r,t,nu(),nu(),nu())}}class n${constructor(e,t,r,n){this.be=e,this.removedTargetIds=t,this.key=r,this.De=n}}class nq{constructor(e,t){this.targetId=e,this.Ce=t}}class nK{constructor(e,t,r=re.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class nH{constructor(){this.ve=0,this.Fe=nY(),this.Me=re.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nu(),t=nu(),r=nu();return this.Fe.forEach((n,i)=>{switch(i){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:ty(38017,{changeType:i})}}),new nz(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=nY()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tb(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nG{constructor(e){this.Ge=e,this.ze=new Map,this.je=ni,this.Je=nW(),this.He=nW(),this.Ye=new t5(tN)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ty(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,r)=>{this.rt(r)&&t(r)})}st(e){let t=e.targetId,r=e.Ce.count,n=this.ot(t);if(n){let i=n.target;if(r2(i))if(0===r){let e=new tB(i.path);this.et(t,e,rM.newNoDocument(e,tG.min()))}else tb(1===r,20013,{expectedCount:r});else{let n=this._t(t);if(n!==r){let r=this.ut(e),i=r?this.ct(r,e,n):1;0!==i&&(this.it(t),this.Ye=this.Ye.insert(t,2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ut(e){let t,r,n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;try{t=ri(i).toUint8Array()}catch(e){if(e instanceof t9)return tg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new nU(t,a,o)}catch(e){return tg(e instanceof nV?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.ge?null:r}ct(e,t,r){return 2*(t.Ce.count!==r-this.Pt(e,t.targetId))}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),n=0;return r.forEach(r=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`;e.mightContain(a)||(this.et(t,r,null),n++)}),n}Tt(e){let t=new Map;this.ze.forEach((r,n)=>{let i=this.ot(n);if(i){if(r.current&&r2(i.target)){let t=new tB(i.target.path);this.It(t).has(n)||this.Et(n,t)||this.et(n,t,rM.newNoDocument(t,e))}r.Be&&(t.set(n,r.ke()),r.qe())}});let r=nu();this.He.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{let t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.je.forEach((t,r)=>r.setReadTime(e));let n=new nB(e,t,this.Ye,this.je,r);return this.je=ni,this.Je=nW(),this.He=nW(),this.Ye=new t5(tN),n}Xe(e,t){if(!this.rt(e))return;let r=2*!!this.Et(e,t.key);this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let n=this.nt(e);this.Et(e,t)?n.Qe(t,1):n.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new nH,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new t4(tN),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new t4(tN),this.Je=this.Je.insert(e,t)),t}rt(e){let t=null!==this.ot(e);return t||td("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nH),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nW(){return new t5(tB.comparator)}function nY(){return new t5(tB.comparator)}let nQ={asc:"ASCENDING",desc:"DESCENDING"},nX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nJ={and:"AND",or:"OR"};class nZ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function n0(e,t){return e.useProto3Json||null==t?t:{value:t}}function n1(e){let t;return tb(!!e,49232),tG.fromTimestamp(new tH((t=rr(e)).seconds,t.nanos))}function n2(e,t){let r=new tF(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?r:r.child(t)}function n5(e){let t=tF.fromString(e);return tb(ie(t),10190,{key:t.toString()}),t}function n6(e,t){let r=n5(t);if(r.get(1)!==e.databaseId.projectId)throw new tx(tw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new tx(tw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new tB(n8(r))}function n3(e,t){return n2(e.databaseId,t).canonicalString()}function n4(e){return new tF(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function n8(e){return tb(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function n7(e){return{fieldPath:e.canonicalString()}}function n9(e){return tV.fromServerFormat(e.fieldPath)}function ie(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class it{constructor(e,t,r,n,i=tG.min(),a=tG.min(),o=re.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new it(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new it(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new it(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new it(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ir{constructor(e){this.yt=e}}class ii{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(+!!e.booleanValue);else if("integerValue"in e)this.Ft(t,15),t.Mt(rn(e.integerValue));else if("doubleValue"in e){let r=rn(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),t0(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),"string"==typeof r&&(r=rr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ri(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?rN(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):rI(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ty(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};for(let e of(this.Ft(t,55),Object.keys(r)))this.Ot(e,t),this.Ct(r[e],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let n=r[ry].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(rn(n)),this.Ot(ry,t),this.Ct(r[ry],t)}Qt(e,t){let r=e.values||[];for(let e of(this.Ft(t,50),r))this.Ct(e,t)}Lt(e,t){this.Ft(t,37),tB.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ii.Kt=new ii;class ia{constructor(){this.Cn=new io}addToCollectionParentIndex(e,t){return this.Cn.add(t),tX.resolve()}getCollectionParents(e,t){return tX.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return tX.resolve()}deleteFieldIndex(e,t){return tX.resolve()}deleteAllFieldIndexes(e){return tX.resolve()}createTargetIndexes(e,t){return tX.resolve()}getDocumentsMatchingTarget(e,t){return tX.resolve(null)}getIndexType(e,t){return tX.resolve(0)}getFieldIndexes(e,t){return tX.resolve([])}getNextCollectionGroupToUpdate(e){return tX.resolve(null)}getMinOffset(e,t){return tX.resolve(tW.min())}getMinOffsetFromCollectionGroup(e,t){return tX.resolve(tW.min())}updateCollectionGroup(e,t,r){return tX.resolve()}updateIndexEntries(e,t){return tX.resolve()}}class io{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new t4(tF.comparator),i=!n.has(r);return this.index[t]=n.add(r),i}has(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new t4(tF.comparator)).toArray()}}new Uint8Array(0);let is={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class il{static withCacheSize(e){return new il(e,il.DEFAULT_COLLECTION_PERCENTILE,il.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}il.DEFAULT_COLLECTION_PERCENTILE=10,il.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,il.DEFAULT=new il(0x2800000,il.DEFAULT_COLLECTION_PERCENTILE,il.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),il.DISABLED=new il(-1,0,0);class iu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new iu(0)}static cr(){return new iu(-1)}}let ic="LruGarbageCollector";function ih([e,t],[r,n]){let i=tN(e,r);return 0===i?tN(t,n):i}class id{constructor(e){this.Ir=e,this.buffer=new t4(ih),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>ih(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ip{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){td(ic,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){tJ(e)?td(ic,"Ignoring IndexedDB error during garbage collection: ",e):await tQ(e)}await this.Vr(3e5)})}}class ig{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return tX.resolve(tZ.ce);let r=new id(t);return this.mr.forEachTarget(e,e=>r.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>r.Ar(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return -1===this.params.cacheSizeCollectionThreshold?(td("LruGarbageCollector","Garbage collection skipped; disabled"),tX.resolve(is)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(td("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),is):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,n,i,a,o,l,u,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(td("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,a=Date.now(),this.nthSequenceNumber(e,n))).next(n=>(r=n,o=Date.now(),this.removeTargets(e,r,t))).next(t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(u=Date.now(),tf()<=s.DEBUG&&td("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${n} in `+(o-a)+"ms\n"+`	Removed ${i} targets in `+(l-o)+"ms\n"+`	Removed ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),tX.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:i,documentsRemoved:e})))}}class im{constructor(){this.changes=new nn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rM.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return void 0!==r?tX.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class iv{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&nO(r.mutation,e,t7.empty(),tH.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,nu()).next(()=>t))}getLocalViewOfDocuments(e,t,r=nu()){let n=ns();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=no();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let r=ns();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nu()))}populateOverlays(e,t,r){let n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let i=ni,a=ns(),o=ns();return t.forEach((e,t)=>{let o=r.get(t.key);n.has(t.key)&&(void 0===o||o.mutation instanceof n_)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),nO(o.mutation,t,o.mutation.getFieldMask(),tH.now())):a.set(t.key,t7.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>o.set(e,new iy(t,a.get(e)??null))),o))}recalculateAndSaveOverlays(e,t){let r=ns(),n=new t5((e,t)=>e-t),i=nu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let a=t.get(e);if(null===a)return;let o=r.get(e)||t7.empty();o=i.applyToLocalView(a,o),r.set(e,o);let s=(n.get(i.batchId)||nu()).add(e);n=n.insert(i.batchId,s)})}).next(()=>{let a=[],o=n.getReverseIterator();for(;o.hasNext();){let n=o.getNext(),s=n.key,l=n.value,u=ns();l.forEach(e=>{if(!i.has(e)){let n=nS(t.get(e),r.get(e));null!==n&&u.set(e,n),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,u))}return tX.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,n){return tB.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):null!==t.collectionGroup?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(i=>{let a=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-i.size):tX.resolve(ns()),o=-1,s=i;return a.next(t=>tX.forEach(t,(t,r)=>(o<r.largestBatchId&&(o=r.largestBatchId),i.get(t)?tX.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,nu())).next(e=>{let t;return{batchId:o,changes:(t=na,e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t)}}))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tB(t)).next(e=>{let t=no();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){let i=t.collectionGroup,a=no();return this.indexManager.getCollectionParents(e,i).next(o=>tX.forEach(o,o=>{let s=new r5(o.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,s,r,n).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,n))).next(e=>{i.forEach((t,r)=>{let n=r.getKey();null===e.get(n)&&(e=e.insert(n,rM.newInvalidDocument(n)))});let r=no();return e.forEach((e,n)=>{let a=i.get(e);void 0!==a&&nO(a.mutation,n,t7.empty(),tH.now()),nt(t,n)&&(r=r.insert(e,n))}),r})}}class ib{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return tX.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,{id:t.id,version:t.version,createTime:n1(t.createTime)}),tX.resolve()}getNamedQuery(e,t){return tX.resolve(this.kr.get(t))}saveNamedQuery(e,t){var r;let n;return this.kr.set(t.name,{name:t.name,query:(n=function(e){var t,r,n,i;let a,o,s,l,u,c=4===(a=n5(e.parent)).length?tF.emptyPath():n8(a),h=e.structuredQuery,f=h.from?h.from.length:0,d=null;if(f>0){tb(1===f,65062);let e=h.from[0];e.allDescendants?d=e.collectionId:c=c.child(e.collectionId)}let p=[];h.where&&(p=(o=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=n9(e.unaryFilter.field);return rV.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=n9(e.unaryFilter.field);return rV.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let n=n9(e.unaryFilter.field);return rV.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=n9(e.unaryFilter.field);return rV.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ty(61313);default:return ty(60726)}}(t):void 0!==t.fieldFilter?rV.create(n9(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ty(58110);default:return ty(50506)}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?rB.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ty(1026)}}(t.compositeFilter.op)):ty(30097,{filter:t})}(h.where))instanceof rB&&r$(t=o)&&rz(t)?o.getFilters():[o]);let g=[];h.orderBy&&(g=h.orderBy.map(e=>new rF(n9(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let m=null;h.limit&&(m=null==(s="object"==typeof(r=h.limit)?r.value:r)?null:s);let y=null;h.startAt&&(l=!!(n=h.startAt).before,y=new rD(n.values||[],l));let v=null;return h.endAt&&(u=!(i=h.endAt).before,v=new rD(i.values||[],u)),new r5(c,d,g,p,m,"F",y,v)}({parent:(r=t.bundledQuery).parent,structuredQuery:r.structuredQuery}),"LAST"===r.limitType?r8(n,n.limit,"L"):n),readTime:n1(t.readTime)}),tX.resolve()}}class iw{constructor(){this.overlays=new t5(tB.comparator),this.qr=new Map}getOverlay(e,t){return tX.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ns();return tX.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.St(e,t,n)}),tX.resolve()}removeOverlaysForBatchId(e,t,r){let n=this.qr.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(r)),tX.resolve()}getOverlaysForCollection(e,t,r){let n=ns(),i=t.length+1,a=new tB(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>r&&n.set(e.getKey(),e)}return tX.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let i=new t5((e,t)=>e-t),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=i.get(e.largestBatchId);null===t&&(t=ns(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=ns(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=n)););return tX.resolve(o)}St(e,t,r){let n=this.overlays.get(r.key);if(null!==n){let e=this.qr.get(n.largestBatchId).delete(r.key);this.qr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new nP(t,r));let i=this.qr.get(t);void 0===i&&(i=nu(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}class ix{constructor(){this.sessionToken=re.EMPTY_BYTE_STRING}getSessionToken(e){return tX.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tX.resolve()}}class iE{constructor(){this.Qr=new t4(iS.$r),this.Ur=new t4(iS.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new iS(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new iS(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){let t=new tB(new tF([])),r=new iS(t,e),n=new iS(t,e+1),i=[];return this.Ur.forEachInRange([r,n],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new tB(new tF([])),r=new iS(t,e),n=new iS(t,e+1),i=nu();return this.Ur.forEachInRange([r,n],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new iS(e,0),r=this.Qr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class iS{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return tB.comparator(e.key,t.key)||tN(e.Yr,t.Yr)}static Kr(e,t){return tN(e.Yr,t.Yr)||tB.comparator(e.key,t.key)}}class iO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new t4(iS.$r)}checkEmpty(e){return tX.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new nN(i,t,r,n);for(let t of(this.mutationQueue.push(a),n))this.Zr=this.Zr.add(new iS(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return tX.resolve(a)}lookupMutationBatch(e,t){return tX.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=this.ei(t+1),n=r<0?0:r;return tX.resolve(this.mutationQueue.length>n?this.mutationQueue[n]:null)}getHighestUnacknowledgedBatchId(){return tX.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return tX.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new iS(t,0),n=new iS(t,1/0),i=[];return this.Zr.forEachInRange([r,n],e=>{let t=this.Xr(e.Yr);i.push(t)}),tX.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new t4(tN);return t.forEach(e=>{let t=new iS(e,0),n=new iS(e,1/0);this.Zr.forEachInRange([t,n],e=>{r=r.add(e.Yr)})}),tX.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=r;tB.isDocumentKey(i)||(i=i.child(""));let a=new iS(new tB(i),0),o=new t4(tN);return this.Zr.forEachWhile(e=>{let t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(o=o.add(e.Yr)),!0)},a),tX.resolve(this.ti(o))}ti(e){let t=[];return e.forEach(e=>{let r=this.Xr(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){tb(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Zr;return tX.forEach(t.mutations,n=>{let i=new iS(n.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){let r=new iS(t,0),n=this.Zr.firstAfterOrEqual(r);return tX.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,tX.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iA{constructor(e){this.ri=e,this.docs=new t5(tB.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,n=this.docs.get(r),i=n?n.size:0,a=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return tX.resolve(r?r.document.mutableCopy():rM.newInvalidDocument(t))}getEntries(e,t){let r=ni;return t.forEach(e=>{let t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():rM.newInvalidDocument(e))}),tX.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let i=ni,a=t.path,o=new tB(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||0>=function(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r||0!==(r=tB.comparator(e.documentKey,t.documentKey))?r:tN(e.largestBatchId,t.largestBatchId)}(new tW(o.readTime,o.key,-1),r)||(n.has(o.key)||nt(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return tX.resolve(i)}getAllFromCollectionGroup(e,t,r,n){ty(9500)}ii(e,t){return tX.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new iC(this)}getSize(e){return tX.resolve(this.size)}}class iC extends im{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.Nr.addEntry(e,n)):this.Nr.removeEntry(r)}),tX.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class i_{constructor(e){this.persistence=e,this.si=new nn(e=>r0(e),r1),this.lastRemoteSnapshotVersion=tG.min(),this.highestTargetId=0,this.oi=0,this._i=new iE,this.targetCount=0,this.ai=iu.ur()}forEachTarget(e,t){return this.si.forEach((e,r)=>t(r)),tX.resolve()}getLastRemoteSnapshotVersion(e){return tX.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tX.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),tX.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),tX.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new iu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,tX.resolve()}updateTargetData(e,t){return this.Pr(t),tX.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,tX.resolve()}removeTargets(e,t,r){let n=0,i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&null===r.get(o.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),n++)}),tX.waitFor(i).next(()=>n)}getTargetCount(e){return tX.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return tX.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),tX.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let n=this.persistence.referenceDelegate,i=[];return n&&t.forEach(t=>{i.push(n.markPotentiallyOrphaned(e,t))}),tX.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),tX.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return tX.resolve(r)}containsKey(e,t){return tX.resolve(this._i.containsKey(t))}}class iT{constructor(e,t){this.ui={},this.overlays={},this.ci=new tZ(0),this.li=!1,this.li=!0,this.hi=new ix,this.referenceDelegate=e(this),this.Pi=new i_(this),this.indexManager=new ia,this.remoteDocumentCache=new iA(e=>this.referenceDelegate.Ti(e)),this.serializer=new ir(t),this.Ii=new ib(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new iO(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){td("MemoryPersistence","Starting transaction:",e);let n=new ij(this.ci.next());return this.referenceDelegate.Ei(),r(n).next(e=>this.referenceDelegate.di(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}Ai(e,t){return tX.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class ij extends tY{constructor(e){super(),this.currentSequenceNumber=e}}class iI{constructor(e){this.persistence=e,this.Ri=new iE,this.Vi=null}static mi(e){return new iI(e)}get fi(){if(this.Vi)return this.Vi;throw ty(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),tX.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),tX.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),tX.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tX.forEach(this.fi,r=>{let n=tB.fromPath(r);return this.gi(e,n).next(e=>{e||t.removeEntry(n,tG.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return tX.or([()=>tX.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ik{constructor(e,t){this.persistence=e,this.pi=new nn(e=>(function(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t+="\x01\x01"),t=function(e,t){let r=t,n=e.length;for(let t=0;t<n;t++){let n=e.charAt(t);switch(n){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=n}}return r}(e.get(r),t);return t+"\x01\x01"})(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=new ig(this,t)}static mi(e,t){return new ik(e,t)}Ei(){}di(e){return tX.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return tX.forEach(this.pi,(r,n)=>this.br(e,r,n).next(e=>e?tX.resolve():t(n)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.ii(e,n=>this.br(e,n,t).next(e=>{e||(r++,i.removeEntry(n,tG.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),tX.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),tX.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),tX.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),tX.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=function e(t){switch(rv(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let r=rc(t);return r?16+e(r):16;case 5:return 2*t.stringValue.length;case 6:return ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,r)=>t+e(r),0);case 10:case 11:var n;let i;return n=t.mapValue,i=0,t2(n.fields,(t,r)=>{i+=t.length+e(r)}),i;default:throw ty(13486,{value:t})}}(e.data.value)),t}br(e,t,r){return tX.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.pi.get(t);return tX.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class iN{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=n}static As(e,t){let r=nu(),n=nu();for(let e of t.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new iN(e,t.fromCache,r,n)}}class iP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){let t;return!function(){let t=q()?.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(e.g.process)}catch(e){return!1}}()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:Number((t=("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"").match(/Android ([\d.]+)/i))?t[1].split(".").slice(0,2).join("."):"-1")>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,n){let i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,n,r).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let r=new iP;return this.Ss(e,t,r).next(n=>{if(i.result=n,this.Vs)return this.bs(e,t,r,n.size)})}).next(()=>i.result)}bs(e,t,r,n){return r.documentReadCount<this.fs?(tf()<=s.DEBUG&&td("QueryEngine","SDK will not create cache indexes for query:",ne(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tX.resolve()):(tf()<=s.DEBUG&&td("QueryEngine","Query:",ne(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.gs*n?(tf()<=s.DEBUG&&td("QueryEngine","The SDK decides to create cache indexes for query:",ne(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,r4(t))):tX.resolve())}ys(e,t){if(r6(t))return tX.resolve(null);let r=r4(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(r=r4(t=r8(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{let i=nu(...n);return this.ps.getDocuments(e,i).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{let a=this.Ds(t,n);return this.Cs(t,a,i,r.readTime)?this.ys(e,r8(t,null,"F")):this.vs(e,a,t,r)}))})))}ws(e,t,r,n){return r6(t)||n.isEqual(tG.min())?tX.resolve(null):this.ps.getDocuments(e,r).next(i=>{let a,o,l=this.Ds(t,i);return this.Cs(t,l,r,n)?tX.resolve(null):(tf()<=s.DEBUG&&td("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ne(t)),this.vs(e,l,t,(a=n.toTimestamp().seconds,o=n.toTimestamp().nanoseconds+1,new tW(tG.fromTimestamp(1e9===o?new tH(a+1,0):new tH(a,o)),tB.empty(),-1))).next(e=>e))})}Ds(e,t){let r=new t4(nr(e));return t.forEach((t,n)=>{nt(e,n)&&(r=r.add(n))}),r}Cs(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}Ss(e,t,r){return tf()<=s.DEBUG&&td("QueryEngine","Using full collection scan to execute query:",ne(t)),this.ps.getDocumentsMatchingQuery(e,t,tW.min(),r)}vs(e,t,r,n){return this.ps.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}let iD="LocalStore";class iR{constructor(e,t,r,n){this.persistence=e,this.Fs=t,this.serializer=n,this.Ms=new t5(tN),this.xs=new nn(e=>r0(e),r1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iv(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}async function iL(e,t){return await e.persistence.runTransaction("Handle user change","readonly",r=>{let n;return e.mutationQueue.getAllMutationBatches(r).next(i=>(n=i,e.Bs(t),e.mutationQueue.getAllMutationBatches(r))).next(t=>{let i=[],a=[],o=nu();for(let e of n)for(let t of(i.push(e.batchId),e.mutations))o=o.add(t.key);for(let e of t)for(let t of(a.push(e.batchId),e.mutations))o=o.add(t.key);return e.localDocuments.getDocuments(r,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function iF(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}async function iU(e,t,r){let n=e.Ms.get(t);try{r||await e.persistence.runTransaction("Release target",r?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,n))}catch(e){if(!tJ(e))throw e;td(iD,`Failed to update sequence numbers for target ${t}: ${e}`)}e.Ms=e.Ms.remove(t),e.xs.delete(n.target)}function iV(e,t,r){let n=tG.min(),i=nu();return e.persistence.runTransaction("Execute query","readwrite",a=>{var o;let s;return(o=r4(t),void 0!==(s=e.xs.get(o))?tX.resolve(e.Ms.get(s)):e.Pi.getTargetData(a,o)).next(t=>{if(t)return n=t.lastLimboFreeSnapshotVersion,e.Pi.getMatchingKeysForTargetId(a,t.targetId).next(e=>{i=e})}).next(()=>e.Fs.getDocumentsMatchingQuery(a,t,r?n:tG.min(),r?i:nu())).next(r=>{var n,a,o;let s;return n=e,a=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),o=r,s=n.Os.get(a)||tG.min(),o.forEach((e,t)=>{t.readTime.compareTo(s)>0&&(s=t.readTime)}),n.Os.set(a,s),{documents:r,Qs:i}})})}class iB{constructor(){this.activeTargetIds=nc}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class iz{constructor(){this.Mo=new iB,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iB,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class i${Oo(e){}shutdown(){}}let iq="ConnectivityMonitor";class iK{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){for(let e of(td(iq,"Network connectivity changed: AVAILABLE"),this.qo))e(0)}ko(){for(let e of(td(iq,"Network connectivity changed: UNAVAILABLE"),this.qo))e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let iH=null;function iG(){return null===iH?iH=0x10000000+Math.round(0x80000000*Math.random()):iH++,"0x"+iH.toString(16)}let iW="RestConnection",iY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iQ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${n}`,this.Wo=this.databaseId.database===rd?`project_id=${r}`:`project_id=${r}&database_id=${n}`}Go(e,t,r,n,i){let a=iG(),o=this.zo(e,t.toUriEncodedString());td(iW,`Sending RPC '${e}' ${a}:`,o,r);let s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,n,i);let{host:l}=new URL(o),u=G(l);return this.Jo(e,o,s,r,u).then(t=>(td(iW,`Received RPC '${e}' ${a}: `,t),t),t=>{throw tg(iW,`RPC '${e}' ${a} failed with error: `,t,"url: ",o,"request:",r),t})}Ho(e,t,r,n,i,a){return this.Go(e,t,r,n,i)}jo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+tc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,r)=>e[r]=t),r&&r.headers.forEach((t,r)=>e[r]=t)}zo(e,t){let r=iY[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class iX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}let iJ="WebChannelConnection";class iZ extends iQ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,n,i){let a=iG();return new Promise((i,o)=>{let s=new c;s.setWithCredentials(!0),s.listenOnce(f.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case d.NO_ERROR:let t=s.getResponseJson();td(iJ,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case d.TIMEOUT:td(iJ,`RPC '${e}' ${a} timed out`),o(new tx(tw.DEADLINE_EXCEEDED,"Request time out"));break;case d.HTTP_ERROR:let r=s.getStatus();if(td(iJ,`RPC '${e}' ${a} failed with status:`,r,"response text:",s.getResponseText()),r>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;if(t&&t.status&&t.message){let e,r=(e=t.status.toLowerCase().replace(/_/g,"-"),Object.values(tw).indexOf(e)>=0?e:tw.UNKNOWN);o(new tx(r,t.message))}else o(new tx(tw.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new tx(tw.UNAVAILABLE,"Connection failed."));break;default:ty(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{td(iJ,`RPC '${e}' ${a} completed.`)}});let l=JSON.stringify(n);td(iJ,`RPC '${e}' ${a} sending request:`,n),s.send(t,"POST",l,r,15)})}T_(e,t,r){let n=iG(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=y(),o=m(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,r),s.encodeInitMessageHeaders=!0;let u=i.join("");td(iJ,`Creating RPC '${e}' stream ${n}: ${u}`,s);let c=a.createWebChannel(u,s);this.I_(c);let f=!1,d=!1,b=new iX({Yo:t=>{d?td(iJ,`Not sending because RPC '${e}' stream ${n} is closed:`,t):(f||(td(iJ,`Opening RPC '${e}' stream ${n} transport.`),c.open(),f=!0),td(iJ,`RPC '${e}' stream ${n} sending:`,t),c.send(t))},Zo:()=>c.close()}),w=(e,t,r)=>{e.listen(t,e=>{try{r(e)}catch(e){setTimeout(()=>{throw e},0)}})};return w(c,h.EventType.OPEN,()=>{d||(td(iJ,`RPC '${e}' stream ${n} transport opened.`),b.o_())}),w(c,h.EventType.CLOSE,()=>{d||(d=!0,td(iJ,`RPC '${e}' stream ${n} transport closed`),b.a_(),this.E_(c))}),w(c,h.EventType.ERROR,t=>{d||(d=!0,tg(iJ,`RPC '${e}' stream ${n} transport errored. Name:`,t.name,"Message:",t.message),b.a_(new tx(tw.UNAVAILABLE,"The operation could not be completed")))}),w(c,h.EventType.MESSAGE,t=>{if(!d){let r=t.data[0];tb(!!r,16349);let i=r?.error||r[0]?.error;if(i){td(iJ,`RPC '${e}' stream ${n} received error:`,i);let t=i.status,r=function(e){let t=v[e];if(void 0!==t)return nD(t)}(t),a=i.message;void 0===r&&(r=tw.INTERNAL,a="Unknown error status: "+t+" with message "+i.message),d=!0,b.a_(new tx(r,a)),c.close()}else td(iJ,`RPC '${e}' stream ${n} received:`,r),b.u_(r)}}),w(o,g.STAT_EVENT,t=>{t.stat===p.PROXY?td(iJ,`RPC '${e}' stream ${n} detected buffering proxy`):t.stat===p.NOPROXY&&td(iJ,`RPC '${e}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function i0(){return"undefined"!=typeof document?document:null}class i1{constructor(e,t,r=1e3,n=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=n,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),n=Math.max(0,t-r);n>0&&td("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,n,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}let i2="PersistentStream";class i5{constructor(e,t,r,n,i,a,o,s){this.Mi=e,this.S_=r,this.b_=n,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i1(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===tw.RESOURCE_EXHAUSTED?(tp(t.toString()),tp("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===tw.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,r])=>{this.D_===t&&this.G_(e,r)},t=>{e(()=>{let e=new tx(tw.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){let r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{r(()=>this.z_(e))}),this.stream.onMessage(e=>{r(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return td(i2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(td(i2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i6 extends i5{constructor(e,t,r,n,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=function(e,t){let r;if("targetChange"in t){var n,i;t.targetChange;let a="NO_CHANGE"===(n=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===n?1:"REMOVE"===n?2:"CURRENT"===n?3:"RESET"===n?4:ty(39313,{state:n}),o=t.targetChange.targetIds||[],s=(i=t.targetChange.resumeToken,e.useProto3Json?(tb(void 0===i||"string"==typeof i,58123),re.fromBase64String(i||"")):(tb(void 0===i||i instanceof R.Buffer||i instanceof Uint8Array,16193),re.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;r=new nK(a,o,s,l&&new tx(void 0===l.code?tw.UNKNOWN:nD(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let i=n6(e,n.document.name),a=n1(n.document.updateTime),o=n.document.createTime?n1(n.document.createTime):tG.min(),s=new rP({mapValue:{fields:n.document.fields}}),l=rM.newFoundDocument(i,a,o,s);r=new n$(n.targetIds||[],n.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let i=n6(e,n.document),a=n.readTime?n1(n.readTime):tG.min(),o=rM.newNoDocument(i,a);r=new n$([],n.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let i=n6(e,n.document);r=new n$([],n.removedTargetIds||[],i,null)}else{if(!("filter"in t))return ty(11601,{Rt:t});{t.filter;let e=t.filter;e.targetId;let{count:n=0,unchangedNames:i}=e,a=new nM(n,i);r=new nq(e.targetId,a)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return tG.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?tG.min():t.readTime?n1(t.readTime):tG.min()}(e);return this.listener.H_(t,r)}Y_(e){let t,r={};r.database=n4(this.serializer),r.addTarget=function(e,t){var r,n,i,a;let o,s,l,u,c,h,f,d=t.target;if((o=r2(d)?{documents:{documents:[n3(e,d.path)]}}:{query:(l={structuredQuery:{}},u=d.path,null!==d.collectionGroup?(s=u,l.structuredQuery.from=[{collectionId:d.collectionGroup,allDescendants:!0}]):(s=u.popLast(),l.structuredQuery.from=[{collectionId:u.lastSegment()}]),l.parent=n3(e,s),(c=function(e){if(0!==e.length)return function e(t){var r;let n;return t instanceof rV?function(e){if("=="===e.op){if(rT(e.value))return{unaryFilter:{field:n7(e.field),op:"IS_NAN"}};if(r_(e.value))return{unaryFilter:{field:n7(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rT(e.value))return{unaryFilter:{field:n7(e.field),op:"IS_NOT_NAN"}};if(r_(e.value))return{unaryFilter:{field:n7(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:n7(e.field),op:nX[e.op],value:e.value}}}(t):t instanceof rB?1===(n=(r=t).getFilters().map(t=>e(t))).length?n[0]:{compositeFilter:{op:nJ[r.op],filters:n}}:ty(54877,{filter:t})}(rB.create(e,"and"))}(d.filters))&&(l.structuredQuery.where=c),(h=function(e){if(0!==e.length)return e.map(e=>({field:n7(e.field),direction:nQ[e.dir]}))}(d.orderBy))&&(l.structuredQuery.orderBy=h),null!==(f=n0(e,d.limit))&&(l.structuredQuery.limit=f),d.startAt&&(l.structuredQuery.startAt={before:(r=d.startAt).inclusive,values:r.position}),d.endAt&&(l.structuredQuery.endAt={before:!(n=d.endAt).inclusive,values:n.position}),{ft:l,parent:s}).ft}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){i=t.resumeToken,o.resumeToken=e.useProto3Json?i.toBase64():i.toUint8Array();let r=n0(e,t.expectedCount);null!==r&&(o.expectedCount=r)}else if(t.snapshotVersion.compareTo(tG.min())>0){a=t.snapshotVersion.toTimestamp(),o.readTime=e.useProto3Json?`${new Date(1e3*a.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+a.nanoseconds).slice(-9)}Z`:{seconds:""+a.seconds,nanos:a.nanoseconds};let r=n0(e,t.expectedCount);null!==r&&(o.expectedCount=r)}return o}(this.serializer,e);let n=(this.serializer,null==(t=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ty(28987,{purpose:e})}}(e.purpose))?null:{"goog-listen-tags":t});n&&(r.labels=n),this.q_(r)}Z_(e){let t={};t.database=n4(this.serializer),t.removeTarget=e,this.q_(t)}}class i3{}class i4 extends i3{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.ia=!1}sa(){if(this.ia)throw new tx(tw.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,n){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,n2(t,r),n,i,a)).catch(e=>{throw"FirebaseError"===e.name?(e.code===tw.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tx(tw.UNKNOWN,e.toString())})}Ho(e,t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,n2(t,r),n,a,o,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===tw.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tx(tw.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class i8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tp(t),this.aa=!1):td("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}let i7="RemoteStore";class i9{constructor(e,t,r,n,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{r.enqueueAndForget(async()=>{al(this)&&(td(i7,"Restarting streams for network reachability change."),await async function(e){e.Ea.add(4),await at(e),e.Ra.set("Unknown"),e.Ea.delete(4),await ae(e)}(this))})}),this.Ra=new i8(r,n)}}async function ae(e){if(al(e))for(let t of e.da)await t(!0)}async function at(e){for(let t of e.da)await t(!1)}function ar(e,t){e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),as(e)?ao(e):am(e).O_()&&ai(e,t))}function an(e,t){let r=am(e);e.Ia.delete(t),r.O_()&&aa(e,t),0===e.Ia.size&&(r.O_()?r.L_():al(e)&&e.Ra.set("Unknown"))}function ai(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tG.min())>0){let r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}am(e).Y_(t)}function aa(e,t){e.Va.Ue(t),am(e).Z_(t)}function ao(e){e.Va=new nG({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),am(e).start(),e.Ra.ua()}function as(e){return al(e)&&!am(e).x_()&&e.Ia.size>0}function al(e){return 0===e.Ea.size}async function au(e){e.Ra.set("Online")}async function ac(e){e.Ia.forEach((t,r)=>{ai(e,t)})}async function ah(e,t){e.Va=void 0,as(e)?(e.Ra.ha(t),ao(e)):e.Ra.set("Unknown")}async function af(e,t,r){if(e.Ra.set("Online"),t instanceof nK&&2===t.state&&t.cause)try{await async function(e,t){let r=t.cause;for(let n of t.targetIds)e.Ia.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.Ia.delete(n),e.Va.removeTarget(n))}(e,t)}catch(r){td(i7,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ad(e,r)}else if(t instanceof n$?e.Va.Ze(t):t instanceof nq?e.Va.st(t):e.Va.tt(t),!r.isEqual(tG.min()))try{let t,n=await iF(e.localStore);r.compareTo(n)>=0&&await ((t=e.Va.Tt(r)).targetChanges.forEach((t,n)=>{if(t.resumeToken.approximateByteSize()>0){let i=e.Ia.get(n);i&&e.Ia.set(n,i.withResumeToken(t.resumeToken,r))}}),t.targetMismatches.forEach((t,r)=>{let n=e.Ia.get(t);if(!n)return;e.Ia.set(t,n.withResumeToken(re.EMPTY_BYTE_STRING,n.snapshotVersion)),aa(e,t);let i=new it(n.target,t,r,n.sequenceNumber);ai(e,i)}),e.remoteSyncer.applyRemoteEvent(t))}catch(t){td(i7,"Failed to raise snapshot:",t),await ad(e,t)}}async function ad(e,t,r){if(!tJ(t))throw t;e.Ea.add(1),await at(e),e.Ra.set("Offline"),r||(r=()=>iF(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{td(i7,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await ae(e)})}async function ap(e,t){e.asyncQueue.verifyOperationInProgress(),td(i7,"RemoteStore received new credentials");let r=al(e);e.Ea.add(3),await at(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await ae(e)}async function ag(e,t){t?(e.Ea.delete(2),await ae(e)):t||(e.Ea.add(2),await at(e),e.Ra.set("Unknown"))}function am(e){var t,r,n;return e.ma||(t=e.datastore,r=e.asyncQueue,n={Xo:au.bind(null,e),t_:ac.bind(null,e),r_:ah.bind(null,e),H_:af.bind(null,e)},t.sa(),e.ma=new i6(r,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,n),e.da.push(async t=>{t?(e.ma.B_(),as(e)?ao(e):e.Ra.set("Unknown")):(await e.ma.stop(),e.Va=void 0)})),e.ma}class ay{constructor(e,t,r,n,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new tE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,i){let a=new ay(e,t,Date.now()+r,n,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tx(tw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function av(e,t){if(tp("AsyncQueue",`${t}: ${e}`),tJ(e))return new tx(tw.UNAVAILABLE,`${t}: ${e}`);throw e}class ab{static emptySet(e){return new ab(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||tB.comparator(t.key,r.key):(e,t)=>tB.comparator(e.key,t.key),this.keyedMap=no(),this.sortedSet=new t5(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ab)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let r=new ab;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aw{constructor(){this.ga=new t5(tB.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?0!==e.type&&3===r.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==r.type?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.ga=this.ga.remove(t):1===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ty(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class ax{constructor(e,t,r,n,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,i){let a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new ax(e,t,ab.emptySet(t),a,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&r7(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==r[e].type||!t[e].doc.isEqual(r[e].doc))return!1;return!0}}class aE{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class aS{constructor(){this.queries=aO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){var e;let t;e=new tx(tw.ABORTED,"Firestore shutting down"),t=this.queries,this.queries=aO(),t.forEach((t,r)=>{for(let t of r.Sa)t.onError(e)})}}function aO(){return new nn(e=>r9(e),r7)}async function aA(e,t){let r=3,n=t.query,i=e.queries.get(n);i?!i.ba()&&t.Da()&&(r=2):(i=new aE,r=+!t.Da());try{switch(r){case 0:i.wa=await e.onListen(n,!0);break;case 1:i.wa=await e.onListen(n,!1);break;case 2:await e.onFirstRemoteStoreListen(n)}}catch(r){let e=av(r,`Initialization of query '${ne(t.query)}' failed`);return void t.onError(e)}e.queries.set(n,i),i.Sa.push(t),t.va(e.onlineState),i.wa&&t.Fa(i.wa)&&aj(e)}async function aC(e,t){let r=t.query,n=3,i=e.queries.get(r);if(i){let e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?n=+!t.Da():!i.ba()&&t.Da()&&(n=2))}switch(n){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function a_(e,t){let r=!1;for(let n of t){let t=n.query,i=e.queries.get(t);if(i){for(let e of i.Sa)e.Fa(n)&&(r=!0);i.wa=n}}r&&aj(e)}function aT(e,t,r){let n=e.queries.get(t);if(n)for(let e of n.Sa)e.onError(r);e.queries.delete(t)}function aj(e){e.Ca.forEach(e=>{e.next()})}(x=w||(w={})).Ma="default",x.Cache="cache";class aI{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let r of e.docChanges)3!==r.type&&t.push(r);e=new ax(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){return!(e.fromCache&&this.Da())||(!this.options.qa||"Offline"===t)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=ax.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==w.Cache}}class ak{constructor(e){this.key=e}}class aN{constructor(e){this.key=e}}class aP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nu(),this.mutatedKeys=nu(),this.eu=nr(e),this.tu=new ab(this.eu)}get nu(){return this.Ya}ru(e,t){let r=t?t.iu:new aw,n=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=n,o=!1,s="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{let u=n.get(e),c=nt(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(r.track({type:3,doc:c}),d=!0):this.su(u,c)||(r.track({type:2,doc:c}),d=!0,(s&&this.eu(c,s)>0||l&&0>this.eu(c,l))&&(o=!0)):!u&&c?(r.track({type:0,doc:c}),d=!0):u&&!c&&(r.track({type:1,doc:u}),d=!0,(s||l)&&(o=!0)),d&&(c?(a=a.add(c),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){let e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),r.track({type:1,doc:e})}return{tu:a,iu:r,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort((e,t)=>{var r,n;let i;return r=e.type,n=t.type,(i=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ty(20277,{Rt:e})}})(r)-i(n)||this.eu(e.doc,t.doc)}),this.ou(r),n=n??!1;let o=t&&!n?this._u():[],s=0===this.Xa.size&&this.current&&!n?1:0,l=s!==this.Za;return(this.Za=s,0!==a.length||l)?{snapshot:new ax(this.query,e.tu,i,a,e.mutatedKeys,0===s,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=nu(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});let t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new aN(e))}),this.Xa.forEach(r=>{e.has(r)||t.push(new ak(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=nu();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ax.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}let aM="SyncEngine";class aD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aR{constructor(e){this.key=e,this.hu=!1}}class aL{constructor(e,t,r,n,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new nn(e=>r9(e),r7),this.Iu=new Map,this.Eu=new Set,this.du=new t5(tB.comparator),this.Au=new Map,this.Ru=new iE,this.Vu={},this.mu=new Map,this.fu=iu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function aF(e,t,r=!0){let n,i=a0(e),a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),n=a.view.lu()):n=await aV(i,t,r,!0),n}async function aU(e,t){let r=a0(e);await aV(r,t,!0,!1)}async function aV(e,t,r,n){var i,a;let o,s=await (i=e.localStore,a=r4(t),i.persistence.runTransaction("Allocate target","readwrite",e=>{let t;return i.Pi.getTargetData(e,a).next(r=>r?(t=r,tX.resolve(t)):i.Pi.allocateTargetId(e).next(r=>(t=new it(a,r,"TargetPurposeListen",e.currentSequenceNumber),i.Pi.addTargetData(e,t).next(()=>t))))}).then(e=>{let t=i.Ms.get(e.targetId);return(null===t||e.snapshotVersion.compareTo(t.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(e.targetId,e),i.xs.set(a,e.targetId)),e})),l=s.targetId,u=e.sharedClientState.addLocalQueryTarget(l,r);return n&&(o=await aB(e,t,l,"current"===u,s.resumeToken)),e.isPrimaryClient&&r&&ar(e.remoteStore,s),o}async function aB(e,t,r,n,i){e.pu=(t,r,n)=>(async function(e,t,r,n){let i=t.view.ru(r);i.Cs&&(i=await iV(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));let a=n&&n.targetChanges.get(t.targetId),o=n&&null!=n.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return aY(e,t.targetId,s.au),s.snapshot})(e,t,r,n);let a=await iV(e.localStore,t,!0),o=new aP(t,a.Qs),s=o.ru(a.documents),l=nz.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,i),u=o.applyChanges(s,e.isPrimaryClient,l);aY(e,r,u.au);let c=new aD(t,r,o);return e.Tu.set(t,c),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function az(e,t,r){let n=e.Tu.get(t),i=e.Iu.get(n.targetId);i.length>1?(e.Iu.set(n.targetId,i.filter(e=>!r7(e,t))),e.Tu.delete(t)):e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||await iU(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),r&&an(e.remoteStore,n.targetId),aG(e,n.targetId)}).catch(tQ)):(aG(e,n.targetId),await iU(e.localStore,n.targetId,!0))}async function a$(e,t){let r=e.Tu.get(t),n=e.Iu.get(r.targetId);e.isPrimaryClient&&1===n.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),an(e.remoteStore,r.targetId))}async function aq(e,t){var r;try{let n,i,a=await (r=e.localStore,n=t.snapshotVersion,i=r.Ms,r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{var a,o,s;let l,u,c=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;let h=[];t.targetChanges.forEach((a,o)=>{var s;let l=i.get(o);if(!l)return;h.push(r.Pi.removeMatchingKeys(e,a.removedDocuments,o).next(()=>r.Pi.addMatchingKeys(e,a.addedDocuments,o)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?u=u.withResumeToken(re.EMPTY_BYTE_STRING,tG.min()).withLastLimboFreeSnapshotVersion(tG.min()):a.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(a.resumeToken,n)),i=i.insert(o,u),s=u,(0===l.resumeToken.approximateByteSize()||s.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size>0)&&h.push(r.Pi.updateTargetData(e,u))});let f=ni,d=nu();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&h.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))}),h.push((a=e,o=c,s=t.documentUpdates,l=nu(),u=nu(),s.forEach(e=>l=l.add(e)),o.getEntries(a,l).next(e=>{let t=ni;return s.forEach((r,n)=>{let i=e.get(r);n.isFoundDocument()!==i.isFoundDocument()&&(u=u.add(r)),n.isNoDocument()&&n.version.isEqual(tG.min())?(o.removeEntry(r,n.readTime),t=t.insert(r,n)):!i.isValidDocument()||n.version.compareTo(i.version)>0||0===n.version.compareTo(i.version)&&i.hasPendingWrites?(o.addEntry(n),t=t.insert(r,n)):td(iD,"Ignoring outdated watch update for ",r,". Current version:",i.version," Watch version:",n.version)}),{ks:t,qs:u}})).next(e=>{f=e.ks,d=e.qs})),!n.isEqual(tG.min())){let t=r.Pi.getLastRemoteSnapshotVersion(e).next(t=>r.Pi.setTargetsMetadata(e,e.currentSequenceNumber,n));h.push(t)}return tX.waitFor(h).next(()=>c.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,f,d)).next(()=>f)}).then(e=>(r.Ms=i,e)));t.targetChanges.forEach((t,r)=>{let n=e.Au.get(r);n&&(tb(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,22616),t.addedDocuments.size>0?n.hu=!0:t.modifiedDocuments.size>0?tb(n.hu,14607):t.removedDocuments.size>0&&(tb(n.hu,42227),n.hu=!1))}),await aX(e,a,t)}catch(e){await tQ(e)}}function aK(e,t,r){var n;if(e.isPrimaryClient&&0===r||!e.isPrimaryClient&&1===r){let r,i=[];e.Tu.forEach((e,r)=>{let n=r.view.va(t);n.snapshot&&i.push(n.snapshot)}),(n=e.eventManager).onlineState=t,r=!1,n.queries.forEach((e,n)=>{for(let e of n.Sa)e.va(t)&&(r=!0)}),r&&aj(n),i.length&&e.Pu.H_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function aH(e,t,r){e.sharedClientState.updateQueryState(t,"rejected",r);let n=e.Au.get(t),i=n&&n.key;if(i){let r=new t5(tB.comparator);r=r.insert(i,rM.newNoDocument(i,tG.min()));let n=nu().add(i),a=new nB(tG.min(),new Map,new t5(tN),r,n);await aq(e,a),e.du=e.du.remove(i),e.Au.delete(t),aQ(e)}else await iU(e.localStore,t,!1).then(()=>aG(e,t,r)).catch(tQ)}function aG(e,t,r=null){for(let n of(e.sharedClientState.removeLocalQueryTarget(t),e.Iu.get(t)))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||aW(e,t)})}function aW(e,t){e.Eu.delete(t.path.canonicalString());let r=e.du.get(t);null!==r&&(an(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),aQ(e))}function aY(e,t,r){for(let n of r)n instanceof ak?(e.Ru.addReference(n.key,t),function(e,t){let r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(td(aM,"New document in limbo: "+r),e.Eu.add(n),aQ(e))}(e,n)):n instanceof aN?(td(aM,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||aW(e,n.key)):ty(19791,{wu:n})}function aQ(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let r=new tB(tF.fromString(t)),n=e.fu.next();e.Au.set(n,new aR(r)),e.du=e.du.insert(r,n),ar(e.remoteStore,new it(r4(new r5(r.path)),n,"TargetPurposeLimboResolution",tZ.ce))}}async function aX(e,t,r){let n=[],i=[],a=[];e.Tu.isEmpty()||(e.Tu.forEach((o,s)=>{a.push(e.pu(s,t,r).then(t=>{if((t||r)&&e.isPrimaryClient){let n=t?!t.fromCache:r?.targetChanges.get(s.targetId)?.current;e.sharedClientState.updateQueryState(s.targetId,n?"current":"not-current")}if(t){n.push(t);let e=iN.As(s.targetId,t);i.push(e)}}))}),await Promise.all(a),e.Pu.H_(n),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>tX.forEach(t,t=>tX.forEach(t.Es,n=>e.persistence.referenceDelegate.addReference(r,t.targetId,n)).next(()=>tX.forEach(t.ds,n=>e.persistence.referenceDelegate.removeReference(r,t.targetId,n)))))}catch(e){if(!tJ(e))throw e;td(iD,"Failed to update sequence numbers: "+e)}for(let r of t){let t=r.targetId;if(!r.fromCache){let r=e.Ms.get(t),n=r.snapshotVersion,i=r.withLastLimboFreeSnapshotVersion(n);e.Ms=e.Ms.insert(t,i)}}}(e.localStore,i))}async function aJ(e,t){if(!e.currentUser.isEqual(t)){td(aM,"User change. New user:",t.toKey());let r=await iL(e.localStore,t);e.currentUser=t,e.mu.forEach(e=>{e.forEach(e=>{e.reject(new tx(tw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.mu.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await aX(e,r.Ls)}}function aZ(e,t){let r=e.Au.get(t);if(r&&r.hu)return nu().add(r.key);{let r=nu(),n=e.Iu.get(t);if(!n)return r;for(let t of n){let n=e.Tu.get(t);r=r.unionWith(n.view.nu)}return r}}function a0(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=aq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aH.bind(null,e),e.Pu.H_=a_.bind(null,e.eventManager),e.Pu.yu=aT.bind(null,e.eventManager),e}class a1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=new nZ(e.databaseInfo.databaseId,!0),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){var t,r;return t=this.persistence,r=new iM,new iR(t,r,e.initialUser,this.serializer)}Cu(e){return new iT(iI.mi,this.serializer)}Du(e){return new iz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}a1.provider={build:()=>new a1};class a2 extends a1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){return tb(this.persistence.referenceDelegate instanceof ik,46915),new ip(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Cu(e){let t=void 0!==this.cacheSizeBytes?il.withCacheSize(this.cacheSizeBytes):il.DEFAULT;return new iT(e=>ik.mi(e,t),this.serializer)}}class a5{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>aK(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=aJ.bind(null,this.syncEngine),await ag(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new aS}createDatastore(e){var t;let r=new nZ(e.databaseInfo.databaseId,!0),n=new iZ(e.databaseInfo);return t=e.authCredentials,new i4(t,e.appCheckCredentials,n,r)}createRemoteStore(e){var t,r;return t=this.localStore,r=this.datastore,new i9(t,r,e.asyncQueue,e=>aK(this.syncEngine,e,0),iK.v()?new iK:new i$)}createSyncEngine(e,t){var r,n,i,a,o,s;let l;return r=this.localStore,n=this.remoteStore,i=this.eventManager,a=this.sharedClientState,o=e.initialUser,s=e.maxConcurrentLimboResolutions,l=new aL(r,n,i,a,o,s),t&&(l.gu=!0),l}async terminate(){await async function(e){td(i7,"RemoteStore shutting down."),e.Ea.add(5),await at(e),e.Aa.shutdown(),e.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}a5.provider={build:()=>new a5};class a6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tp("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}let a3="FirestoreClient";class a4{constructor(e,t,r,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=tu.UNAUTHENTICATED,this.clientId=tk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async e=>{td(a3,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(td(a3,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let t=av(r,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function a8(e,t){e.asyncQueue.verifyOperationInProgress(),td(a3,"Initializing OfflineComponentProvider");let r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await iL(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function a7(e,t){e.asyncQueue.verifyOperationInProgress();let r=await a9(e);td(a3,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>ap(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>ap(t.remoteStore,r)),e._onlineComponents=t}async function a9(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){td(a3,"Using user provided OfflineComponentProvider");try{await a8(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===tw.FAILED_PRECONDITION||t.code===tw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;tg("Error using user provided cache. Falling back to memory cache: "+t),await a8(e,new a1)}}else td(a3,"Using default OfflineComponentProvider"),await a8(e,new a2(void 0));return e._offlineComponents}async function oe(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(td(a3,"Using user provided OnlineComponentProvider"),await a7(e,e._uninitializedComponentsProvider._online)):(td(a3,"Using default OnlineComponentProvider"),await a7(e,new a5))),e._onlineComponents}async function ot(e){let t=await oe(e),r=t.eventManager;return r.onListen=aF.bind(null,t.syncEngine),r.onUnlisten=az.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=aU.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=a$.bind(null,t.syncEngine),r}function or(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let on=new Map,oi="firestore.googleapis.com";class oa{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new tx(tw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oi,this.ssl=!0}else this.host=e.host,this.ssl=e.ssl??!0;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tx(tw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new tx(tw.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=or(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new tx(tw.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new tx(tw.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new tx(tw.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,r;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,t.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oo{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oa({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tx(tw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tx(tw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oa(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new tO;switch(e.type){case"firstParty":return new tT(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tx(tw.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){let e;return(e=on.get(this))&&(td("ComponentProvider","Removing Datastore"),on.delete(this),e.terminate()),Promise.resolve()}}class os{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class ol{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ol(this.firestore,e,this._key)}toJSON(){return{type:ol._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(tK(t,ol._jsonSchema))return new ol(e,r||null,new tB(tF.fromString(t.referencePath)))}}ol._jsonSchemaVersion="firestore/documentReference/1.0",ol._jsonSchema={type:tq("string",ol._jsonSchemaVersion),referencePath:tq("string")};class ou extends os{constructor(e,t,r){super(e,t,new r5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ol(this.firestore,null,new tB(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}let oc="AsyncQueue";class oh{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i1(this,"async_queue_retry"),this._c=()=>{let e=i0();e&&td(oc,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=i0();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=i0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new tE;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tJ(e))throw e;td(oc,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,tp("INTERNAL UNHANDLED ERROR: ",of(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let n=ay.createAndSchedule(this,e,t,r,e=>this.hc(e));return this.tc.push(n),n}uc(){this.nc&&ty(47125,{Pc:of(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{for(let t of(this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.tc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}}function of(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function od(e){if("object"!=typeof e||null===e)return!1;for(let t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}class op extends oo{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new oh,this._persistenceKey=n?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new oh(e),this._firestoreClient=void 0,await e}}}class og{constructor(e){this._byteString=e}static fromBase64String(e){try{return new og(re.fromBase64String(e))}catch(e){throw new tx(tw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new og(re.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:og._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tK(e,og._jsonSchema))return og.fromBase64String(e.bytes)}}og._jsonSchemaVersion="firestore/bytes/1.0",og._jsonSchema={type:tq("string",og._jsonSchemaVersion),bytes:tq("string")};class om{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tx(tw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tV(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tx(tw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tx(tw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tN(this._lat,e._lat)||tN(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oy._jsonSchemaVersion}}static fromJSON(e){if(tK(e,oy._jsonSchema))return new oy(e.latitude,e.longitude)}}oy._jsonSchemaVersion="firestore/geoPoint/1.0",oy._jsonSchema={type:tq("string",oy._jsonSchemaVersion),latitude:tq("number"),longitude:tq("number")};class ov{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ov._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tK(e,ov._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new ov(e.vectorValues);throw new tx(tw.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ov._jsonSchemaVersion="firestore/vectorValue/1.0",ov._jsonSchema={type:tq("string",ov._jsonSchemaVersion),vectorValues:tq("object")};let ob=RegExp("[~\\*/\\[\\]]");function ow(e,t,r,n,i){let a=n&&!n.isEmpty(),o=void 0!==i,s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new tx(tw.INVALID_ARGUMENT,s+e+l)}class ox{constructor(e,t,r,n,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ol(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new oE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(oS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oE extends ox{data(){return super.data()}}function oS(e,t){return"string"==typeof t?function(e,t,r){if(t.search(ob)>=0)throw ow(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,void 0);try{return new om(...t.split("."))._internalPath}catch(r){throw ow(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,void 0)}}(e,t):t instanceof om?t._internalPath:t._delegate._internalPath}class oO{convertValue(e,t="none"){switch(rv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ty(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return t2(e,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertVectorValue(e){return new ov(e.fields?.[ry].arrayValue?.values?.map(e=>rn(e.doubleValue)))}convertGeoPoint(e){return new oy(rn(e.latitude),rn(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=rc(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rh(e));default:return null}}convertTimestamp(e){let t=rr(e);return new tH(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=tF.fromString(e);tb(ie(r),9688,{name:e});let n=new rp(r.get(1),r.get(3)),i=new tB(r.popFirst(5));return n.isEqual(t)||tp(`Document ${i} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class oA{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oC extends ox{constructor(e,t,r,n,i,a){super(e,t,r,n,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new o_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(oS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new tx(tw.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=oC._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()&&(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),this._firestore,this.ref.path,t.bundle="NOT SUPPORTED"),t}}oC._jsonSchemaVersion="firestore/documentSnapshot/1.0",oC._jsonSchema={type:tq("string",oC._jsonSchemaVersion),bundleSource:tq("string","DocumentSnapshot"),bundleName:tq("string"),bundle:tq("string")};class o_ extends oC{data(e={}){return super.data(e)}}class oT{constructor(e,t,r,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new oA(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new o_(this._firestore,this._userDataWriter,r.key,r,new oA(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tx(tw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(r=>{let n=new o_(e._firestore,e._userDataWriter,r.doc.key,r.doc,new oA(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}})}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let n=new o_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new oA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ty(61501,{type:e})}}(t.type),doc:n,oldIndex:i,newIndex:a}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new tx(tw.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=oT._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tk.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],n=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),n.push(e.ref.path))}),this._firestore,this.query._query,e.bundleName,e.bundle="NOT SUPPORTED",e}}oT._jsonSchemaVersion="firestore/querySnapshot/1.0",oT._jsonSchema={type:tq("string",oT._jsonSchemaVersion),bundleSource:tq("string","QuerySnapshot"),bundleName:tq("string"),bundle:tq("string")};class oj extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new og(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ol(this.firestore,null,t)}}new WeakMap,function(e=!0){tc=eW,eL(new ei("firestore",(t,{instanceIdentifier:r,options:n})=>{let i=t.getProvider("app").getImmediate(),a=new op(new tC(t.getProvider("auth-internal")),new tI(i,t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tx(tw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rp(e.options.projectId,t)}(i,r),i);return n={useFetchStreams:e,...n},a._setSettings(n),a},"PUBLIC").setMultipleInstances(!0)),e0(ts,tl,void 0),e0(ts,tl,"esm2020")}(),e0("firebase","12.6.0","app"),e.i(92953);let oI=function(e,t){let r=eF("object"==typeof e?e:eX(),"firestore").getImmediate({identifier:"string"==typeof e?e:rd});if(!r._initialized){let e=(e=>{let t=q()?.emulatorHosts?.[e];if(!t)return;let r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]})("firestore");e&&function(e,t,r,n={}){e=t$(e,oo);let i=G(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${r}`;i&&(W(`https://${s}`),function(e,t){if("undefined"==typeof window||"undefined"==typeof document||!G(window.location.host)||Y[e]===t||Y[e]||Q)return;function r(e){return`__firebase__banner__${e}`}Y[e]=t;let n="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(Y))Y[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){let e,t,a=(e=document.getElementById(n),t=!1,e||((e=document.createElement("div")).setAttribute("id",n),t=!0),{created:t,element:e}),o=r("text"),s=document.getElementById(o)||document.createElement("span"),l=r("learnmore"),u=document.getElementById(l)||document.createElement("a"),c=r("preprendIcon"),h=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(a.created){let e,t=a.element;t.style.display="flex",t.style.background="#7faaf0",t.style.position="fixed",t.style.bottom="5px",t.style.left="5px",t.style.padding=".5em",t.style.borderRadius="5px",t.style.alignItems="center",u.setAttribute("id",l),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline";let r=((e=document.createElement("span")).style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{let e;Q=!0,(e=document.getElementById(n))&&e.remove()},e);h.setAttribute("width","24"),h.setAttribute("id",c),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px",t.append(h,s,u,r),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,s.innerText="Preview backend running in this workspace."),s.setAttribute("id",o)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}("Firestore",!0)),a.host!==oi&&a.host!==s&&tg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l={...a,host:s,ssl:i,emulatorOptions:n};if(!et(l,o)&&(e._setSettings(l),n.mockUserToken)){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=tu.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r=t||"demo-project",n=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(a)),""].join(".")}(n.mockUserToken,e._app?.options.projectId);let i=n.mockUserToken.sub||n.mockUserToken.user_id;if(!i)throw new tx(tw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new tu(i)}e._authCredentials=new tA(new tS(t,r))}}(r,...e)}return r}(0===eJ().length?eY({apiKey:"demo-key",authDomain:"demo-project.firebaseapp.com",projectId:"xenon-bivouac-479813-u1",storageBucket:"demo-project.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef"}):eJ()[0]),ok=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},oN=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var oP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let oM=(0,P.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>(0,P.createElement)("svg",{ref:l,...oP,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:oN("lucide",i),...!a&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(s)&&{"aria-hidden":"true"},...s},[...o.map(([e,t])=>(0,P.createElement)(e,t)),...Array.isArray(a)?a:[a]])),oD=(e,t)=>{let r=(0,P.forwardRef)(({className:r,...n},i)=>(0,P.createElement)(oM,{ref:i,iconNode:t,className:oN(`lucide-${ok(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n}));return r.displayName=ok(e),r},oR=oD("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),oL=oD("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function oF({onSearchStart:e,onSearchComplete:t}){let[r,n]=(0,P.useState)(""),[i,a]=(0,P.useState)(""),[o,s]=(0,P.useState)(!1),l=async n=>{if(n.preventDefault(),r.trim()||i.trim()){s(!0),e();try{let e=[r,i].filter(Boolean).join(" ");await t(e)}catch(e){console.error(e)}finally{s(!1)}}};return(0,N.jsx)("div",{className:"w-full max-w-4xl mx-auto relative z-10",children:(0,N.jsxs)("form",{onSubmit:l,className:"relative flex items-center bg-white/80 backdrop-blur-md border border-white/20 rounded-full shadow-2xl hover:shadow-orange-500/20 transition-all duration-300 overflow-hidden p-2 h-20 w-full group",children:[(0,N.jsxs)("div",{className:"flex-1 flex flex-col justify-center px-6 border-r border-slate-200/50 hover:bg-white/50 transition-colors h-full",children:[(0,N.jsx)("label",{htmlFor:"keyword",className:"text-xs font-bold text-slate-500 mb-0.5 uppercase tracking-wider",children:"Keyword"}),(0,N.jsx)("input",{id:"keyword",type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"",className:"w-full bg-transparent border-none focus:ring-0 p-0 text-slate-900 font-bold placeholder:text-slate-300 text-base truncate"})]}),(0,N.jsxs)("div",{className:"flex-1 flex flex-col justify-center px-6 hover:bg-white/50 transition-colors h-full hidden md:flex",children:[(0,N.jsx)("label",{htmlFor:"area",className:"text-xs font-bold text-slate-500 mb-0.5 uppercase tracking-wider",children:"Area"}),(0,N.jsx)("input",{id:"area",type:"text",value:i,onChange:e=>a(e.target.value),placeholder:"",className:"w-full bg-transparent border-none focus:ring-0 p-0 text-slate-900 font-bold placeholder:text-slate-300 text-base truncate"})]}),(0,N.jsx)("button",{type:"submit",disabled:o,className:"ml-2 bg-[#E65100] hover:bg-[#F57C00] text-white p-4 rounded-full transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-orange-500/50 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:hover:scale-100 aspect-square h-14 w-14",children:o?(0,N.jsx)(oL,{className:"w-6 h-6 animate-spin"}):(0,N.jsx)(oR,{className:"w-6 h-6 font-bold"})})]})})}var oU=e.i(95187),oV=(0,oU.createServerReference)("4056822d4ade9a311a32427aeda022a176ce08eaf4",oU.callServer,void 0,oU.findSourceMapURL,"searchAndAnalyze"),oB=(0,oU.createServerReference)("0025dcc66d69f150902d2eb593de3fa8e72d85c838",oU.callServer,void 0,oU.findSourceMapURL,"getGoogleMapsApiKey");function oz(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}(e))&&(n&&(n+=" "),n+=t);return n}var o$=e.i(58723),oq=e.i(92068),oK=e=>0===e?0:e>0?1:-1,oH=e=>"number"==typeof e&&e!=+e,oG=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,oW=e=>("number"==typeof e||e instanceof Number)&&!oH(e),oY=e=>oW(e)||"string"==typeof e,oQ=0,oX=e=>{var t=++oQ;return"".concat(e||"").concat(t)},oJ=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!oW(e)&&"string"!=typeof e)return n;if(oG(e)){if(null==t)return n;var a=e.indexOf("%");r=t*parseFloat(e.slice(0,a))/100}else r=+e;return oH(r)&&(r=n),i&&null!=t&&r>t&&(r=t),r},oZ=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(r[e[n]])return!0;else r[e[n]]=!0;return!1};function o0(e,t,r){return oW(e)&&oW(t)?e+r*(t-e):t}var o1=e=>null==e?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function o2(e){return null!=e}function o5(){}var o6=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if("undefined"!=typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>n[a++]))}},o3=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=oG(n)?e:Number(n),l=oG(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&null!=l&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},o4={width:0,height:0,overflow:"visible"},o8={width:0,overflowX:"visible"},o7={height:0,overflowY:"visible"},o9={};function se(e){return Number.isFinite(e)}function st(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function sr(){return(sr=Object.assign.bind()).apply(null,arguments)}function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var sa=(0,P.createContext)({width:-1,height:-1});function so(e){var{children:t,width:r,height:n}=e,i=(0,P.useMemo)(()=>({width:r,height:n}),[r,n]);return st(i.width)&&st(i.height)?P.createElement(sa.Provider,{value:i},t):null}var ss=()=>(0,P.useContext)(sa),sl=(0,P.forwardRef)((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:h,className:f,onResize:d,style:p={}}=e,g=(0,P.useRef)(null),m=(0,P.useRef)();m.current=d,(0,P.useImperativeHandle)(t,()=>g.current);var[y,v]=(0,P.useState)({containerWidth:n.width,containerHeight:n.height}),b=(0,P.useCallback)((e,t)=>{v(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]);(0,P.useEffect)(()=>{if(null==g.current||"undefined"==typeof ResizeObserver)return o5;var e=e=>{var t,{width:r,height:n}=e[0].contentRect;b(r,n),null==(t=m.current)||t.call(m,r,n)};c>0&&(e=(0,o$.default)(e,c,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=g.current.getBoundingClientRect();return b(r,n),t.observe(g.current),()=>{t.disconnect()}},[b,c]);var{containerWidth:w,containerHeight:x}=y;o6(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:E,calculatedHeight:S}=o3(w,x,{width:i,height:a,aspect:r,maxHeight:l});return o6(null!=E&&E>0||null!=S&&S>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",E,S,i,a,o,s,r),P.createElement("div",{id:h?"".concat(h):void 0,className:oz("recharts-responsive-container",f),style:si(si({},p),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},P.createElement("div",{style:(e=>{var{width:t,height:r}=e,n=oG(t),i=oG(r);return n&&i?o4:n?o8:i?o7:o9})({width:i,height:a})},P.createElement(so,{width:E,height:S},u)))}),su=(0,P.forwardRef)((e,t)=>{var r=ss();if(st(r.width)&&st(r.height))return e.children;var{width:n,height:i}=function(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return void 0===i&&void 0===a?(i="100%",a="100%"):void 0===i?i=n&&n>0?void 0:"100%":void 0===a&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=o3(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return oW(a)&&oW(o)?P.createElement(so,{width:a,height:o},e.children):P.createElement(sl,sr({},e,{width:n,height:i,ref:t}))}),sc=Symbol.for("immer-nothing"),sh=Symbol.for("immer-draftable"),sf=Symbol.for("immer-state");function sd(e){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sp=Object,sg=sp.getPrototypeOf,sm="constructor",sy="prototype",sv="configurable",sb="enumerable",sw="writable",sx="value",sE=e=>!!e&&!!e[sf];function sS(e){return!!e&&(sC(e)||sN(e)||!!e[sh]||!!e[sm]?.[sh]||sP(e)||sM(e))}var sO=sp[sy][sm].toString(),sA=new WeakMap;function sC(e){if(!e||!sD(e))return!1;let t=sg(e);if(null===t||t===sp[sy])return!0;let r=sp.hasOwnProperty.call(t,sm)&&t[sm];if(r===Object)return!0;if(!sR(r))return!1;let n=sA.get(r);return void 0===n&&(n=Function.toString.call(r),sA.set(r,n)),n===sO}function s_(e,t,r=!0){0===sT(e)?(r?Reflect.ownKeys(e):sp.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function sT(e){let t=e[sf];return t?t.type_:sN(e)?1:sP(e)?2:3*!!sM(e)}var sj=(e,t,r=sT(e))=>2===r?e.has(t):sp[sy].hasOwnProperty.call(e,t),sI=(e,t,r=sT(e))=>2===r?e.get(t):e[t],sk=(e,t,r,n=sT(e))=>{2===n?e.set(t,r):3===n?e.add(r):e[t]=r},sN=Array.isArray,sP=e=>e instanceof Map,sM=e=>e instanceof Set,sD=e=>"object"==typeof e,sR=e=>"function"==typeof e,sL=e=>e.modified_?e.copy_:e.base_;function sF(e,t){if(sP(e))return new Map(e);if(sM(e))return new Set(e);if(sN(e))return Array[sy].slice.call(e);let r=sC(e);if(!0!==t&&("class_only"!==t||r)){let t=sg(e);if(null!==t&&r)return{...e};let n=sp.create(t);return sp.assign(n,e)}{let t=sp.getOwnPropertyDescriptors(e);delete t[sf];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let i=r[n],a=t[i];!1===a[sw]&&(a[sw]=!0,a[sv]=!0),(a.get||a.set)&&(t[i]={[sv]:!0,[sw]:!0,[sb]:a[sb],[sx]:e[i]})}return sp.create(sg(e),t)}}function sU(e,t=!1){return sB(e)||sE(e)||!sS(e)||(sT(e)>1&&sp.defineProperties(e,{set:sV,add:sV,clear:sV,delete:sV}),sp.freeze(e),t&&s_(e,(e,t)=>{sU(t,!0)},!1)),e}var sV={[sx]:function(){sd(2)}};function sB(e){return!(null!==e&&sD(e))||sp.isFrozen(e)}var sz="MapSet",s$="Patches",sq={};function sK(e){let t=sq[e];return t||sd(0,e),t}function sH(e,t){t&&(e.patchPlugin_=sK(s$),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sG(e){sW(e),e.drafts_.forEach(sQ),e.drafts_=null}function sW(e){e===E&&(E=e.parent_)}var sY=e=>{let t;return t=E,E={drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sq[sz]?sK(sz):void 0}};function sQ(e){let t=e[sf];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function sX(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];if(void 0!==e&&e!==r){r[sf].modified_&&(sG(t),sd(4)),sS(e)&&(e=sJ(t,e));let{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(r[sf].base_,e,t)}else e=sJ(t,r);return function(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sU(t,r)}(t,e,!0),sG(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==sc?e:void 0}function sJ(e,t){if(sB(t))return t;let r=t[sf];if(!r)return s6(t,e.handledSet_,e);if(!s0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){let{callbacks_:t}=r;if(t)for(;t.length>0;)t.pop()(e);s5(r,e)}return r.copy_}function sZ(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var s0=(e,t)=>e.scope_===t,s1=[];function s2(e,t,r,n){let i=e.copy_||e.base_,a=e.type_;if(void 0!==n&&sI(i,n,a)===t)return void sk(i,n,r,a);if(!e.draftLocations_){let t=e.draftLocations_=new Map;s_(i,(e,r)=>{if(sE(r)){let n=t.get(r)||[];n.push(e),t.set(r,n)}})}for(let n of e.draftLocations_.get(t)??s1)sk(i,n,r,a)}function s5(e,t){if(e.modified_&&!e.finalized_&&(3===e.type_||(e.assigned_?.size??0)>0)){let{patchPlugin_:r}=t;if(r){let n=r.getPath(e);n&&r.generatePatches_(e,n,t)}sZ(e)}}function s6(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||sE(e)||t.has(e)||!sS(e)||sB(e)||(t.add(e),s_(e,(n,i)=>{if(sE(i)){let t=i[sf];s0(t,r)&&(sk(e,n,sL(t),e.type_),sZ(t))}else sS(i)&&s6(i,t,r)})),e}var s3={get(e,t){if(t===sf)return e;let r=e.copy_||e.base_;if(!sj(r,t,e.type_)){var n;let i;return n=e,(i=s7(r,t))?sx in i?i[sx]:i.get?.call(n.draft_):void 0}let i=r[t];if(e.finalized_||!sS(i))return i;if(i===s8(e.base_,t)){le(e);let r=1===e.type_?+t:t,n=lt(e.scope_,i,e,r);return e.copy_[r]=n}return i},has:(e,t)=>t in(e.copy_||e.base_),ownKeys:e=>Reflect.ownKeys(e.copy_||e.base_),set(e,t,r){let n=s7(e.copy_||e.base_,t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=s8(e.copy_||e.base_,t),i=n?.[sf];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||sj(e.base_,t,e.type_)))return!0;le(e),s9(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_.set(t,!0),!function(e,t,r){let{scope_:n}=e;if(sE(r)){let i=r[sf];s0(i,n)&&i.callbacks_.push(function(){le(e),s2(e,r,sL(i),t)})}else sS(r)&&e.callbacks_.push(function(){sI(e.copy_||e.base_,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&s6(sI(e.copy_,t,e.type_),n.handledSet_,n)})}(e,t,r),!0)},deleteProperty:(e,t)=>(le(e),void 0!==s8(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),s9(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=e.copy_||e.base_,n=Reflect.getOwnPropertyDescriptor(r,t);return n?{[sw]:!0,[sv]:1!==e.type_||"length"!==t,[sb]:n[sb],[sx]:r[t]}:n},defineProperty(){sd(11)},getPrototypeOf:e=>sg(e.base_),setPrototypeOf(){sd(12)}},s4={};function s8(e,t){let r=e[sf];return(r?r.copy_||r.base_:e)[t]}function s7(e,t){if(!(t in e))return;let r=sg(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=sg(r)}}function s9(e){!e.modified_&&(e.modified_=!0,e.parent_&&s9(e.parent_))}function le(e){e.copy_||(e.assigned_=new Map,e.copy_=sF(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function lt(e,t,r,n){let[i,a]=sP(t)?sK(sz).proxyMap_(t,r):sM(t)?sK(sz).proxySet_(t,r):function(e,t){let r=sN(e),n={type_:+!!r,scope_:t?t.scope_:E,modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0},i=n,a=s3;r&&(i=[n],a=s4);let{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,[s,n]}(t,r);if((r?.scope_??E).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&void 0!==n)r.callbacks_.push(function(e){if(!a||!s0(a,e))return;e.mapSetPlugin_?.fixSetContents(a);let t=sL(a);s2(r,a.draft_??a,t,n),s5(a,e)});else a.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(a);let{patchPlugin_:t}=e;a.modified_&&t&&t.generatePatches_(a,[],e)});return i}function lr(e){return sE(e)||sd(10,e),function e(t){let r;if(!sS(t)||sB(t))return t;let n=t[sf],i=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=sF(t,n.scope_.immer_.useStrictShallowCopy_),i=n.scope_.immer_.shouldUseStrictIteration()}else r=sF(t,!0);return s_(r,(t,n)=>{sk(r,t,e(n))},i),n&&(n.finalized_=!1),r}(e)}s_(s3,(e,t)=>{s4[e]=function(){let e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),s4.deleteProperty=function(e,t){return s4.set.call(this,e,t,void 0)},s4.set=function(e,t,r){return s3.set.call(this,e[0],t,r,e[0])};var ln=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{let n;if(sR(e)&&!sR(t)){let r=t;t=e;let n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}if(sR(t)||sd(6),void 0===r||sR(r)||sd(7),sS(e)){let i=sY(this),a=lt(i,e,void 0),o=!0;try{n=t(a),o=!1}finally{o?sG(i):sW(i)}return sH(i,r),sX(n,i)}if(e&&sD(e))sd(1,e);else{if(void 0===(n=t(e))&&(n=e),n===sc&&(n=void 0),this.autoFreeze_&&sU(n,!0),r){let t=[],i=[];sK(s$).generateReplacementPatches_(e,n,{patches_:t,inversePatches_:i}),r(t,i)}return n}},this.produceWithPatches=(e,t)=>{let r,n;return sR(e)?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){sS(e)||sd(8),sE(e)&&(e=lr(e));let t=sY(this),r=lt(t,e,void 0);return r[sf].isManual_=!0,sW(t),r}finishDraft(e,t){let r=e&&e[sf];r&&r.isManual_||sd(9);let{scope_:n}=r;return sH(n,t),sX(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=sK(s$).applyPatches_;return sE(e)?n(e,t):this.produce(e,e=>n(e,t))}}().produce,li=e=>Array.isArray(e)?e:[e],la=0,lo=class{revision=la;_value;_lastValue;_isEqual=ls;constructor(e,t=ls){this._value=this._lastValue=e,this._isEqual=t}get value(){return this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++la)}};function ls(e,t){return e===t}function ll(e){return e instanceof lo||console.warn("Not a valid cell! ",e),e.value}var lu=(e,t)=>!1;function lc(){return function(e,t=ls){return new lo(null,t)}(0,lu)}var lh=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=lc()),ll(t)};Symbol();var lf=0,ld=Object.getPrototypeOf({}),lp=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy(this,lg);tag=lc();tags={};children={};collectionTag=null;id=lf++},lg={get:(e,t)=>(function(){let{value:r}=e,n=Reflect.get(r,t);if("symbol"==typeof t||t in ld)return n;if("object"==typeof n&&null!==n){var i;let r=e.children[t];return void 0===r&&(r=e.children[t]=Array.isArray(i=n)?new lm(i):new lp(i)),r.tag&&ll(r.tag),r.proxy}{let r=e.tags[t];return void 0===r&&((r=e.tags[t]=lc()).value=n),ll(r),n}})(),ownKeys:e=>(lh(e),Reflect.ownKeys(e.value)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e.value,t),has:(e,t)=>Reflect.has(e.value,t)},lm=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy([this],ly);tag=lc();tags={};children={};collectionTag=null;id=lf++},ly={get:([e],t)=>("length"===t&&lh(e),lg.get(e,t)),ownKeys:([e])=>lg.ownKeys(e),getOwnPropertyDescriptor:([e],t)=>lg.getOwnPropertyDescriptor(e,t),has:([e],t)=>lg.has(e,t)},lv="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function lb(){return{s:0,v:void 0,o:null,p:null}}function lw(e,t={}){let r,n=lb(),{resultEqualityCheck:i}=t,a=0;function o(){let t,o=n,{length:s}=arguments;for(let e=0;e<s;e++){let t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=o.o;null===e&&(o.o=e=new WeakMap);let r=e.get(t);void 0===r?(o=lb(),e.set(t,o)):o=r}else{let e=o.p;null===e&&(o.p=e=new Map);let r=e.get(t);void 0===r?(o=lb(),e.set(t,o)):o=r}}let l=o;if(1===o.s)t=o.v;else if(t=e.apply(null,arguments),a++,i){let e=r?.deref?.()??r;null!=e&&i(e,t)&&(t=e,0!==a&&a--),r="object"==typeof t&&null!==t||"function"==typeof t?new lv(t):t}return l.s=1,l.v=t,t}return o.clearCache=()=>{n=lb(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}var lx=function(e,...t){let r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n,i=0,a=0,o={},s=e.pop();"object"==typeof s&&(o=s,s=e.pop()),function(e,t=`expected a function, instead received ${typeof e}`){if("function"!=typeof e)throw TypeError(t)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);let{memoize:l,memoizeOptions:u=[],argsMemoize:c=lw,argsMemoizeOptions:h=[],devModeChecks:f={}}={...r,...o},d=li(u),p=li(h),g=(!function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){let r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw TypeError(`${t}[${r}]`)}}(t=Array.isArray(e[0])?e[0]:e,"createSelector expects all input-selectors to be functions, but received the following types: "),t),m=l(function(){return i++,s.apply(null,arguments)},...d);return Object.assign(c(function(){a++;let e=function(e,t){let r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}(g,arguments);return n=m.apply(null,e)},...p),{resultFunc:s,memoizedResultFunc:m,dependencies:g,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>n,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:l,argsMemoize:c})};return Object.assign(n,{withTypes:()=>n}),n}(lw),lE=Object.assign((e,t=lx)=>{!function(e,t=`expected an object, instead received ${typeof e}`){if("object"!=typeof e)throw TypeError(t)}(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let r=Object.keys(e);return t(r.map(t=>e[t]),(...e)=>e.reduce((e,t,n)=>(e[r[n]]=t,e),{}))},{withTypes:()=>lE});function lS(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lO="function"==typeof Symbol&&Symbol.observable||"@@observable",lA=()=>Math.random().toString(36).substring(7).split("").join("."),lC={INIT:`@@redux/INIT${lA()}`,REPLACE:`@@redux/REPLACE${lA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lA()}`};function l_(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function lT(e){let t,r=Object.keys(e),n={};for(let t=0;t<r.length;t++){let i=r[t];"function"==typeof e[i]&&(n[i]=e[i])}let i=Object.keys(n);try{Object.keys(n).forEach(e=>{let t=n[e];if(void 0===t(void 0,{type:lC.INIT}))throw Error(lS(12));if(void 0===t(void 0,{type:lC.PROBE_UNKNOWN_ACTION()}))throw Error(lS(13))})}catch(e){t=e}return function(e={},r){if(t)throw t;let a=!1,o={};for(let t=0;t<i.length;t++){let s=i[t],l=n[s],u=e[s],c=l(u,r);if(void 0===c)throw r&&r.type,Error(lS(14));o[s]=c,a=a||c!==u}return(a=a||i.length!==Object.keys(e).length)?o:e}}function lj(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function lI(e){return l_(e)&&"type"in e&&"string"==typeof e.type}function lk(e){return({dispatch:t,getState:r})=>n=>i=>"function"==typeof i?i(t,r,e):n(i)}var lN=lk(),lP="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?lj:lj.apply(null,arguments)};function lM(e,t){function r(...n){if(t){let r=t(...n);if(!r)throw Error(up(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>lI(t)&&t.type===e,r}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var lD=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function lR(e){return sS(e)?ln(e,()=>{}):e}function lL(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var lF="RTK_autoBatch",lU=()=>e=>({payload:e,meta:{[lF]:!0}}),lV=e=>t=>{setTimeout(t,e)},lB=(e={type:"raf"})=>t=>(...r)=>{let n=t(...r),i=!0,a=!1,o=!1,s=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:lV(10):"callback"===e.type?e.queueNotification:lV(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){let t=n.subscribe(()=>i&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return(a=!(i=!e?.meta?.[lF]))&&!o&&(o=!0,l(u)),n.dispatch(e)}finally{i=!0}}})};function lz(e){let t,r={},n=[],i={addCase(e,t){let n="string"==typeof e?e:e.type;if(!n)throw Error(up(28));if(n in r)throw Error(up(29));return r[n]=t,i},addAsyncThunk:(e,t)=>(t.pending&&(r[e.pending.type]=t.pending),t.rejected&&(r[e.rejected.type]=t.rejected),t.fulfilled&&(r[e.fulfilled.type]=t.fulfilled),t.settled&&n.push({matcher:e.settled,reducer:t.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(t=e,i)};return e(i),[r,n,t]}var l$=Symbol.for("rtk-slice-createasyncthunk"),lq=((o=lq||{}).reducer="reducer",o.reducerWithPrepare="reducerWithPrepare",o.asyncThunk="asyncThunk",o),lK=function({creators:e}={}){let t=e?.asyncThunk?.[l$];return function(e){let r,{name:n,reducerPath:i=n}=e;if(!n)throw Error(up(11));let a=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(a),s={},l={},u={},c=[],h={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(up(12));if(r in l)throw Error(up(13));return l[r]=t,h},addMatcher:(e,t)=>(c.push({matcher:e,reducer:t}),h),exposeAction:(e,t)=>(u[e]=t,h),exposeCaseReducer:(e,t)=>(s[e]=t,h)};function f(){let[t={},r=[],n]="function"==typeof e.extraReducers?lz(e.extraReducers):[e.extraReducers],i={...t,...l};return function(e,t){let r,[n,i,a]=lz(t);if("function"==typeof e)r=()=>lR(e());else{let t=lR(e);r=()=>t}function o(e=r(),t){let s=[n[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,r)=>{if(r)if(sE(e)){let n=r(e,t);return void 0===n?e:n}else{if(sS(e))return ln(e,e=>r(e,t));let n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e},e)}return o.getInitialState=r,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of c)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}o.forEach(r=>{let i=a[r],o={reducerName:r,type:`${n}/${r}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===i._reducerDefinitionType?function({type:e,reducerName:t},r,n,i){if(!i)throw Error(up(18));let{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=r,h=i(e,a,c);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),s&&n.addCase(h.pending,s),l&&n.addCase(h.rejected,l),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(t,{fulfilled:o||lH,pending:s||lH,rejected:l||lH,settled:u||lH})}(o,i,h,t):function({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&"reducerWithPrepare"!==n._reducerDefinitionType)throw Error(up(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?lM(e,o):lM(e))}(o,i,h)});let d=e=>e,p=new Map,g=new WeakMap;function m(e,t){return r||(r=f()),r(e,t)}function y(){return r||(r=f()),r.getInitialState()}function v(t,r=!1){function n(e){let i=e[t];return void 0===i&&r&&(i=lL(g,n,y)),i}function i(t=d){let n=lL(p,r,()=>new WeakMap);return lL(n,t,()=>{let n={};for(let[i,a]of Object.entries(e.selectors??{}))n[i]=function(e,t,r,n){function i(a,...o){let s=t(a);return void 0===s&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}(a,t,()=>lL(g,t,y),r);return n})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}let b={name:n,reducer:m,actions:u,caseReducers:s,getInitialState:y,...v(i),injectInto(e,{reducerPath:t,...r}={}){let n=t??i;return e.inject({reducerPath:n,reducer:m},r),{...b,...v(n,!0)}}};return b}}();function lH(){}var lG="listener",lW="completed",lY="cancelled",lQ=`task-${lY}`,lX=`task-${lW}`,lJ=`${lG}-${lY}`,lZ=`${lG}-${lW}`,l0=class{constructor(e){this.code=e,this.message=`task ${lY} (reason: ${e})`}name="TaskAbortError";message},l1=(e,t)=>{if("function"!=typeof e)throw TypeError(up(32))},l2=()=>{},l5=(e,t=l2)=>(e.catch(t),e),l6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),l3=(e,t)=>{let r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},l4=e=>{if(e.aborted){let{reason:t}=e;throw new l0(t)}};function l8(e,t){let r=l2;return new Promise((n,i)=>{let a=()=>i(new l0(e.reason));e.aborted?a():(r=l6(e,a),t.finally(()=>r()).then(n,i))}).finally(()=>{r=l2})}var l7=async(e,t)=>{try{await Promise.resolve();let t=await e();return{status:"ok",value:t}}catch(e){return{status:e instanceof l0?"cancelled":"rejected",error:e}}finally{t?.()}},l9=e=>t=>l5(l8(e,t).then(t=>(l4(e),t))),ue=e=>{let t=l9(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:ut}=Object,ur={},un="listenerMiddleware",ui=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=lM(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(i);else throw Error(up(21));return l1(a,"options.listener"),{predicate:i,type:t,effect:a}},ua=ut(e=>{let{type:t,predicate:r,effect:n}=ui(e);return{id:((e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t})(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(up(22))}}},{withTypes:()=>ua}),uo=(e,t)=>{let{type:r,effect:n,predicate:i}=ui(t);return Array.from(e.values()).find(e=>("string"==typeof r?e.type===r:e.predicate===i)&&e.effect===n)},us=e=>{e.pending.forEach(e=>{l3(e,lJ)})},ul=(e,t,r)=>{try{e(t,r)}catch(e){setTimeout(()=>{throw e},0)}},uu=ut(lM(`${un}/add`),{withTypes:()=>uu}),uc=lM(`${un}/removeAll`),uh=ut(lM(`${un}/remove`),{withTypes:()=>uh}),uf=(...e)=>{console.error(`${un}/error`,...e)},ud=(e={})=>{let t=new Map,r=new Map,{extra:n,onError:i=uf}=e;l1(i,"onError");let a=e=>{var r;return(r=uo(t,e)??ua(e)).unsubscribe=()=>t.delete(r.id),t.set(r.id,r),e=>{r.unsubscribe(),e?.cancelActive&&us(r)}};ut(a,{withTypes:()=>a});let o=e=>{let r=uo(t,e);return r&&(r.unsubscribe(),e.cancelActive&&us(r)),!!r};ut(o,{withTypes:()=>o});let s=async(e,o,s,l)=>{var u,c;let h,f=new AbortController,d=(u=f.signal,h=async(e,t)=>{l4(u);let r=()=>{},n=[new Promise((t,n)=>{let i=a({predicate:e,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});r=()=>{i(),n()}})];null!=t&&n.push(new Promise(e=>setTimeout(e,t,null)));try{let e=await l8(u,Promise.race(n));return l4(u),e}finally{r()}},(e,t)=>l5(h(e,t))),p=[];try{let i;e.pending.add(f),i=r.get(e)??0,r.set(e,i+1),await Promise.resolve(e.effect(o,ut({},s,{getOriginalState:l,condition:(e,t)=>d(e,t).then(Boolean),take:d,delay:ue(f.signal),pause:l9(f.signal),extra:n,signal:f.signal,fork:(c=f.signal,(e,t)=>{l1(e,"taskExecutor");let r=new AbortController;l6(c,()=>l3(r,c.reason));let n=l7(async()=>{l4(c),l4(r.signal);let t=await e({pause:l9(r.signal),delay:ue(r.signal),signal:r.signal});return l4(r.signal),t},()=>l3(r,lX));return t?.autoJoin&&p.push(n.catch(l2)),{result:l9(c)(n),cancel(){l3(r,lQ)}}}),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==f&&(l3(e,lJ),r.delete(e))})},cancel:()=>{l3(f,lJ),e.pending.delete(f)},throwIfCancelled:()=>{l4(f.signal)}})))}catch(e){e instanceof l0||ul(i,e,{raisedBy:"effect"})}finally{let t;await Promise.all(p),l3(f,lZ),1===(t=r.get(e)??1)?r.delete(e):r.set(e,t-1),e.pending.delete(f)}},l=()=>{for(let e of r.keys())us(e);t.clear()};return{middleware:e=>r=>n=>{let u;if(!lI(n))return r(n);if(uu.match(n))return a(n.payload);if(uc.match(n))return void l();if(uh.match(n))return o(n.payload);let c=e.getState(),h=()=>{if(c===ur)throw Error(up(23));return c};try{if(u=r(n),t.size>0){let r=e.getState();for(let a of Array.from(t.values())){let t=!1;try{t=a.predicate(n,r,c)}catch(e){t=!1,ul(i,e,{raisedBy:"predicate"})}t&&s(a,n,e,h)}}}finally{c=ur}return u},startListening:a,stopListening:o,clearListeners:l}};function up(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function ug(e,t){if(t){var r=Number.parseInt(t,10);if(!oH(r))return null==e?void 0:e[r]}}Symbol.for("rtk-state-proxy-original");var um=lK({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),uy=um.reducer,{createEventEmitter:uv}=um.actions;function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uw(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return Object.keys(t).reduce((e,r)=>(void 0===e[r]&&void 0!==t[r]&&(e[r]=t[r]),e),r)}e.i(13027);var ux={notify(){},get:()=>[]},uE="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,uS="undefined"!=typeof navigator&&"ReactNative"===navigator.product,uO=uE||uS?P.useLayoutEffect:P.useEffect;function uA(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var uC=Symbol.for("react-redux-context"),u_="undefined"!=typeof globalThis?globalThis:{},uT=function(){if(!P.createContext)return{};let e=u_[uC]??=new Map,t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}(),uj=function(e){let{children:t,context:r,serverState:n,store:i}=e,a=P.useMemo(()=>{let e=function(e,t){let r,n=ux,i=0,a=!1;function o(){u.onStateChange&&u.onStateChange()}function s(){if(i++,!r){let t,i;r=e.subscribe(o),t=null,i=null,n={clear(){t=null,i=null},notify(){let e=t;for(;e;)e.callback(),e=e.next},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0,n=i={callback:e,next:null,prev:i};return n.prev?n.prev.next=n:t=n,function(){r&&null!==t&&(r=!1,n.next?n.next.prev=n.prev:i=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}}function l(){i--,r&&0===i&&(r(),r=void 0,n.clear(),n=ux)}let u={addNestedSub:function(e){s();let t=n.subscribe(e),r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>n};return u}(i);return{store:i,subscription:e,getServerState:n?()=>n:void 0}},[i,n]),o=P.useMemo(()=>i.getState(),[i]);return uO(()=>{let{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,o]),P.createElement((r||uT).Provider,{value:a},t)};function uI(e=uT){return function(){return P.useContext(e)}}var uk=uI(),uN=Symbol.for("immer-nothing"),uP=Symbol.for("immer-draftable"),uM=Symbol.for("immer-state");function uD(e){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var uR=Object.getPrototypeOf;function uL(e){return!!e&&!!e[uM]}function uF(e){return!!e&&(uB(e)||Array.isArray(e)||!!e[uP]||!!e.constructor?.[uP]||uH(e)||uG(e))}var uU=Object.prototype.constructor.toString(),uV=new WeakMap;function uB(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!=typeof r)return!1;let n=uV.get(r);return void 0===n&&(n=Function.toString.call(r),uV.set(r,n)),n===uU}function uz(e,t,r=!0){0===u$(e)?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function u$(e){let t=e[uM];return t?t.type_:Array.isArray(e)?1:uH(e)?2:3*!!uG(e)}function uq(e,t){return 2===u$(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uK(e,t,r){let n=u$(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function uH(e){return e instanceof Map}function uG(e){return e instanceof Set}function uW(e){return e.copy_||e.base_}function uY(e,t){if(uH(e))return new Map(e);if(uG(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=uB(e);if(!0!==t&&("class_only"!==t||r)){let t=uR(e);return null!==t&&r?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[uM];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(uR(e),t)}}function uQ(e,t=!1){return uJ(e)||uL(e)||!uF(e)||(u$(e)>1&&Object.defineProperties(e,{set:uX,add:uX,clear:uX,delete:uX}),Object.freeze(e),t&&Object.values(e).forEach(e=>uQ(e,!0))),e}var uX={value:function(){uD(2)}};function uJ(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var uZ={};function u0(e){let t=uZ[e];return t||uD(0,e),t}function u1(e,t){t&&(u0("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function u2(e){u5(e),e.drafts_.forEach(u3),e.drafts_=null}function u5(e){e===S&&(S=e.parent_)}function u6(e){return S={drafts_:[],parent_:S,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function u3(e){let t=e[uM];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function u4(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return void 0!==e&&e!==r?(r[uM].modified_&&(u2(t),uD(4)),uF(e)&&(e=u8(t,e),t.parent_||u9(t,e)),t.patches_&&u0("Patches").generateReplacementPatches_(r[uM].base_,e,t.patches_,t.inversePatches_)):e=u8(t,r,[]),u2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==uN?e:void 0}function u8(e,t,r){if(uJ(t))return t;let n=e.immer_.shouldUseStrictIteration(),i=t[uM];if(!i)return uz(t,(n,a)=>u7(e,i,t,n,a,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return u9(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;let t=i.copy_,a=t,o=!1;3===i.type_&&(a=new Set(t),t.clear(),o=!0),uz(a,(n,a)=>u7(e,i,t,n,a,r,o),n),u9(e,t,!1),r&&e.patches_&&u0("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function u7(e,t,r,n,i,a,o){if(null==i||"object"!=typeof i&&!o)return;let s=uJ(i);if(!s||o){if(uL(i)){let o=u8(e,i,a&&t&&3!==t.type_&&!uq(t.assigned_,n)?a.concat(n):void 0);if(uK(r,n,o),!uL(o))return;e.canAutoFreeze_=!1}else o&&r.add(i);if(uF(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&s)return;u8(e,i),(!t||!t.scope_.parent_)&&"symbol"!=typeof n&&(uH(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&u9(e,i)}}}function u9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uQ(t,r)}var ce={get(e,t){if(t===uM)return e;let r=uW(e);if(!uq(r,t)){var n;let i;return n=e,(i=cn(r,t))?"value"in i?i.value:i.get?.call(n.draft_):void 0}let i=r[t];return e.finalized_||!uF(i)?i:i===cr(e.base_,t)?(ca(e),e.copy_[t]=cs(i,e)):i},has:(e,t)=>t in uW(e),ownKeys:e=>Reflect.ownKeys(uW(e)),set(e,t,r){let n=cn(uW(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=cr(uW(e),t),i=n?.[uM];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||uq(e.base_,t)))return!0;ca(e),ci(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==cr(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ca(e),ci(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=uW(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){uD(11)},getPrototypeOf:e=>uR(e.base_),setPrototypeOf(){uD(12)}},ct={};function cr(e,t){let r=e[uM];return(r?uW(r):e)[t]}function cn(e,t){if(!(t in e))return;let r=uR(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=uR(r)}}function ci(e){!e.modified_&&(e.modified_=!0,e.parent_&&ci(e.parent_))}function ca(e){e.copy_||(e.copy_=uY(e.base_,e.scope_.immer_.useStrictShallowCopy_))}uz(ce,(e,t)=>{ct[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ct.deleteProperty=function(e,t){return ct.set.call(this,e,t,void 0)},ct.set=function(e,t,r){return ce.set.call(this,e[0],t,r,e[0])};var co=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{let n;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}if("function"!=typeof t&&uD(6),void 0!==r&&"function"!=typeof r&&uD(7),uF(e)){let i=u6(this),a=cs(e,void 0),o=!0;try{n=t(a),o=!1}finally{o?u2(i):u5(i)}return u1(i,r),u4(n,i)}if(e&&"object"==typeof e)uD(1,e);else{if(void 0===(n=t(e))&&(n=e),n===uN&&(n=void 0),this.autoFreeze_&&uQ(n,!0),r){let t=[],i=[];u0("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}},this.produceWithPatches=(e,t)=>{let r,n;return"function"==typeof e?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){var t;uF(e)||uD(8),uL(e)&&(uL(t=e)||uD(10,t),e=function e(t){let r;if(!uF(t)||uJ(t))return t;let n=t[uM],i=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=uY(t,n.scope_.immer_.useStrictShallowCopy_),i=n.scope_.immer_.shouldUseStrictIteration()}else r=uY(t,!0);return uz(r,(t,n)=>{uK(r,t,e(n))},i),n&&(n.finalized_=!1),r}(t));let r=u6(this),n=cs(e,void 0);return n[uM].isManual_=!0,u5(r),n}finishDraft(e,t){let r=e&&e[uM];r&&r.isManual_||uD(9);let{scope_:n}=r;return u1(n,t),u4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=u0("Patches").applyPatches_;return uL(e)?n(e,t):this.produce(e,e=>n(e,t))}};function cs(e,t){let r=uH(e)?u0("MapSet").proxyMap_(e,t):uG(e)?u0("MapSet").proxySet_(e,t):function(e,t){let r=Array.isArray(e),n={type_:+!!r,scope_:t?t.scope_:S,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=n,a=ce;r&&(i=[n],a=ct);let{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}(e,t);return(t?t.scope_:S).drafts_.push(r),r}new co().produce;var cl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cu=lK({name:"tooltip",initialState:{itemInteraction:{click:cl,hover:cl},axisInteraction:{click:cl,hover:cl},keyboardInteraction:cl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:lU()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=lr(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:lU()},removeTooltipEntrySettings:{reducer(e,t){var r=lr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:lU()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:cc,replaceTooltipEntrySettings:ch,removeTooltipEntrySettings:cf,setTooltipSettingsState:cd,setActiveMouseOverItemIndex:cp,mouseLeaveItem:cg,mouseLeaveChart:cm,setActiveClickItemIndex:cy,setMouseOverAxisIndex:cv,setMouseClickAxisIndex:cb,setSyncInteraction:cw,setKeyboardInteraction:cx}=cu.actions,cE=cu.reducer,cS=lK({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:cO,setDataStartEndIndexes:cA,setComputedData:cC}=cS.actions,c_=cS.reducer,cT=lK({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=null!=(r=t.payload.top)?r:0,e.margin.right=null!=(n=t.payload.right)?n:0,e.margin.bottom=null!=(i=t.payload.bottom)?i:0,e.margin.left=null!=(a=t.payload.left)?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:cj,setLayout:cI,setChartSize:ck,setScale:cN}=cT.actions,cP=cT.reducer,cM=e.i(30224),cD=(0,P.createContext)(null),cR=e=>e,cL=()=>{var e=(0,P.useContext)(cD);return e?e.store.dispatch:cR},cF=()=>{},cU=()=>cF,cV=(e,t)=>e===t;function cB(e){var t=(0,P.useContext)(cD);return(0,cM.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:cU,t?t.store.getState:cF,t?t.store.getState:cF,t?e:cF,cV)}var cz=e.i(42342),c$=e=>e.legend.settings;function cq(e){return function(){return e}}function cK(e,t){if((i=e.length)>1)for(var r,n,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(n=o,o=e[t[a]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function cH(e){for(var t=e.length,r=Array(t);--t>=0;)r[t]=t;return r}function cG(e,t){return e[t]}function cW(e){let t=[];return t.key=e,t}function cY(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function cQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cQ(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cQ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cJ(e,t,r){return null==e||null==t?r:oY(t)?(0,oq.default)(e,t,r):"function"==typeof t?t(e):r}lx([e=>e.legend.payload,c$],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?(0,cz.default)(n,r):n}),Array.prototype.slice;var cZ=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,c0={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=oH(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,i,a=0,o=e[0].length;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}cK(e,t)}},none:cK,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,i=e[t[0]],a=i.length;n<a;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;i[n][1]+=i[n][0]=-s/2}cK(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,i,a=0,o=1;o<n;++o){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],h=c[o][1]||0,f=(h-(c[o-1][1]||0))/2,d=0;d<s;++d){var p=e[t[d]];f+=(p[o][1]||0)-(p[o-1][1]||0)}l+=h,u+=f*h}r[o-1][1]+=r[o-1][0]=a,l&&(a-=u/l)}r[o-1][1]+=r[o-1][0]=a,cK(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=oH(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}}},c1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c5=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=(0,cz.default)(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function c6(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return cX(cX({},t),{},{dataKey:r,payload:n,value:i,name:a})}function c3(e,t){return e?String(e):"string"==typeof t?t:void 0}var c4=e=>e.layout.width,c8=e=>e.layout.height,c7=e=>e.layout.scale,c9=e=>e.layout.margin,he=lx(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ht=lx(e=>e.cartesianAxis.yAxis,e=>Object.values(e));function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var hi=lx([c4,c8,c9,e=>e.brush.height,function(e){return ht(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return ht(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return he(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return he(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},c$,e=>e.legend.size],(e,t,r,n,i,a,o,s,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},h=hn(hn({},{top:(r.top||0)+o,bottom:(r.bottom||0)+s}),c),f=h.bottom;h.bottom+=n;var d=e-(h=((e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&oW(e[a]))return cX(cX({},e),{},{[a]:e[a]+(n||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&oW(e[o]))return cX(cX({},e),{},{[o]:e[o]+(i||0)})}return e})(h,l,u)).left-h.right,p=t-h.top-h.bottom;return hn(hn({brushBottom:f},h),{},{width:Math.max(d,0),height:Math.max(p,0)})}),ha=lx(hi,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));lx(c4,c8,(e,t)=>({x:0,y:0,width:e,height:t}));var ho=(0,P.createContext)(null),hs=()=>null!=(0,P.useContext)(ho),hl=e=>e.brush,hu=lx([hl,hi,c9],(e,t,r)=>({height:e.height,x:oW(e.x)?e.x:t.left,y:oW(e.y)?e.y:t.top+t.height+t.brushBottom-((null==r?void 0:r.bottom)||0),width:oW(e.width)?e.width:t.width}));function hc(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var hh=()=>{var e,t=hs(),r=cB(ha),n=cB(hu),i=null==(e=cB(hl))?void 0:e.padding;return t&&n&&i?{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}:r},hf=e=>e.layout.layoutType,hd=e=>{var t=cL(),r=hs(),{width:n,height:i}=e,a=ss(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),(0,P.useEffect)(()=>{!r&&st(o)&&st(s)&&t(ck({width:o,height:s}))},[t,r,o,s]),null},hp=e.i(66814);function hg(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function hm(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}e.s([],25212),e.i(25212),e.s([],67155),e.i(67155);class hy extends Map{constructor(e,t=hb){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(hv(this,e))}has(e){return super.has(hv(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}(this,e))}}function hv({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function hb(e){return null!==e&&"object"==typeof e?e.valueOf():e}let hw=Symbol("implicit");function hx(){var e=new hy,t=[],r=[],n=hw;function i(i){let a=e.get(i);if(void 0===a){if(n!==hw)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return i.domain=function(r){if(!arguments.length)return t.slice();for(let n of(t=[],e=new hy,r))e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return hx(t,r).unknown(n)},hg.apply(i,arguments),i}function hE(){var e,t,r=hx().unknown(void 0),n=r.domain,i=r.range,a=0,o=1,s=!1,l=0,u=0,c=.5;function h(){var r=n().length,h=o<a,f=h?o:a,d=h?a:o;e=(d-f)/Math.max(1,r-l+2*u),s&&(e=Math.floor(e)),f+=(d-f-e*(r-l))*c,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var p=(function(e,t,r){e*=1,t*=1,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=Array(i);++n<i;)a[n]=e+n*r;return a})(r).map(function(t){return f+e*t});return i(h?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),h()):n()},r.range=function(e){return arguments.length?([a,o]=e,a*=1,o*=1,h()):[a,o]},r.rangeRound=function(e){return[a,o]=e,a*=1,o*=1,s=!0,h()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,h()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),h()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},r.paddingOuter=function(e){return arguments.length?(u=+e,h()):u},r.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),h()):c},r.copy=function(){return hE(n(),[a,o]).round(s).paddingInner(l).paddingOuter(u).align(c)},hg.apply(h(),arguments)}function hS(){return function e(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(r())},t}(hE.apply(null,arguments).paddingInner(1))}let hO=Math.sqrt(50),hA=Math.sqrt(10),hC=Math.sqrt(2);function h_(e,t,r){let n,i,a,o=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(o)),l=o/Math.pow(10,s),u=l>=hO?10:l>=hA?5:l>=hC?2:1;return(s<0?(n=Math.round(e*(a=Math.pow(10,-s)/u)),i=Math.round(t*a),n/a<e&&++n,i/a>t&&--i,a=-a):(n=Math.round(e/(a=Math.pow(10,s)*u)),i=Math.round(t/a),n*a<e&&++n,i*a>t&&--i),i<n&&.5<=r&&r<2)?h_(e,t,2*r):[n,i,a]}function hT(e,t,r){if(t*=1,e*=1,!((r*=1)>0))return[];if(e===t)return[e];let n=t<e,[i,a,o]=n?h_(t,e,r):h_(e,t,r);if(!(a>=i))return[];let s=a-i+1,l=Array(s);if(n)if(o<0)for(let e=0;e<s;++e)l[e]=-((a-e)/o);else for(let e=0;e<s;++e)l[e]=(a-e)*o;else if(o<0)for(let e=0;e<s;++e)l[e]=-((i+e)/o);else for(let e=0;e<s;++e)l[e]=(i+e)*o;return l}function hj(e,t,r){return h_(e*=1,t*=1,r*=1)[2]}function hI(e,t,r){t*=1,e*=1,r*=1;let n=t<e,i=n?hj(t,e,r):hj(e,t,r);return(n?-1:1)*(i<0?-(1/i):i)}function hk(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hN(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hP(e){let t,r,n;function i(e,n,a=0,o=e.length){if(a<o){if(0!==t(n,n))return o;do{let t=a+o>>>1;0>r(e[t],n)?a=t+1:o=t}while(a<o)}return a}return 2!==e.length?(t=hk,r=(t,r)=>hk(e(t),r),n=(t,r)=>e(t)-r):(t=e===hk||e===hN?e:hM,r=e,n=e),{left:i,center:function(e,t,r=0,a=e.length){let o=i(e,t,r,a-1);return o>r&&n(e[o-1],t)>-n(e[o],t)?o-1:o},right:function(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{let t=i+a>>>1;0>=r(e[t],n)?i=t+1:a=t}while(i<a)}return i}}}function hM(){return 0}function hD(e){return null===e?NaN:+e}let hR=hP(hk),hL=hR.right;function hF(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hV(){}hR.left,hP(hD).center;var hB="\\s*([+-]?\\d+)\\s*",hz="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",h$="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hq=/^#([0-9a-f]{3,8})$/,hK=RegExp(`^rgb\\(${hB},${hB},${hB}\\)$`),hH=RegExp(`^rgb\\(${h$},${h$},${h$}\\)$`),hG=RegExp(`^rgba\\(${hB},${hB},${hB},${hz}\\)$`),hW=RegExp(`^rgba\\(${h$},${h$},${h$},${hz}\\)$`),hY=RegExp(`^hsl\\(${hz},${h$},${h$}\\)$`),hQ=RegExp(`^hsla\\(${hz},${h$},${h$},${hz}\\)$`),hX={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function hJ(){return this.rgb().formatHex()}function hZ(){return this.rgb().formatRgb()}function h0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hq.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?h1(t):3===r?new h6(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?h2(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?h2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=hK.exec(e))?new h6(t[1],t[2],t[3],1):(t=hH.exec(e))?new h6(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=hG.exec(e))?h2(t[1],t[2],t[3],t[4]):(t=hW.exec(e))?h2(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=hY.exec(e))?fe(t[1],t[2]/100,t[3]/100,1):(t=hQ.exec(e))?fe(t[1],t[2]/100,t[3]/100,t[4]):hX.hasOwnProperty(e)?h1(hX[e]):"transparent"===e?new h6(NaN,NaN,NaN,0):null}function h1(e){return new h6(e>>16&255,e>>8&255,255&e,1)}function h2(e,t,r,n){return n<=0&&(e=t=r=NaN),new h6(e,t,r,n)}function h5(e,t,r,n){var i;return 1==arguments.length?((i=e)instanceof hV||(i=h0(i)),i)?new h6((i=i.rgb()).r,i.g,i.b,i.opacity):new h6:new h6(e,t,r,null==n?1:n)}function h6(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function h3(){return`#${h9(this.r)}${h9(this.g)}${h9(this.b)}`}function h4(){let e=h8(this.opacity);return`${1===e?"rgb(":"rgba("}${h7(this.r)}, ${h7(this.g)}, ${h7(this.b)}${1===e?")":`, ${e})`}`}function h8(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function h7(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function h9(e){return((e=h7(e))<16?"0":"")+e.toString(16)}function fe(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fr(e,t,r,n)}function ft(e){if(e instanceof fr)return new fr(e.h,e.s,e.l,e.opacity);if(e instanceof hV||(e=h0(e)),!e)return new fr;if(e instanceof fr)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(r-n)/s+(r<n)*6:r===a?(n-t)/s+2:(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new fr(o,s,l,e.opacity)}function fr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function fn(e){return(e=(e||0)%360)<0?e+360:e}function fi(e){return Math.max(0,Math.min(1,e||0))}function fa(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function fo(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}hF(hV,h0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hJ,formatHex:hJ,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ft(this).formatHsl()},formatRgb:hZ,toString:hZ}),hF(h6,h5,hU(hV,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new h6(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new h6(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new h6(h7(this.r),h7(this.g),h7(this.b),h8(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h3,formatHex:h3,formatHex8:function(){return`#${h9(this.r)}${h9(this.g)}${h9(this.b)}${h9((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:h4,toString:h4})),hF(fr,function(e,t,r,n){return 1==arguments.length?ft(e):new fr(e,t,r,null==n?1:n)},hU(hV,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new fr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new fr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new h6(fa(e>=240?e-240:e+120,i,n),fa(e,i,n),fa(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new fr(fn(this.h),fi(this.s),fi(this.l),h8(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=h8(this.opacity);return`${1===e?"hsl(":"hsla("}${fn(this.h)}, ${100*fi(this.s)}%, ${100*fi(this.l)}%${1===e?")":`, ${e})`}`}}));let fs=e=>()=>e;function fl(e,t){var r=t-e;return r?function(t){return e+t*r}:fs(isNaN(e)?t:e)}let fu=function e(t){var r,n=1==(r=+t)?fl:function(e,t){var n,i,a;return t-e?(n=e,i=t,n=Math.pow(n,a=r),i=Math.pow(i,a)-n,a=1/a,function(e){return Math.pow(n+e*i,a)}):fs(isNaN(e)?t:e)};function i(e,t){var r=n((e=h5(e)).r,(t=h5(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=fl(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return i.gamma=e,i}(1);function fc(e){return function(t){var r,n,i=t.length,a=Array(i),o=Array(i),s=Array(i);for(r=0;r<i;++r)n=h5(t[r]),a[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return a=e(a),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=s(e),n+""}}}function fh(e,t){return e*=1,t*=1,function(r){return e*(1-r)+t*r}}fc(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return fo((r-n/t)*t,o,i,a,s)}}),fc(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return fo((r-n/t)*t,i,a,o,s)}});var ff=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fd=RegExp(ff.source,"g");function fp(e,t){var r,n,i=typeof t;return null==t||"boolean"===i?fs(t):("number"===i?fh:"string"===i?(n=h0(t))?(t=n,fu):function(e,t){var r,n,i,a,o,s=ff.lastIndex=fd.lastIndex=0,l=-1,u=[],c=[];for(e+="",t+="";(i=ff.exec(e))&&(a=fd.exec(t));)(o=a.index)>s&&(o=t.slice(s,o),u[l]?u[l]+=o:u[++l]=o),(i=i[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,c.push({i:l,x:fh(i,a)})),s=fd.lastIndex;return s<t.length&&(o=t.slice(s),u[l]?u[l]+=o:u[++l]=o),u.length<2?c[0]?(r=c[0].x,function(e){return r(e)+""}):(n=t,function(){return n}):(t=c.length,function(e){for(var r,n=0;n<t;++n)u[(r=c[n]).i]=r.x(e);return u.join("")})}:t instanceof h0?fu:t instanceof Date?function(e,t){var r=new Date;return e*=1,t*=1,function(n){return r.setTime(e*(1-n)+t*n),r}}:!ArrayBuffer.isView(r=t)||r instanceof DataView?Array.isArray(t)?function(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=Array(i),o=Array(n);for(r=0;r<i;++r)a[r]=fp(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var r,n={},i={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?n[r]=fp(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}:fh:function(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}})(e,t)}function fg(e,t){return e*=1,t*=1,function(r){return Math.round(e*(1-r)+t*r)}}function fm(e){return+e}var fy=[0,1];function fv(e){return e}function fb(e,t){var r;return(t-=e*=1)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r})}function fw(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=fb(i,n),a=r(o,a)):(n=fb(n,i),a=r(a,o)),function(e){return a(n(e))}}function fx(e,t,r){var n=Math.min(e.length,t.length)-1,i=Array(n),a=Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=fb(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=hL(e,t,1,n)-1;return a[r](i[r](t))}}function fE(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fS(){var e,t,r,n,i,a,o=fy,s=fy,l=fp,u=fv;function c(){var e,t,r,l=Math.min(o.length,s.length);return u!==fv&&(e=o[0],t=o[l-1],e>t&&(r=e,e=t,t=r),u=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?fx:fw,i=a=null,h}function h(t){return null==t||isNaN(t*=1)?r:(i||(i=n(o.map(e),s,l)))(e(u(t)))}return h.invert=function(r){return u(t((a||(a=n(s,o.map(e),fh)))(r)))},h.domain=function(e){return arguments.length?(o=Array.from(e,fm),c()):o.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),l=fg,c()},h.clamp=function(e){return arguments.length?(u=!!e||fv,c()):u!==fv},h.interpolate=function(e){return arguments.length?(l=e,c()):l},h.unknown=function(e){return arguments.length?(r=e,h):r},function(r,n){return e=r,t=n,c()}}function fO(){return fS()(fv,fv)}function fA(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function fC(e){return(e=fA(Math.abs(e)))?e[1]:NaN}var f_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fT(e){var t;if(!(t=f_.exec(e)))throw Error("invalid format: "+e);return new fj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function fj(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function fI(e,t){var r=fA(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+Array(i-n.length+2).join("0")}fT.prototype=fj.prototype,fj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let fk={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fI(100*e,t),r:fI,s:function(e,t){var r=fA(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(O=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+Array(1-a).join("0")+fA(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fN(e){return e}var fP=Array.prototype.map,fM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fD(e,t,r,n){var i,a,o=hI(e,t,r);switch((n=fT(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(fC(s)/3)))-fC(Math.abs(o))))||(n.precision=a),_(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=Math.max(0,fC(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(i=Math.abs(i=o)))-fC(i))+1)||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=Math.max(0,-fC(Math.abs(o))))||(n.precision=a-("%"===n.type)*2)}return C(n)}function fR(e){var t=e.domain;return e.ticks=function(e){var r=t();return hT(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return fD(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),o=0,s=a.length-1,l=a[o],u=a[s],c=10;for(u<l&&(i=l,l=u,u=i,i=o,o=s,s=i);c-- >0;){if((i=hj(l,u,r))===n)return a[o]=l,a[s]=u,t(a);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else if(i<0)l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i;else break;n=i}return e},e}function fL(){var e=fO();return e.copy=function(){return fE(e,fL())},hg.apply(e,arguments),fR(e)}function fF(e){var t;function r(e){return null==e||isNaN(e*=1)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,fm),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return fF(e).unknown(t)},e=arguments.length?Array.from(e,fm):[0,1],fR(r)}function fU(e,t){e=e.slice();var r,n=0,i=e.length-1,a=e[n],o=e[i];return o<a&&(r=n,n=i,i=r,r=a,a=o,o=r),e[n]=t.floor(a),e[i]=t.ceil(o),e}function fV(e){return Math.log(e)}function fB(e){return Math.exp(e)}function fz(e){return-Math.log(-e)}function f$(e){return-Math.exp(-e)}function fq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fK(e){return(t,r)=>-e(-t,r)}function fH(e){let t,r,n=e(fV,fB),i=n.domain,a=10;function o(){var o,s;return t=(o=a)===Math.E?Math.log:10===o&&Math.log10||2===o&&Math.log2||(o=Math.log(o),e=>Math.log(e)/o),r=10===(s=a)?fq:s===Math.E?Math.exp:e=>Math.pow(s,e),i()[0]<0?(t=fK(t),r=fK(r),e(fz,f$)):e(fV,fB),n}return n.base=function(e){return arguments.length?(a=+e,o()):a},n.domain=function(e){return arguments.length?(i(e),o()):i()},n.ticks=e=>{let n,o,s=i(),l=s[0],u=s[s.length-1],c=u<l;c&&([l,u]=[u,l]);let h=t(l),f=t(u),d=null==e?10:+e,p=[];if(!(a%1)&&f-h<d){if(h=Math.floor(h),f=Math.ceil(f),l>0){for(;h<=f;++h)for(n=1;n<a;++n)if(!((o=h<0?n/r(-h):n*r(h))<l)){if(o>u)break;p.push(o)}}else for(;h<=f;++h)for(n=a-1;n>=1;--n)if(!((o=h>0?n/r(-h):n*r(h))<l)){if(o>u)break;p.push(o)}2*p.length<d&&(p=hT(l,u,d))}else p=hT(h,f,Math.min(f-h,d)).map(r);return c?p.reverse():p},n.tickFormat=(e,i)=>{if(null==e&&(e=10),null==i&&(i=10===a?"s":","),"function"!=typeof i&&(a%1||null!=(i=fT(i)).precision||(i.trim=!0),i=C(i)),e===1/0)return i;let o=Math.max(1,a*e/n.ticks().length);return e=>{let n=e/r(Math.round(t(e)));return n*a<a-.5&&(n*=a),n<=o?i(e):""}},n.nice=()=>i(fU(i(),{floor:e=>r(Math.floor(t(e))),ceil:e=>r(Math.ceil(t(e)))})),n}function fG(){let e=fH(fS()).domain([1,10]);return e.copy=()=>fE(e,fG()).base(e.base()),hg.apply(e,arguments),e}function fW(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fY(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fQ(e){var t=1,r=e(fW(1),fY(t));return r.constant=function(r){return arguments.length?e(fW(t=+r),fY(t)):t},fR(r)}function fX(){var e=fQ(fS());return e.copy=function(){return fE(e,fX()).constant(e.constant())},hg.apply(e,arguments)}function fJ(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function f0(e){return e<0?-e*e:e*e}function f1(e){var t=e(fv,fv),r=1;return t.exponent=function(t){return arguments.length?1==(r=+t)?e(fv,fv):.5===r?e(fZ,f0):e(fJ(r),fJ(1/r)):r},fR(t)}function f2(){var e=f1(fS());return e.copy=function(){return fE(e,f2()).exponent(e.exponent())},hg.apply(e,arguments),e}function f5(){return f2.apply(null,arguments).exponent(.5)}function f6(e){return Math.sign(e)*e*e}function f3(){var e,t=fO(),r=[0,1],n=!1;function i(r){var i,a=Math.sign(i=t(r))*Math.sqrt(Math.abs(i));return isNaN(a)?e:n?Math.round(a):a}return i.invert=function(e){return t.invert(f6(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((r=Array.from(e,fm)).map(f6)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(n=!!e,i):n},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return f3(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},hg.apply(i,arguments),fR(i)}function f4(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}function f8(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r>i||void 0===r&&i>=i)&&(r=i)}return r}function f7(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:+(e>t))}function f9(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function de(){var e,t=[],r=[],n=[];function i(){var e=0,i=Math.max(1,r.length);for(n=Array(i-1);++e<i;)n[e-1]=function(e,t,r=hD){if(!(!(n=e.length)||isNaN(t*=1))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e);return o+(r(e[a+1],a+1,e)-o)*(i-a)}}(t,e/i);return a}function a(t){return null==t||isNaN(t*=1)?e:r[hL(n,t)]}return a.invertExtent=function(e){var i=r.indexOf(e);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();for(let r of(t=[],e))null==r||isNaN(r*=1)||t.push(r);return t.sort(hk),i()},a.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return n.slice()},a.copy=function(){return de().domain(t).range(r).unknown(e)},hg.apply(a,arguments)}function dt(){var e,t=0,r=1,n=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[hL(i,t,0,n)]:e}function s(){var e=-1;for(i=Array(n);++e<n;)i[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t*=1,r*=1,s()):[t,r]},o.range=function(e){return arguments.length?(n=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=n?[i[n-1],r]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length&&(e=t),o},o.thresholds=function(){return i.slice()},o.copy=function(){return dt().domain([t,r]).range(a).unknown(e)},hg.apply(fR(o),arguments)}function dr(){var e,t=[.5],r=[0,1],n=1;function i(i){return null!=i&&i<=i?r[hL(t,i,0,n)]:e}return i.domain=function(e){return arguments.length?(n=Math.min((t=Array.from(e)).length,r.length-1),i):t.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return dr().domain(t).range(r).unknown(e)},hg.apply(i,arguments)}C=(A=function(e){var t,r,n,i=void 0===e.grouping||void 0===e.thousands?fN:(t=fP.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?fN:(n=fP.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return n[+e]})}),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",h=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=fT(e)).fill,r=e.align,n=e.sign,f=e.symbol,d=e.zero,p=e.width,g=e.comma,m=e.precision,y=e.trim,v=e.type;"n"===v?(g=!0,v="g"):fk[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===t&&"="===r)&&(d=!0,t="0",r="=");var b="$"===f?a:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===f?o:/[%p]/.test(v)?u:"",x=fk[v],E=/[defgprs%]/.test(v);function S(e){var a,o,u,f=b,S=w;if("c"===v)S=x(e)+S,e="";else{var A=(e*=1)<0||1/e<0;if(e=isNaN(e)?h:x(Math.abs(e),m),y&&(e=function(e){r:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break r;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),A&&0==+e&&"+"!==n&&(A=!1),f=(A?"("===n?n:c:"-"===n||"("===n?"":n)+f,S=("s"===v?fM[8+O/3]:"")+S+(A&&"("===n?")":""),E){for(a=-1,o=e.length;++a<o;)if(48>(u=e.charCodeAt(a))||u>57){S=(46===u?s+e.slice(a+1):e.slice(a))+S,e=e.slice(0,a);break}}}g&&!d&&(e=i(e,1/0));var C=f.length+e.length+S.length,_=C<p?Array(p-C+1).join(t):"";switch(g&&d&&(e=i(_+e,_.length?p-S.length:1/0),_=""),r){case"<":e=f+e+S+_;break;case"=":e=f+_+e+S;break;case"^":e=_.slice(0,C=_.length>>1)+f+e+S+_.slice(C);break;default:e=_+f+e+S}return l(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return e+""},S}return{format:f,formatPrefix:function(e,t){var r=f(((e=fT(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(fC(t)/3))),i=Math.pow(10,-n),a=fM[8+n/3];return function(e){return r(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,_=A.formatPrefix;let dn=new Date,di=new Date;function da(e,t,r,n){function i(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{let t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,a)=>{let o,s=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n)||!(a>0))return s;do s.push(o=new Date(+r)),t(r,a),e(r);while(o<r&&r<n)return s},i.filter=r=>da(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(i.count=(t,n)=>(dn.setTime(+t),di.setTime(+n),e(dn),e(di),Math.floor(r(dn,di))),i.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?i.filter(n?t=>n(t)%e==0:t=>i.count(0,t)%e==0):i:null),i}let ds=da(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ds.every=e=>isFinite(e=Math.floor(e))&&e>0?da(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,ds.range;let dl=da(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dl.every=e=>isFinite(e=Math.floor(e))&&e>0?da(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,dl.range;let du=da(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());du.range;let dc=da(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());dc.range;function dh(e){return da(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}let df=dh(0),dd=dh(1),dp=dh(2),dg=dh(3),dm=dh(4),dy=dh(5),dv=dh(6);function db(e){return da(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/6048e5)}df.range,dd.range,dp.range,dg.range,dm.range,dy.range,dv.range;let dw=db(0),dx=db(1),dE=db(2),dS=db(3),dO=db(4),dA=db(5),dC=db(6);dw.range,dx.range,dE.range,dS.range,dO.range,dA.range,dC.range;let d_=da(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1);d_.range;let dT=da(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1);dT.range;let dj=da(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5));dj.range;let dI=da(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getHours());dI.range;let dk=da(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours());dk.range;let dN=da(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getMinutes());dN.range;let dP=da(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes());dP.range;let dM=da(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds());dM.range;let dD=da(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);function dR(e,t,r,n,i,a){let o=[[dM,1,1e3],[dM,5,5e3],[dM,15,15e3],[dM,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,864e5],[n,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function s(t,r,n){let i=Math.abs(r-t)/n,a=hP(([,,e])=>e).right(o,i);if(a===o.length)return e.every(hI(t/31536e6,r/31536e6,n));if(0===a)return dD.every(Math.max(hI(t,r,n),1));let[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,r){let n=t<e;n&&([e,t]=[t,e]);let i=r&&"function"==typeof r.range?r:s(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a},s]}dD.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?da(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):dD:null,dD.range;let[dL,dF]=dR(dl,dc,dw,dj,dk,dP),[dU,dV]=dR(ds,du,df,d_,dI,dN);function dB(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dz(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function d$(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var dq={"-":"",_:" ",0:"0"},dK=/^\s*\d+/,dH=/^%/,dG=/[\\^$*+?|[\]().{}]/g;function dW(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?Array(r-a+1).join(t)+i:i)}function dY(e){return e.replace(dG,"\\$&")}function dQ(e){return RegExp("^(?:"+e.map(dY).join("|")+")","i")}function dX(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function dJ(e,t,r){var n=dK.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function dZ(e,t,r){var n=dK.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function d0(e,t,r){var n=dK.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function d1(e,t,r){var n=dK.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function d2(e,t,r){var n=dK.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function d5(e,t,r){var n=dK.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function d6(e,t,r){var n=dK.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function d3(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function d4(e,t,r){var n=dK.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function d8(e,t,r){var n=dK.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function d7(e,t,r){var n=dK.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function d9(e,t,r){var n=dK.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function pe(e,t,r){var n=dK.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pt(e,t,r){var n=dK.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function pr(e,t,r){var n=dK.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function pn(e,t,r){var n=dK.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function pi(e,t,r){var n=dK.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pa(e,t,r){var n=dH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function po(e,t,r){var n=dK.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ps(e,t,r){var n=dK.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function pl(e,t){return dW(e.getDate(),t,2)}function pu(e,t){return dW(e.getHours(),t,2)}function pc(e,t){return dW(e.getHours()%12||12,t,2)}function ph(e,t){return dW(1+d_.count(ds(e),e),t,3)}function pf(e,t){return dW(e.getMilliseconds(),t,3)}function pd(e,t){return pf(e,t)+"000"}function pp(e,t){return dW(e.getMonth()+1,t,2)}function pg(e,t){return dW(e.getMinutes(),t,2)}function pm(e,t){return dW(e.getSeconds(),t,2)}function py(e){var t=e.getDay();return 0===t?7:t}function pv(e,t){return dW(df.count(ds(e)-1,e),t,2)}function pb(e){var t=e.getDay();return t>=4||0===t?dm(e):dm.ceil(e)}function pw(e,t){return e=pb(e),dW(dm.count(ds(e),e)+(4===ds(e).getDay()),t,2)}function px(e){return e.getDay()}function pE(e,t){return dW(dd.count(ds(e)-1,e),t,2)}function pS(e,t){return dW(e.getFullYear()%100,t,2)}function pO(e,t){return dW((e=pb(e)).getFullYear()%100,t,2)}function pA(e,t){return dW(e.getFullYear()%1e4,t,4)}function pC(e,t){var r=e.getDay();return dW((e=r>=4||0===r?dm(e):dm.ceil(e)).getFullYear()%1e4,t,4)}function p_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dW(t/60|0,"0",2)+dW(t%60,"0",2)}function pT(e,t){return dW(e.getUTCDate(),t,2)}function pj(e,t){return dW(e.getUTCHours(),t,2)}function pI(e,t){return dW(e.getUTCHours()%12||12,t,2)}function pk(e,t){return dW(1+dT.count(dl(e),e),t,3)}function pN(e,t){return dW(e.getUTCMilliseconds(),t,3)}function pP(e,t){return pN(e,t)+"000"}function pM(e,t){return dW(e.getUTCMonth()+1,t,2)}function pD(e,t){return dW(e.getUTCMinutes(),t,2)}function pR(e,t){return dW(e.getUTCSeconds(),t,2)}function pL(e){var t=e.getUTCDay();return 0===t?7:t}function pF(e,t){return dW(dw.count(dl(e)-1,e),t,2)}function pU(e){var t=e.getUTCDay();return t>=4||0===t?dO(e):dO.ceil(e)}function pV(e,t){return e=pU(e),dW(dO.count(dl(e),e)+(4===dl(e).getUTCDay()),t,2)}function pB(e){return e.getUTCDay()}function pz(e,t){return dW(dx.count(dl(e)-1,e),t,2)}function p$(e,t){return dW(e.getUTCFullYear()%100,t,2)}function pq(e,t){return dW((e=pU(e)).getUTCFullYear()%100,t,2)}function pK(e,t){return dW(e.getUTCFullYear()%1e4,t,4)}function pH(e,t){var r=e.getUTCDay();return dW((e=r>=4||0===r?dO(e):dO.ceil(e)).getUTCFullYear()%1e4,t,4)}function pG(){return"+0000"}function pW(){return"%"}function pY(e){return+e}function pQ(e){return Math.floor(e/1e3)}function pX(e){return new Date(e)}function pJ(e){return e instanceof Date?+e:+new Date(+e)}function pZ(e,t,r,n,i,a,o,s,l,u){var c=fO(),h=c.invert,f=c.domain,d=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),w=u("%Y");function x(e){return(l(e)<e?d:s(e)<e?p:o(e)<e?g:a(e)<e?m:n(e)<e?i(e)<e?y:v:r(e)<e?b:w)(e)}return c.invert=function(e){return new Date(h(e))},c.domain=function(e){return arguments.length?f(Array.from(e,pJ)):f().map(pX)},c.ticks=function(t){var r=f();return e(r[0],r[r.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?x:u(t)},c.nice=function(e){var r=f();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?f(fU(r,e)):c},c.copy=function(){return fE(c,pZ(e,t,r,n,i,a,o,s,l,u))},c}function p0(){return hg.apply(pZ(dU,dV,ds,du,df,d_,dI,dN,dM,j).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function p1(){return hg.apply(pZ(dL,dF,dl,dc,dw,dT,dk,dP,dM,I).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function p2(){var e,t,r,n,i,a=0,o=1,s=fv,l=!1;function u(t){return null==t||isNaN(t*=1)?i:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),u):[s(0),s(1)]}}return u.domain=function(i){return arguments.length?([a,o]=i,e=n(a*=1),t=n(o*=1),r=e===t?0:1/(t-e),u):[a,o]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(fp),u.rangeRound=c(fg),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return n=i,e=i(a),t=i(o),r=e===t?0:1/(t-e),u}}function p5(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function p6(){var e=fR(p2()(fv));return e.copy=function(){return p5(e,p6())},hm.apply(e,arguments)}function p3(){var e=fH(p2()).domain([1,10]);return e.copy=function(){return p5(e,p3()).base(e.base())},hm.apply(e,arguments)}function p4(){var e=fQ(p2());return e.copy=function(){return p5(e,p4()).constant(e.constant())},hm.apply(e,arguments)}function p8(){var e=f1(p2());return e.copy=function(){return p5(e,p8()).exponent(e.exponent())},hm.apply(e,arguments)}function p7(){return p8.apply(null,arguments).exponent(.5)}function p9(){var e=[],t=fv;function r(r){if(null!=r&&!isNaN(r*=1))return t((hL(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();for(let r of(e=[],t))null==r||isNaN(r*=1)||e.push(r);return e.sort(hk),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>(function(e,t,r){if(!(!(n=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t*=1)>=t&&(yield t);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n*=1)>=n&&(yield n)}}(e,void 0))).length)||isNaN(t*=1))){if(t<=0||n<2)return f8(e);if(t>=1)return f4(e);var n,i=(n-1)*t,a=Math.floor(i),o=f4((function e(t,r,n=0,i=1/0,a){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=r&&r<=i))return t;for(a=void 0===a?f7:function(e=hk){if(e===hk)return f7;if("function"!=typeof e)throw TypeError("compare is not a function");return(t,r)=>{let n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(a);i>n;){if(i-n>600){let o=i-n+1,s=r-n+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(s-o/2<0?-1:1),h=Math.max(n,Math.floor(r-s*u/o+c)),f=Math.min(i,Math.floor(r+(o-s)*u/o+c));e(t,r,h,f,a)}let o=t[r],s=n,l=i;for(f9(t,n,r),a(t[i],o)>0&&f9(t,n,i);s<l;){for(f9(t,s,l),++s,--l;0>a(t[s],o);)++s;for(;a(t[l],o)>0;)--l}0===a(t[n],o)?f9(t,n,l):f9(t,++l,i),l<=r&&(n=l+1),r<=l&&(i=l-1)}return t})(e,a).subarray(0,a+1));return o+(f8(e.subarray(a+1))-o)*(i-a)}})(e,n/t))},r.copy=function(){return p9(t).domain(e)},hm.apply(r,arguments)}function ge(){var e,t,r,n,i,a,o,s=0,l=.5,u=1,c=1,h=fv,f=!1;function d(e){return isNaN(e*=1)?o:(e=.5+((e=+a(e))-t)*(c*e<c*t?n:i),h(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,i;return arguments.length?([r,n,i]=t,h=function(e,t){void 0===t&&(t=e,e=fp);for(var r=0,n=t.length-1,i=t[0],a=Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[r,n,i]),d):[h(0),h(.5),h(1)]}}return d.domain=function(o){return arguments.length?([s,l,u]=o,e=a(s*=1),t=a(l*=1),r=a(u*=1),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),c=t<e?-1:1,d):[s,l,u]},d.clamp=function(e){return arguments.length?(f=!!e,d):f},d.interpolator=function(e){return arguments.length?(h=e,d):h},d.range=p(fp),d.rangeRound=p(fg),d.unknown=function(e){return arguments.length?(o=e,d):o},function(o){return a=o,e=o(s),t=o(l),r=o(u),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),c=t<e?-1:1,d}}function gt(){var e=fR(ge()(fv));return e.copy=function(){return p5(e,gt())},hm.apply(e,arguments)}function gr(){var e=fH(ge()).domain([.1,1,10]);return e.copy=function(){return p5(e,gr()).base(e.base())},hm.apply(e,arguments)}function gn(){var e=fQ(ge());return e.copy=function(){return p5(e,gn()).constant(e.constant())},hm.apply(e,arguments)}function gi(){var e=f1(ge());return e.copy=function(){return p5(e,gi()).exponent(e.exponent())},hm.apply(e,arguments)}function ga(){return gi.apply(null,arguments).exponent(.5)}j=(T=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=dQ(i),c=dX(i),h=dQ(a),f=dX(a),d=dQ(o),p=dX(o),g=dQ(s),m=dX(s),y=dQ(l),v=dX(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:pl,e:pl,f:pd,g:pO,G:pC,H:pu,I:pc,j:ph,L:pf,m:pp,M:pg,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:pY,s:pQ,S:pm,u:py,U:pv,V:pw,w:px,W:pE,x:null,X:null,y:pS,Y:pA,Z:p_,"%":pW},w={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:pT,e:pT,f:pP,g:pq,G:pH,H:pj,I:pI,j:pk,L:pN,m:pM,M:pD,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:pY,s:pQ,S:pR,u:pL,U:pF,V:pV,w:pB,W:pz,x:null,X:null,y:p$,Y:pK,Z:pG,"%":pW},x={a:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=m.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return O(e,t,r,n)},d:d7,e:d7,f:pi,g:d6,G:d5,H:pe,I:pe,j:d9,L:pn,m:d8,M:pt,p:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.p=c.get(n[0].toLowerCase()),r+n[0].length):-1},q:d4,Q:po,s:ps,S:pr,u:dZ,U:d0,V:d1,w:dJ,W:d2,x:function(e,t,n){return O(e,r,t,n)},X:function(e,t,r){return O(e,n,t,r)},y:d6,Y:d5,Z:d3,"%":pa};function E(e,t){return function(r){var n,i,a,o=[],s=-1,l=0,u=e.length;for(r instanceof Date||(r=new Date(+r));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=dq[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function S(e,t){return function(r){var n,i,a=d$(1900,void 0,1);if(O(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(!t||"Z"in a||(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(n=(i=(n=dz(d$(a.y,0,1))).getUTCDay())>4||0===i?dx.ceil(n):dx(n),n=dT.offset(n,(a.V-1)*7),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(n=(i=(n=dB(d$(a.y,0,1))).getDay())>4||0===i?dd.ceil(n):dd(n),n=d_.offset(n,(a.V-1)*7),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:+("W"in a)),i="Z"in a?dz(d$(a.y,0,1)).getUTCDay():dB(d$(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,dz(a)):dB(a)}}function O(e,t,r,n){for(var i,a,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return -1;if(37===(i=t.charCodeAt(o++))){if(!(a=x[(i=t.charAt(o++))in dq?t.charAt(o++):i])||(n=a(e,r,n))<0)return -1}else if(i!=r.charCodeAt(n++))return -1}return n}return b.x=E(r,b),b.X=E(n,b),b.c=E(t,b),w.x=E(r,w),w.X=E(n,w),w.c=E(t,w),{format:function(e){var t=E(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=E(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,T.parse,I=T.utcFormat,T.utcParse,e.s(["scaleBand",()=>hE,"scaleDiverging",()=>gt,"scaleDivergingLog",()=>gr,"scaleDivergingPow",()=>gi,"scaleDivergingSqrt",()=>ga,"scaleDivergingSymlog",()=>gn,"scaleIdentity",()=>fF,"scaleImplicit",0,hw,"scaleLinear",()=>fL,"scaleLog",()=>fG,"scaleOrdinal",()=>hx,"scalePoint",()=>hS,"scalePow",()=>f2,"scaleQuantile",()=>de,"scaleQuantize",()=>dt,"scaleRadial",()=>f3,"scaleSequential",()=>p6,"scaleSequentialLog",()=>p3,"scaleSequentialPow",()=>p8,"scaleSequentialQuantile",()=>p9,"scaleSequentialSqrt",()=>p7,"scaleSequentialSymlog",()=>p4,"scaleSqrt",()=>f5,"scaleSymlog",()=>fX,"scaleThreshold",()=>dr,"scaleTime",()=>p0,"scaleUtc",()=>p1,"tickFormat",()=>fD],29061),e.i(29061),e.s(["scaleBand",()=>hE,"scaleDiverging",()=>gt,"scaleDivergingLog",()=>gr,"scaleDivergingPow",()=>gi,"scaleDivergingSqrt",()=>ga,"scaleDivergingSymlog",()=>gn,"scaleIdentity",()=>fF,"scaleImplicit",0,hw,"scaleLinear",()=>fL,"scaleLog",()=>fG,"scaleOrdinal",()=>hx,"scalePoint",()=>hS,"scalePow",()=>f2,"scaleQuantile",()=>de,"scaleQuantize",()=>dt,"scaleRadial",()=>f3,"scaleSequential",()=>p6,"scaleSequentialLog",()=>p3,"scaleSequentialPow",()=>p8,"scaleSequentialQuantile",()=>p9,"scaleSequentialSqrt",()=>p7,"scaleSequentialSymlog",()=>p4,"scaleSqrt",()=>f5,"scaleSymlog",()=>fX,"scaleThreshold",()=>dr,"scaleTime",()=>p0,"scaleUtc",()=>p1,"tickFormat",()=>fD],79357);var go=e.i(79357),gs=e=>e.chartData,gl=lx([gs],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gu=(e,t,r,n)=>n?gl(e):gs(e);function gc(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(se(t)&&se(r))return!0}return!1}function gh(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function gf(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var r,n,[i,a]=e;if(se(i))r=i;else if("function"==typeof i)return;if(se(a))n=a;else if("function"==typeof a)return;var o=[r,n];if(gc(o))return o}}var gd=e.i(51655),gp=e=>e,gg={},gm=e=>function t(){let r;return 0==arguments.length||1==arguments.length&&(r=arguments.length<=0?void 0:arguments[0],r===gg)?t:e(...arguments)},gy=(e,t)=>1===e?t:gm(function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(e=>e!==gg).length;return a>=e?t(...n):gy(e-a,gm(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return t(...n.map(e=>e===gg?r.shift():e),...r)}))}),gv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},gb=gy((n=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,n),gw=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return gp;var n=t.reverse(),i=n[0],a=n.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}},gx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function gE(e){return 0===e?1:Math.floor(new gd.default(e).abs().log(10).toNumber())+1}function gS(e,t,r){for(var n=new gd.default(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var gO=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},gA=(e,t,r)=>{if(e.lte(0))return new gd.default(0);var n=gE(e.toNumber()),i=new gd.default(10).pow(n),a=e.div(i),o=1!==n?.05:.1,s=new gd.default(Math.ceil(a.div(o).toNumber())).add(r).mul(o).mul(i);return new gd.default(t?s.toNumber():Math.ceil(s.toNumber()))},gC=function(e,t,r,n){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new gd.default(0),tickMin:new gd.default(0),tickMax:new gd.default(0)};var o=gA(new gd.default(t).sub(e).div(r-1),n,a),s=Math.ceil((i=e<=0&&t>=0?new gd.default(0):(i=new gd.default(e).add(t).div(2)).sub(new gd.default(i).mod(o))).sub(e).div(o).toNumber()),l=Math.ceil(new gd.default(t).sub(i).div(o).toNumber()),u=s+l+1;return u>r?gC(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:o,tickMin:i.sub(new gd.default(s).mul(o)),tickMax:i.add(new gd.default(l).mul(o))})},g_=function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=Math.max(n,2),[o,s]=gO([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...gv(0,n-1).map(()=>1/0)]:[...gv(0,n-1).map(()=>-1/0),s];return t>r?gx(l):l}if(o===s){var u=new gd.default(1),c=new gd.default(o);if(!c.isint()&&i){var h=Math.abs(o);h<1?(u=new gd.default(10).pow(gE(o)-1),c=new gd.default(Math.floor(c.div(u).toNumber())).mul(u)):h>1&&(c=new gd.default(Math.floor(o)))}else 0===o?c=new gd.default(Math.floor((n-1)/2)):i||(c=new gd.default(Math.floor(o)));var f=Math.floor((n-1)/2);return gw(gb(e=>c.add(new gd.default(e-f).mul(u)).toNumber()),gv)(0,n)}var{step:d,tickMin:p,tickMax:g}=gC(o,s,a,i,0),m=gS(p,g.add(new gd.default(.1).mul(d)),d);return t>r?gx(m):m},gT=function(e,t){var[r,n]=e,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[a,o]=gO([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),l=gA(new gd.default(o).sub(a).div(s-1),i,0),u=[...gS(new gd.default(a),new gd.default(o),l),o];return!1===i&&(u=u.map(e=>Math.round(e))),r>n?gx(u):u},gj=e=>e.rootProps.stackOffset,gI=e=>e.rootProps.reverseStackOrder,gk=e=>e.options.chartName,gN=e=>e.rootProps.syncId,gP=e=>e.rootProps.syncMethod,gM=e=>e.options.eventEmitter;function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var gL=Math.PI/180,gF=e=>e*Math.PI/180,gU=(e,t,r,n)=>({x:e+Math.cos(-gL*n)*r,y:t+Math.sin(-gL*n)*r}),gV=e=>(0,P.isValidElement)(e)||"function"==typeof e||"boolean"==typeof e||null==e?"":e.className,gB={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},gz={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:gB.axis},g$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:gB.axis},gq=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},gK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gz.angleAxisId,includeHidden:!1,name:void 0,reversed:gz.reversed,scale:gz.scale,tick:gz.tick,tickCount:void 0,ticks:void 0,type:gz.type,unit:void 0},gH={allowDataOverflow:g$.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:g$.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:g$.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:g$.scale,tick:g$.tick,tickCount:g$.tickCount,ticks:void 0,type:g$.type,unit:void 0},gG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gz.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gz.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gz.scale,tick:gz.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gW={allowDataOverflow:g$.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:g$.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:g$.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:g$.scale,tick:g$.tick,tickCount:g$.tickCount,ticks:void 0,type:"category",unit:void 0},gY=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?gG:gK,gQ=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?gW:gH,gX=e=>e.polarOptions,gJ=lx([c4,c8,hi],function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2}),gZ=lx([gX,gJ],(e,t)=>{if(null!=e)return oJ(e.innerRadius,t,0)}),g0=lx([gX,gJ],(e,t)=>{if(null!=e)return oJ(e.outerRadius,t,.8*t)}),g1=lx([gX],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]}),g2=lx([gY,g1],gq),g5=lx([gJ,gZ,g0],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]}),g6=lx([gQ,g5],gq),g3=lx([hf,gX,gZ,g0,c4,c8],(e,t,r,n,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:oJ(o,i,i/2),cy:oJ(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),g4=(e,t)=>t,g8=(e,t,r)=>r;function g7(e){return null==e?void 0:e.id}function g9(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(e=>{var t,r=null!=(t=e.data)?t:n;if(null!=r&&0!==r.length){var s=g7(e);r.forEach((t,r)=>{var n,l=null==a||i?r:String(cJ(t,a,null)),u=cJ(t,e.dataKey,0);Object.assign(n=o.has(l)?o.get(l):{},{[s]:u}),o.set(l,n)})}}),Array.from(o.values())}function me(e){return null!=e.stackId&&null!=e.dataKey}var mt=(e,t)=>e===t||null!=e&&null!=t&&e[0]===t[0]&&e[1]===t[1];function mr(e,t){return!!(Array.isArray(e)&&Array.isArray(t))&&0===e.length&&0===t.length||e===t}var mn=e=>{var t=hf(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},mi=e=>e.tooltip.settings.axisId;function ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ma(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ms=[0,"auto"],ml={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},mu=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return null==r?ml:r},mc={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ms,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},mh=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return null==r?mc:r},mf={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},md=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?mf:r},mp=(e,t,r)=>{switch(t){case"xAxis":return mu(e,r);case"yAxis":return mh(e,r);case"zAxis":return md(e,r);case"angleAxis":return gY(e,r);case"radiusAxis":return gQ(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},mg=(e,t,r)=>{switch(t){case"xAxis":return mu(e,r);case"yAxis":return mh(e,r);case"angleAxis":return gY(e,r);case"radiusAxis":return gQ(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},mm=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function my(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var mv=lx([g4,g8],my),mb=(e,t,r)=>e.filter(r).filter(e=>(null==t?void 0:t.includeHidden)===!0||!e.hide),mw=lx([e=>e.graphicalItems.cartesianItems,mp,mv],mb,{memoizeOptions:{resultEqualityCheck:mr}}),mx=lx([mw],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(me)),mE=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),mS=lx([mw],mE),mO=e=>e.map(e=>e.data).filter(Boolean).flat(1),mA=lx([mw],mO,{memoizeOptions:{resultEqualityCheck:mr}}),mC=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},m_=lx([mA,gu],mC),mT=(e,t,r)=>(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:cJ(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:cJ(e,t)}))):e.map(e=>({value:e})),mj=lx([m_,mp,mw],mT);function mI(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function mk(e){if(oY(e)||e instanceof Date){var t=Number(e);if(se(t))return t}}function mN(e){if(Array.isArray(e)){var t=[mk(e[0]),mk(e[1])];return gc(t)?t:void 0}var r=mk(e);if(null!=r)return[r,r]}function mP(e){return e.map(mk).filter(o2)}var mM=e=>{var t=mn(e),r=mi(e);return mg(e,t,r)},mD=lx([mM],e=>null==e?void 0:e.dataKey),mR=lx([mx,gu,mM],g9),mL=(e,t,r,n)=>Object.fromEntries(Object.entries(t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{})).map(t=>{var i,[a,o]=t,s=n?[...o].reverse():o,l=s.map(g7);return[a,{stackedData:(i=c0[r],(function(){var e=cq([]),t=cH,r=cK,n=cG;function i(i){var a,o,s,l=Array.from(e.apply(this,arguments),cW),u=l.length,c=-1;for(let e of i)for(o=0,++c;o<u;++o)(l[o][c]=[0,+n(e,l[o].key,c,i)]).data=e;for(o=0,s="object"==typeof(a=t(l))&&("length"in a)?a:Array.from(a);o<u;++o)l[s[o]].index=o;return r(l,s),l}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:cq(Array.from(t)),i):e},i.value=function(e){return arguments.length?(n="function"==typeof e?e:cq(+e),i):n},i.order=function(e){return arguments.length?(t=null==e?cH:"function"==typeof e?e:cq(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?cK:e,i):r},i})().keys(l).value((e,t)=>Number(cJ(e,t,0))).order(cH).offset(i)(e)),graphicalItems:s}]})),mF=lx([mR,mx,gj,gI],mL),mU=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(null==n&&"zAxis"!==r){var o=((e,t,r)=>{if(null!=e){let n;return[(n=Object.keys(e).reduce((n,i)=>{var{stackedData:a}=e[i],o=a.reduce((e,n)=>{var i,a=[Math.min(...i=cY(n,t,r).flat(2).filter(oW)),Math.max(...i)];return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]}})(e,i,a);if(null==o||0!==o[0]||0!==o[1])return o}},mV=lx([mp],e=>e.allowDataOverflow),mB=e=>{var t;if(null==e||!("domain"in e))return ms;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=mP(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!=(t=null==e?void 0:e.domain)?t:ms},mz=lx([mp],mB),m$=lx([mz,mV],gf),mq=lx([mF,gs,g4,m$],mU,{memoizeOptions:{resultEqualityCheck:mt}}),mK=e=>e.errorBars,mH=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var i=n.flat();return[Math.min(...i),Math.max(...i)]}},mG=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var s,l,u=null==(s=n[r.id])?void 0:s.filter(e=>mI(i,e)),c=cJ(e,null!=(l=t.dataKey)?l:r.dataKey),h=!(!u||"number"!=typeof c||oH(c))&&u.length?mP(u.flatMap(t=>{var r,n,i=cJ(e,t.dataKey);if(Array.isArray(i)?[r,n]=i:r=n=i,se(r)&&se(n))return[c-r,c+n]})):[];if(h.length>=2){var f=Math.min(...h),d=Math.max(...h);(null==a||f<a)&&(a=f),(null==o||d>o)&&(o=d)}var p=mN(c);null!=p&&(a=null==a?p[0]:Math.min(a,p[0]),o=null==o?p[1]:Math.max(o,p[1]))})}),(null==t?void 0:t.dataKey)!=null&&e.forEach(e=>{var r=mN(cJ(e,t.dataKey));null!=r&&(a=null==a?r[0]:Math.min(a,r[0]),o=null==o?r[1]:Math.max(o,r[1]))}),se(a)&&se(o))return[a,o]},mW=lx([m_,mp,mS,mK,g4],mG,{memoizeOptions:{resultEqualityCheck:mt}});function mY(e){var{value:t}=e;if(oY(t)||t instanceof Date)return t}var mQ=e=>e.referenceElements.dots,mX=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),mJ=lx([mQ,g4,g8],mX),mZ=e=>e.referenceElements.areas,m0=lx([mZ,g4,g8],mX),m1=e=>e.referenceElements.lines,m2=lx([m1,g4,g8],mX),m5=(e,t)=>{var r=mP(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},m6=lx(mJ,g4,m5),m3=(e,t)=>{var r=mP(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},m4=lx([m0,g4],m3),m8=(e,t)=>{var r=e.flatMap(e=>"xAxis"===t?function(e){if(null!=e.x)return mP([e.x]);var t,r=null==(t=e.segment)?void 0:t.map(e=>e.x);return null==r||0===r.length?[]:mP(r)}(e):function(e){if(null!=e.y)return mP([e.y]);var t,r=null==(t=e.segment)?void 0:t.map(e=>e.y);return null==r||0===r.length?[]:mP(r)}(e));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},m7=lx([m2,g4],m8),m9=lx(m6,m7,m4,(e,t,r)=>mH(e,r,t)),ye=(e,t,r,n,i,a,o,s)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"==typeof e&&null!=t)try{var n=e(t,r);if(gc(n))return gh(n,t,r)}catch(e){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(oW(o))i=o;else if("function"==typeof o)try{null!=t&&(i=o(null==t?void 0:t[0]))}catch(e){}else if("string"==typeof o&&c1.test(o)){var l=c1.exec(o);if(null==l||null==t)i=void 0;else{var u=+l[1];i=t[0]-u}}else i=null==t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(oW(s))a=s;else if("function"==typeof s)try{null!=t&&(a=s(null==t?void 0:t[1]))}catch(e){}else if("string"==typeof s&&c2.test(s)){var c=c2.exec(s);if(null==c||null==t)a=void 0;else{var h=+c[1];a=t[1]+h}}else a=null==t?void 0:t[1];var f=[i,a];if(gc(f))return null==t?f:gh(f,t,r)}}}(t,"vertical"===o&&"xAxis"===s||"horizontal"===o&&"yAxis"===s?mH(n,a,i):mH(a,i),e.allowDataOverflow),yt=lx([mp,mz,m$,mq,mW,m9,hf,g4],ye,{memoizeOptions:{resultEqualityCheck:mt}}),yr=[0,1],yn=(e,t,r,n,i,a,o)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==o){var s,l,{dataKey:u,type:c}=e,h=cZ(t,a);return h&&null==u?(0,hp.default)(0,null!=(l=null==r?void 0:r.length)?l:0):"category"===c?(s=n.map(mY).filter(e=>null!=e),h&&(null==e.dataKey||e.allowDuplicatedCategory&&oZ(s))?(0,hp.default)(0,n.length):e.allowDuplicatedCategory?s:Array.from(new Set(s))):"expand"===i?yr:o}},yi=lx([mp,hf,m_,mj,gj,g4,yt],yn),ya=(e,t,r,n,i)=>{if(null!=e){var{scale:a,type:o}=e;if("auto"===a)return"radial"===t&&"radiusAxis"===i?"band":"radial"===t&&"angleAxis"===i?"linear":"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":"category"===o?"band":"linear";if("string"==typeof a){var s="scale".concat(o1(a));return s in go?s:"point"}}},yo=lx([mp,hf,mm,gk,g4],ya);function ys(e,t,r,n){if(null!=r&&null!=n){if("function"==typeof e.scale)return e.scale.copy().domain(r).range(n);var i=function(e){if(null!=e){if(e in go)return go[e]();var t="scale".concat(o1(e));if(t in go)return go[t]()}}(t);if(null!=i){var a=i.domain(r).range(n);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-1e-4,a=Math.max(n[0],n[1])+1e-4,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}})(a),a}}}var yl=(e,t,r)=>{var n=mB(t);if("auto"===r||"linear"===r){if(null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&gc(e))return g_(e,t.tickCount,t.allowDecimals);if(null!=t&&t.tickCount&&"number"===t.type&&gc(e))return gT(e,t.tickCount,t.allowDecimals)}},yu=lx([yi,mg,yo],yl),yc=(e,t,r,n)=>"angleAxis"!==n&&(null==e?void 0:e.type)==="number"&&gc(t)&&Array.isArray(r)&&r.length>0?[Math.min(t[0],r[0]),Math.max(t[1],r[r.length-1])]:t,yh=lx([mp,yi,yu,g4],yc),yf=lx(mj,mp,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(mP(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(0===i)return 1/0;for(var a=0;a<n.length-1;a++)r=Math.min(r,n[a+1]-n[a]);return r/i}}),yd=lx(yf,hf,e=>e.rootProps.barCategoryGap,hi,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!se(e))return 0;var a="vertical"===t?n.height:n.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=oJ(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),yp=lx(mu,(e,t)=>{var r=mu(e,t);return null==r||"string"!=typeof r.padding?0:yd(e,"xAxis",t,r.padding)},(e,t)=>{if(null==e)return{left:0,right:0};var r,n,{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!=(r=i.left)?r:0)+t,right:(null!=(n=i.right)?n:0)+t}}),yg=lx(mh,(e,t)=>{var r=mh(e,t);return null==r||"string"!=typeof r.padding?0:yd(e,"yAxis",t,r.padding)},(e,t)=>{if(null==e)return{top:0,bottom:0};var r,n,{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!=(r=i.top)?r:0)+t,bottom:(null!=(n=i.bottom)?n:0)+t}}),ym=lx([hi,yp,hu,hl,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),yy=lx([hi,hf,yg,hu,hl,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),yv=(e,t,r,n)=>{var i;switch(t){case"xAxis":return ym(e,r,n);case"yAxis":return yy(e,r,n);case"zAxis":return null==(i=md(e,r))?void 0:i.range;case"angleAxis":return g1(e);case"radiusAxis":return g5(e,r);default:return}},yb=lx([mp,yv],gq),yw=lx([mp,yo,yh,yb],ys);function yx(e,t){return e.id<t.id?-1:+(e.id>t.id)}lx([mw,mK,g4],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>mI(r,e)));var yE=(e,t)=>t,yS=(e,t,r)=>r,yO=lx(he,yE,yS,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(yx)),yA=lx(ht,yE,yS,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(yx)),yC=(e,t)=>({width:e.width,height:t.height});lx(hi,mu,yC);var y_=lx(c8,hi,yO,yE,yS,(e,t,r,n,i)=>{var a,o={};return r.forEach(r=>{var s=yC(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!i||"bottom"===n&&i;o[r.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height}),o}),yT=lx(c4,hi,yA,yE,yS,(e,t,r,n,i)=>{var a,o={};return r.forEach(r=>{var s={width:"number"==typeof r.width?r.width:60,height:t.height};null==a&&(a=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!i||"right"===n&&i;o[r.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width}),o});lx([hi,mu,(e,t)=>{var r=mu(e,t);if(null!=r)return y_(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null==r?void 0:r[n];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),lx([hi,mh,(e,t)=>{var r=mh(e,t);if(null!=r)return yT(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null==r?void 0:r[n];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),lx(hi,mh,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}));var yj=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=cZ(e,n),l=t.map(e=>e.value);if(o&&s&&"category"===a&&i&&oZ(l))return l}},yI=lx([hf,mj,mp,g4],yj),yk=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:i,scale:a}=r;if(cZ(e,n)&&("number"===i||"auto"!==a))return t.map(e=>e.value)}},yN=lx([hf,mj,mg,g4],yk);lx([hf,(e,t,r)=>{switch(t){case"xAxis":return mu(e,r);case"yAxis":return mh(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},yo,yw,yI,yN,yv,yu,g4],(e,t,r,n,i,a,o,s,l)=>{if(null!=t){var u=cZ(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}});var yP=(e,t,r,n,i,a,o,s,l)=>{if(null!=t&&null!=n){var u=cZ(e,l),{type:c,ticks:h,tickCount:f}=t,d="scaleBand"===r&&"function"==typeof n.bandwidth?n.bandwidth()/2:2,p="category"===c&&n.bandwidth?n.bandwidth()/d:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*oK(a[0]-a[1])*p:p;var g=h||i;return g?g.map((e,t)=>({index:t,coordinate:n(o?o.indexOf(e):e)+p,value:e,offset:p})).filter(e=>se(e.coordinate)):u&&s?s.map((e,t)=>({coordinate:n(e)+p,value:e,index:t,offset:p})).filter(e=>se(e.coordinate)):n.ticks?n.ticks(f).map(e=>({coordinate:n(e)+p,value:e,offset:p})):n.domain().map((e,t)=>({coordinate:n(e)+p,value:o?o[e]:e,index:t,offset:p}))}};lx([hf,mg,yo,yw,yu,yv,yI,yN,g4],yP);var yM=(e,t,r,n,i,a,o)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var s=cZ(e,o),{tickCount:l}=t,u=0;return(u="angleAxis"===o&&(null==n?void 0:n.length)>=2?2*oK(n[0]-n[1])*u:u,s&&a)?a.map((e,t)=>({coordinate:r(e)+u,value:e,index:t,offset:u})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+u,value:e,offset:u})):r.domain().map((e,t)=>({coordinate:r(e)+u,value:i?i[e]:e,index:t,offset:u}))}};lx([hf,mg,yw,yv,yI,yN,g4],yM),lx(mp,yw,(e,t)=>{if(null!=e&&null!=t)return mo(mo({},e),{},{scale:t})});var yD=lx([mp,yo,yi,yb],ys);lx((e,t,r)=>md(e,r),yD,(e,t)=>{if(null!=e&&null!=t)return mo(mo({},e),{},{scale:t})});var yR=lx([hf,he,ht],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yL=e=>e.options.defaultTooltipEventType,yF=e=>e.options.validateTooltipEventTypes;function yU(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function yV(e,t){return yU(t,yL(e),yF(e))}var yB=(e,t)=>{var r,n=Number(t);if(!oH(n)&&null!=t)return n>=0?null==e||null==(r=e[n])?void 0:r.value:void 0};function yz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yz(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var yq=(e,t,r,n)=>{if(null==t)return cl;var i,a,o,s=(i=e,a=t,o=r,"axis"===a?"click"===o?i.axisInteraction.click:i.axisInteraction.hover:"click"===o?i.itemInteraction.click:i.itemInteraction.hover);if(null==s)return cl;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var l=!0===e.settings.active;if(null!=s.index){if(l)return y$(y$({},s),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return y$(y$({},cl),{},{coordinate:s.coordinate})},yK=(e,t,r,n)=>{var i=null==e?void 0:e.index;if(null==i)return null;var a=Number(i);if(!se(a))return i;var o=Infinity;t.length>0&&(o=t.length-1);var s=Math.max(0,Math.min(a,o)),l=t[s];return null==l?String(s):!function(e,t,r){if(null==r||null==t)return!0;var n=cJ(e,t);return!(null!=n&&gc(r))||function(e,t){var r=function(e){if("number"==typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}(e),n=t[0],i=t[1];if(void 0===r)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}(n,r)}(l,r,n)?null:String(s)},yH=(e,t,r,n,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],u=null==l?void 0:s(l.positions,a);if(null!=u)return u;var c=null==i?void 0:i[Number(a)];if(c)if("horizontal"===r)return{x:c.coordinate,y:(n.top+t)/2};else return{x:(n.left+e)/2,y:c.coordinate}}},yG=(e,t,r,n)=>{var i;return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null==(t=e.settings)?void 0:t.dataKey)===i})},yW=e=>e.options.tooltipPayloadSearcher,yY=e=>e.tooltip;function yQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yQ(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yQ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var yJ=(e,t,r,n,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r;return e.reduce((e,r)=>{var h,f,d,{dataDefinedOnItem:p,settings:g}=r,m=null!=p?p:s,y=Array.isArray(m)?cY(m,u,c):m,v=null!=(h=null==g?void 0:g.dataKey)?h:n,b=null==g?void 0:g.nameKey;return Array.isArray(f=n&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===o?function(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):(0,oq.default)(e,t))===r)}(y,n,i):a(y,t,l,b))?f.forEach(t=>{var r=yX(yX({},g),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(c6({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:cJ(t.payload,t.dataKey),name:t.name}))}):e.push(c6({tooltipEntrySettings:g,dataKey:v,payload:f,value:cJ(f,v),name:null!=(d=cJ(f,b))?d:null==g?void 0:g.name})),e},[])}},yZ=lx([mM,hf,mm,gk,mn],ya),y0=lx([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),y1=lx([mn,mi],my),y2=lx([y0,mM,y1],mb,{memoizeOptions:{resultEqualityCheck:mr}}),y5=lx([y2],e=>e.filter(me)),y6=lx([y2],mO,{memoizeOptions:{resultEqualityCheck:mr}}),y3=lx([y6,gs],mC),y4=lx([y5,gs,mM],g9),y8=lx([y3,mM,y2],mT),y7=lx([mM],mB),y9=lx([mM],e=>e.allowDataOverflow),ve=lx([y7,y9],gf),vt=lx([y2],e=>e.filter(me)),vr=lx([y4,vt,gj,gI],mL),vn=lx([vr,gs,mn,ve],mU),vi=lx([y2],mE),va=lx([y3,mM,vi,mK,mn],mG,{memoizeOptions:{resultEqualityCheck:mt}}),vo=lx([mQ,mn,mi],mX),vs=lx([vo,mn],m5),vl=lx([mZ,mn,mi],mX),vu=lx([vl,mn],m3),vc=lx([m1,mn,mi],mX),vh=lx([vc,mn],m8),vf=lx([vs,vh,vu],mH),vd=lx([mM,y7,ve,vn,va,vf,hf,mn],ye),vp=lx([mM,hf,y3,y8,gj,mn,vd],yn),vg=lx([vp,mM,yZ],yl),vm=lx([mM,vp,vg,mn],yc),vy=e=>{var t=mn(e),r=mi(e);return yv(e,t,r,!1)},vv=lx([mM,vy],gq),vb=lx([mM,yZ,vm,vv],ys),vw=lx([hf,y8,mM,mn],yj),vx=lx([hf,y8,mM,mn],yk),vE=lx([hf,mM,yZ,vb,vy,vw,vx,mn],(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=cZ(e,s);if(n){var c="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,h="category"===l&&n.bandwidth?n.bandwidth()/c:0;return(h="angleAxis"===s&&null!=i&&(null==i?void 0:i.length)>=2?2*oK(i[0]-i[1])*h:h,u&&o)?o.map((e,t)=>({coordinate:n(e)+h,value:e,index:t,offset:h})):n.domain().map((e,t)=>({coordinate:n(e)+h,value:a?a[e]:e,index:t,offset:h}))}}}),vS=lx([yL,yF,e=>e.tooltip.settings],(e,t,r)=>yU(r.shared,e,t)),vO=e=>e.tooltip.settings.trigger,vA=e=>e.tooltip.settings.defaultIndex,vC=lx([yY,vS,vO,vA],yq),v_=lx([vC,y3,mD,vp],yK),vT=lx([vE,v_],yB),vj=lx([vC],e=>{if(e)return e.dataKey});lx([vC],e=>{if(e)return e.graphicalItemId});var vI=lx([yY,vS,vO,vA],yG),vk=lx([c4,c8,hf,hi,vE,vA,vI,yW],yH),vN=lx([vC,vk],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),vP=lx([vC],e=>e.active),vM=lx([vI,v_,gs,mD,vT,yW,vS],yJ),vD=lx([vM],e=>{if(null!=e)return Array.from(new Set(e.map(e=>e.payload).filter(e=>null!=e)))});function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var vF=(e,t,r,n,i)=>{var a,o=-1,s=null!=(a=null==t?void 0:t.length)?a:0;if(s<=1||null==e)return 0;if("angleAxis"===n&&null!=i&&1e-6>=Math.abs(Math.abs(i[1]-i[0])-360))for(var l=0;l<s;l++){var u=l>0?r[l-1].coordinate:r[s-1].coordinate,c=r[l].coordinate,h=l>=s-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(oK(c-u)!==oK(h-c)){var d=[];if(oK(h-c)===oK(i[1]-i[0])){f=h;var p=c+i[1]-i[0];d[0]=Math.min(p,(p+u)/2),d[1]=Math.max(p,(p+u)/2)}else{f=u;var g=h+i[1]-i[0];d[0]=Math.min(c,(g+c)/2),d[1]=Math.max(c,(g+c)/2)}var m=[Math.min(c,(f+c)/2),Math.max(c,(f+c)/2)];if(e>m[0]&&e<=m[1]||e>=d[0]&&e<=d[1]){({index:o}=r[l]);break}}else{var y=Math.min(u,h),v=Math.max(u,h);if(e>(y+c)/2&&e<=(v+c)/2){({index:o}=r[l]);break}}}else if(t){for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}}return o},vU=(e,t)=>t,vV=(e,t,r)=>r,vB=(e,t,r,n)=>n,vz=lx(vE,e=>(0,cz.default)(e,e=>e.coordinate)),v$=lx([yY,vU,vV,vB],yq),vq=lx([v$,y3,mD,vp],yK),vK=lx([yY,vU,vV,vB],yG),vH=lx([c4,c8,hf,hi,vE,vB,vK,yW],yH);lx([v$,vH],(e,t)=>{var r;return null!=(r=e.coordinate)?r:t});var vG=lx([vE,vq],yB);lx([vK,vq,gs,mD,vG,yW,vU],yJ),lx([v$,vq],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t}));var vW=lx([(e,t)=>t,hf,g3,mn,vv,vE,vz,hi],(e,t,r,n,i,a,o,s)=>{if(e&&t&&n&&i&&a){if("horizontal"===t||"vertical"===t){if(!e||!n||!i||!a)return;if(function(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}(e,s)){var l=vF("horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0,o,a,n,i),u=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("horizontal"===e)return{x:i.coordinate,y:n.chartY};if("vertical"===e)return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}})(t,a,l,e);return{activeIndex:String(l),activeCoordinate:u}}return}if(e&&n&&i&&a&&r){var c=((e,t)=>{var r,{chartX:n,chartY:i}=e,{radius:a,angle:o}=((e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)})({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=Math.acos((r-i)/o);return n>a&&(s=2*Math.PI-s),{radius:o,angle:180*s/Math.PI,angleInRadian:s}})({x:n,y:i},t),{innerRadius:s,outerRadius:l}=t;if(a<s||a>l||0===a)return null;var{startAngle:u,endAngle:c}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.min(Math.floor(t/360),Math.floor(r/360));return{startAngle:t-360*n,endAngle:r-360*n}})(t),h=o;if(u<=c){for(;h>c;)h-=360;for(;h<u;)h+=360;r=h>=u&&h<=c}else{for(;h>u;)h-=360;for(;h<c;)h+=360;r=h>=c&&h<=u}return r?gR(gR({},t),{},{radius:a,angle:((e,t)=>{var{startAngle:r,endAngle:n}=t;return e+360*Math.min(Math.floor(r/360),Math.floor(n/360))})(h,t)}):null})(e,r);if(c){var h=vF("centric"===t?c.angle:c.radius,o,a,n,i),f=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("centric"===e){var a=i.coordinate,{radius:o}=n;return vL(vL(vL({},n),gU(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return vL(vL(vL({},n),gU(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,a,h,c);return{activeIndex:String(h),activeCoordinate:f}}return}}}),vY=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},vQ=lM("mouseClick"),vX=ud();vX.startListening({actionCreator:vQ,effect:(e,t)=>{var r=e.payload,n=vW(t.getState(),vY(r));(null==n?void 0:n.activeIndex)!=null&&t.dispatch(cb({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var vJ=lM("mouseMove"),vZ=ud(),v0=null;function v1(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"==typeof t&&null!==t?"<<CHILDREN>>":t}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}vZ.startListening({actionCreator:vJ,effect:(e,t)=>{var r=e.payload;null!==v0&&cancelAnimationFrame(v0);var n=vY(r);v0=requestAnimationFrame(()=>{var e=t.getState();if("axis"===yV(e,e.tooltip.settings.shared)){var r=vW(e,n);(null==r?void 0:r.activeIndex)!=null?t.dispatch(cv({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate})):t.dispatch(cm())}v0=null})}});var v6=lK({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:lU()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.xAxis[r.id]&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:lU()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:lU()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:lU()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.yAxis[r.id]&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:lU()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:lU()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:lU()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.zAxis[r.id]&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:lU()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:lU()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(3===a.length&&a[0]===a[2]&&n===a[1]&&n!==i.width&&1>=Math.abs(n-a[0]))return;var o=[...a,n].slice(-3);e.yAxis[r]=v5(v5({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:v3,replaceXAxis:v4,removeXAxis:v8,addYAxis:v7,replaceYAxis:v9,removeYAxis:be,addZAxis:bt,replaceZAxis:br,removeZAxis:bn,updateYAxisWidth:bi}=v6.actions,ba=v6.reducer,bo=lK({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:lU()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=lr(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:lU()},removeCartesianGraphicalItem:{reducer(e,t){var r=lr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:lU()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:lU()},removePolarGraphicalItem:{reducer(e,t){var r=lr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:lU()}}}),{addCartesianGraphicalItem:bs,replaceCartesianGraphicalItem:bl,removeCartesianGraphicalItem:bu,addPolarGraphicalItem:bc,removePolarGraphicalItem:bh}=bo.actions,bf=bo.reducer,bd=lK({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=lr(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=lr(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=lr(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:bp,removeDot:bg,addArea:bm,removeArea:by,addLine:bv,removeLine:bb}=bd.actions,bw=bd.reducer,bx={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bE=lK({name:"brush",initialState:bx,reducers:{setBrushSettings:(e,t)=>null==t.payload?bx:t.payload}}),{setBrushSettings:bS}=bE.actions,bO=bE.reducer,bA=lK({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:lU()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=lr(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:lU()},removeLegendPayload:{reducer(e,t){var r=lr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:lU()}}}),{setLegendSize:bC,setLegendSettings:b_,addLegendPayload:bT,replaceLegendPayload:bj,removeLegendPayload:bI}=bA.actions,bk=bA.reducer,bN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},bP=lK({name:"rootProps",initialState:bN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!=(r=t.payload.barGap)?r:bN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),bM=bP.reducer,{updateOptions:bD}=bP.actions,bR=lK({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bL,removeRadiusAxis:bF,addAngleAxis:bU,removeAngleAxis:bV}=bR.actions,bB=bR.reducer,bz=lK({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:b$}=bz.actions,bq=bz.reducer,bK=lM("keyDown"),bH=lM("focus"),bG=ud();bG.startListening({actionCreator:bK,effect:(e,t)=>{var r=t.getState();if(!1===r.rootProps.accessibilityLayer)return;var{keyboardInteraction:n}=r.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=yK(n,y3(r),mD(r),vp(r)),o=null==a?-1:Number(a);if(Number.isFinite(o)&&!(o<0)){var s=vE(r);if("Enter"===i){var l=vH(r,"axis","hover",String(n.index));t.dispatch(cx({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:l}));return}var u=o+("ArrowRight"===i?1:-1)*("left-to-right"===yR(r)?1:-1);if(null!=s&&!(u>=s.length)&&!(u<0)){var c=vH(r,"axis","hover",String(u));t.dispatch(cx({active:!0,activeIndex:u.toString(),activeDataKey:void 0,activeCoordinate:c}))}}}}}),bG.startListening({actionCreator:bH,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var i=vH(r,"axis","hover",String("0"));t.dispatch(cx({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var bW=lM("externalEvent"),bY=ud(),bQ=new Map;bY.startListening({actionCreator:bW,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(null!=r){n.persist();var i=n.type,a=bQ.get(i);void 0!==a&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var e=t.getState(),a={activeCoordinate:vN(e),activeDataKey:vj(e),activeIndex:v_(e),activeLabel:vT(e),activeTooltipIndex:v_(e),isTooltipActive:vP(e)};r(a,n)}finally{bQ.delete(i)}});bQ.set(i,o)}}});var bX=lx([yY],e=>e.tooltipItemPayloads),bJ=lx([bX,yW,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(e=>e.settings.dataKey===n);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,r)}}),bZ=lM("touchMove"),b0=ud();b0.startListening({actionCreator:bZ,effect:(e,t)=>{var r=e.payload;if(null!=r.touches&&0!==r.touches.length){var n=t.getState(),i=yV(n,n.tooltip.settings.shared);if("axis"===i){var a=vW(n,vY({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(null==a?void 0:a.activeIndex)!=null&&t.dispatch(cv({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,s=r.touches[0];if(null==document.elementFromPoint)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute("data-recharts-item-index"),c=null!=(o=l.getAttribute("data-recharts-item-data-key"))?o:void 0,h=bJ(t.getState(),u,c);t.dispatch(cp({activeDataKey:c,activeIndex:u,activeCoordinate:h}))}}}});var b1=lK({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:b2,replaceErrorBar:b5,removeErrorBar:b6}=b1.actions,b3=b1.reducer,b4={devToolsEnabled:!1,isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout)};function b8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b8(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b9={zIndexMap:Object.values(gB).reduce((e,t)=>b7(b7({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),{})},we=new Set(Object.values(gB)),wt=lK({name:"zIndex",initialState:b9,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:lU()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!we.has(r)&&delete e.zIndexMap[r])},prepare:lU()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:lU()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:lU()}}}),{registerZIndexPortal:wr,unregisterZIndexPortal:wn,registerZIndexPortalId:wi,unregisterZIndexPortalId:wa}=wt.actions,wo=lT({brush:bO,cartesianAxis:ba,chartData:c_,errorBars:b3,graphicalItems:bf,layout:cP,legend:bk,options:uy,polarAxis:bB,polarOptions:bq,referenceElements:bw,rootProps:bM,tooltip:cE,zIndex:wt.reducer}),ws=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return function(e){let t,r,n,i=function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=e??{},a=new lD;return t&&("boolean"==typeof t?a.push(lN):a.push(lk(t.extraArgument))),a},{reducer:a,middleware:o,devTools:s=!0,duplicateMiddlewareCheck:l=!0,preloadedState:u,enhancers:c}=e||{};if("function"==typeof a)t=a;else if(l_(a))t=lT(a);else throw Error(up(1));r="function"==typeof o?o(i):i();let h=lj;s&&(h=lP({trace:!1,..."object"==typeof s&&s}));let f=(n=function(...e){return t=>(r,n)=>{let i=t(r,n),a=()=>{throw Error(lS(15))},o={getState:i.getState,dispatch:(e,...t)=>a(e,...t)};return a=lj(...e.map(e=>e(o)))(i.dispatch),{...i,dispatch:a}}}(...r),function(e){let{autoBatch:t=!0}=e??{},r=new lD(n);return t&&r.push(lB("object"==typeof t?t:void 0)),r});return function e(t,r,n){if("function"!=typeof t)throw Error(lS(2));if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw Error(lS(0));if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw Error(lS(1));return n(e)(t,r)}let i=t,a=r,o=new Map,s=o,l=0,u=!1;function c(){s===o&&(s=new Map,o.forEach((e,t)=>{s.set(t,e)}))}function h(){if(u)throw Error(lS(3));return a}function f(e){if("function"!=typeof e)throw Error(lS(4));if(u)throw Error(lS(5));let t=!0;c();let r=l++;return s.set(r,e),function(){if(t){if(u)throw Error(lS(6));t=!1,c(),s.delete(r),o=null}}}function d(e){if(!l_(e))throw Error(lS(7));if(void 0===e.type)throw Error(lS(8));if("string"!=typeof e.type)throw Error(lS(17));if(u)throw Error(lS(9));try{u=!0,a=i(a,e)}finally{u=!1}return(o=s).forEach(e=>{e()}),e}return d({type:lC.INIT}),{dispatch:d,subscribe:f,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw Error(lS(10));i=e,d({type:lC.REPLACE})},[lO]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(lS(11));function t(){e.next&&e.next(h())}return t(),{unsubscribe:f(t)}},[lO](){return this}}}}}(t,u,h(..."function"==typeof c?c(f):f()))}({reducer:wo,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([vX.middleware,vZ.middleware,bG.middleware,bY.middleware,b0.middleware]),enhancers:e=>{var t=e;return"function"==typeof e&&(t=e()),t.concat(lB({type:"raf"}))},devTools:b4.devToolsEnabled&&{serialize:{replacer:v1},name:"recharts-".concat(t)}})};function wl(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=hs(),a=(0,P.useRef)(null);return i?r:(null==a.current&&(a.current=ws(t,n)),P.createElement(uj,{context:cD,store:a.current},r))}var wu=e=>{var{chartData:t}=e,r=cL(),n=hs();return(0,P.useEffect)(()=>n?()=>{}:(r(cO(t)),()=>{r(cO(void 0))}),[t,r,n]),null},wc=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]),wh=(0,P.memo)(function(e){var{layout:t,margin:r}=e,n=cL(),i=hs();return(0,P.useEffect)(()=>{i||(n(cI(t)),n(cj(r)))},[n,i,t,r]),null},function(e,t){for(var r of new Set([...Object.keys(e),...Object.keys(t)]))if(wc.has(r)){if(null==e[r]&&null==t[r])continue;if(!function(e,t){if(uA(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!uA(e[r[n]],t[r[n]]))return!1;return!0}(e[r],t[r]))return!1}else{var n,i;if(n=e[r],i=t[r],(null!=n||null!=i)&&("number"==typeof n&&"number"==typeof i?n!==i&&(n==n||i==i):n!==i))return!1}return!0});function wf(e){var t=cL();return(0,P.useEffect)(()=>{t(bD(e))},[t,e]),null}function wd(e){var t=cL();return(0,P.useEffect)(()=>{t(b$(e))},[t,e]),null}var wp=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wg(e){return"string"==typeof e&&wp.includes(e)}var wm=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function wy(e){return"string"==typeof e&&wm.has(e)}function wv(e){return"string"==typeof e&&e.startsWith("data-")}function wb(e){if("object"!=typeof e||null===e)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(wy(r)||wv(r))&&(t[r]=e[r]);return t}function ww(e){return null==e?null:(0,P.isValidElement)(e)&&"object"==typeof e.props&&null!==e.props?wb(e.props):"object"!=typeof e||Array.isArray(e)?null:wb(e)}function wx(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(wy(r)||wv(r)||wg(r))&&(t[r]=e[r]);return t}var wE=["children","width","height","viewBox","className","style","title","desc"];function wS(){return(wS=Object.assign.bind()).apply(null,arguments)}var wO=(0,P.forwardRef)((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,wE),h=a||{width:n,height:i,x:0,y:0},f=oz("recharts-surface",o);return P.createElement("svg",wS({},wx(c),{className:f,width:n,height:i,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),P.createElement("title",null,l),P.createElement("desc",null,u),r)}),wA=null!=(k=P["useId".toString()])?k:()=>{var[e]=P.useState(()=>oX("uid-"));return e};function wC(e,t){var r=wA();return t||(e?"".concat(e,"-").concat(r):r)}var w_=lx(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(null!=t){var n=e[t];if(null!=n)return r?n.panoramaElementId:n.elementId}}),wT=lx(e=>e.zIndex.zIndexMap,e=>Array.from(new Set(Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(gB)))).sort((e,t)=>e-t),{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}}});function wj(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=wC("".concat(n).concat(t)),a=cL();return(0,P.useLayoutEffect)(()=>(a(wi({zIndex:t,elementId:i,isPanorama:r})),()=>{a(wa({zIndex:t,isPanorama:r}))}),[a,t,i,r]),P.createElement("g",{tabIndex:-1,id:i})}function wI(e){var{children:t,isPanorama:r}=e,n=cB(wT);if(!n||0===n.length)return t;var i=n.filter(e=>e<0),a=n.filter(e=>e>0);return P.createElement(P.Fragment,null,i.map(e=>P.createElement(wj,{key:e,zIndex:e,isPanorama:r})),t,a.map(e=>P.createElement(wj,{key:e,zIndex:e,isPanorama:r})))}var wk=["children"];function wN(){return(wN=Object.assign.bind()).apply(null,arguments)}var wP={width:"100%",height:"100%",display:"block"},wM=(0,P.forwardRef)((e,t)=>{var r,n,i,a=cB(c4),o=cB(c8),s=null==(r=cB(e=>e.rootProps.accessibilityLayer))||r;if(!st(a)||!st(o))return null;var{children:l,otherAttributes:u,title:c,desc:h}=e;return null!=u&&(n="number"==typeof u.tabIndex?u.tabIndex:s?0:void 0,i="string"==typeof u.role?u.role:s?"application":void 0),P.createElement(wO,wN({},u,{title:c,desc:h,role:i,tabIndex:n,width:a,height:o,style:wP,ref:t}),l)}),wD=e=>{var{children:t}=e,r=cB(hu);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return P.createElement(wO,{width:n,height:i,x:o,y:a},t)},wR=(0,P.forwardRef)((e,t)=>{var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,wk);return hs()?P.createElement(wD,null,P.createElement(wI,{isPanorama:!0},r)):P.createElement(wM,wN({ref:t},n),P.createElement(wI,{isPanorama:!1},r))}),wL=new(e.i(78492)).default,wF="recharts.syncEvent.tooltip",wU="recharts.syncEvent.brush",wV=["x","y"];function wB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wB(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w$=(0,P.createContext)(null),wq=(0,P.createContext)(null);function wK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wH(){return(wH=Object.assign.bind()).apply(null,arguments)}var wG=()=>{var e,t,r,n,i,a,o,s,l,u,c,h;return e=cL(),(0,P.useEffect)(()=>{e(uv())},[e]),t=cB(gN),r=cB(gM),n=cL(),i=cB(gP),a=cB(vE),o=cB(hf),s=hh(),l=cB(e=>e.rootProps.className),(0,P.useEffect)(()=>{if(null==t)return o5;var e=(e,l,u)=>{if(r!==u&&t===e){if("index"===i){if(s&&null!=l&&null!=(c=l.payload)&&c.coordinate&&l.payload.sourceViewBox){var c,h,f=l.payload.coordinate,{x:d,y:p}=f,g=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(f,wV),{x:m,y:y,width:v,height:b}=l.payload.sourceViewBox,w=wz(wz({},g),{},{x:s.x+(v?(d-m)/v:0)*s.width,y:s.y+(b?(p-y)/b:0)*s.height});n(wz(wz({},l),{},{payload:wz(wz({},l.payload),{},{coordinate:w})}))}else n(l);return}if(null!=a){if("function"==typeof i){var x=i(a,{activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate});h=a[x]}else"value"===i&&(h=a.find(e=>String(e.value)===l.payload.label));var{coordinate:E}=l.payload;if(null==h||!1===l.payload.active||null==E||null==s)return void n(cw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));var{x:S,y:O}=E,A=Math.min(S,s.x+s.width),C=Math.min(O,s.y+s.height),_={x:"horizontal"===o?h.coordinate:A,y:"horizontal"===o?C:h.coordinate};n(cw({active:l.payload.active,coordinate:_,dataKey:l.payload.dataKey,index:String(h.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox,graphicalItemId:l.payload.graphicalItemId}))}}};return wL.on(wF,e),()=>{wL.off(wF,e)}},[l,n,r,t,i,a,o,s]),u=cB(gN),c=cB(gM),h=cL(),(0,P.useEffect)(()=>{if(null==u)return o5;var e=(e,t,r)=>{c!==r&&u===e&&h(cA(t))};return wL.on(wU,e),()=>{wL.off(wU,e)}},[h,c,u]),null};function wW(e){if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var wY=(0,P.forwardRef)((e,t)=>{var r,n,i=(0,P.useRef)(null),[a,o]=(0,P.useState)({containerWidth:wW(null==(r=e.style)?void 0:r.width),containerHeight:wW(null==(n=e.style)?void 0:n.height)}),s=(0,P.useCallback)((e,t)=>{o(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),l=(0,P.useCallback)(e=>{if("function"==typeof t&&t(e),null!=e&&"undefined"!=typeof ResizeObserver){var{width:r,height:n}=e.getBoundingClientRect();s(r,n);var a=new ResizeObserver(e=>{var{width:t,height:r}=e[0].contentRect;s(t,r)});a.observe(e),i.current=a}},[t,s]);return(0,P.useEffect)(()=>()=>{var e=i.current;null!=e&&e.disconnect()},[s]),P.createElement(P.Fragment,null,P.createElement(hd,{width:a.containerWidth,height:a.containerHeight}),P.createElement("div",wH({ref:l},e)))}),wQ=(0,P.forwardRef)((e,t)=>{var{width:r,height:n}=e,[i,a]=(0,P.useState)({containerWidth:wW(r),containerHeight:wW(n)}),o=(0,P.useCallback)((e,t)=>{a(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),s=(0,P.useCallback)(e=>{if("function"==typeof t&&t(e),null!=e){var{width:r,height:n}=e.getBoundingClientRect();o(r,n)}},[t,o]);return P.createElement(P.Fragment,null,P.createElement(hd,{width:i.containerWidth,height:i.containerHeight}),P.createElement("div",wH({ref:s},e)))}),wX=(0,P.forwardRef)((e,t)=>{var{width:r,height:n}=e;return P.createElement(P.Fragment,null,P.createElement(hd,{width:r,height:n}),P.createElement("div",wH({ref:t},e)))}),wJ=(0,P.forwardRef)((e,t)=>{var{width:r,height:n}=e;return oG(r)||oG(n)?P.createElement(wQ,wH({},e,{ref:t})):P.createElement(wX,wH({},e,{ref:t}))}),wZ=(0,P.forwardRef)((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:h,onMouseUp:f,onTouchEnd:d,onTouchMove:p,onTouchStart:g,style:m,width:y,responsive:v,dispatchTouchEvents:b=!0}=e,w=(0,P.useRef)(null),x=cL(),[E,S]=(0,P.useState)(null),[O,A]=(0,P.useState)(null),C=function(){var e=cL(),[t,r]=(0,P.useState)(null),n=cB(c7);return(0,P.useEffect)(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;se(r)&&r!==n&&e(cN(r))}},[t,e,n]),r}(),_=ss(),T=(null==_?void 0:_.width)>0?_.width:y,j=(null==_?void 0:_.height)>0?_.height:i,I=(0,P.useCallback)(e=>{C(e),"function"==typeof t&&t(e),S(e),A(e),null!=e&&(w.current=e)},[C,t,S,A]),k=(0,P.useCallback)(e=>{x(vQ(e)),x(bW({handler:a,reactEvent:e}))},[x,a]),N=(0,P.useCallback)(e=>{x(vJ(e)),x(bW({handler:u,reactEvent:e}))},[x,u]),M=(0,P.useCallback)(e=>{x(cm()),x(bW({handler:c,reactEvent:e}))},[x,c]),D=(0,P.useCallback)(e=>{x(vJ(e)),x(bW({handler:h,reactEvent:e}))},[x,h]),R=(0,P.useCallback)(()=>{x(bH())},[x]),L=(0,P.useCallback)(e=>{x(bK(e.key))},[x]),F=(0,P.useCallback)(e=>{x(bW({handler:o,reactEvent:e}))},[x,o]),U=(0,P.useCallback)(e=>{x(bW({handler:s,reactEvent:e}))},[x,s]),V=(0,P.useCallback)(e=>{x(bW({handler:l,reactEvent:e}))},[x,l]),B=(0,P.useCallback)(e=>{x(bW({handler:f,reactEvent:e}))},[x,f]),z=(0,P.useCallback)(e=>{x(bW({handler:g,reactEvent:e}))},[x,g]),$=(0,P.useCallback)(e=>{b&&x(bZ(e)),x(bW({handler:p,reactEvent:e}))},[x,b,p]),q=(0,P.useCallback)(e=>{x(bW({handler:d,reactEvent:e}))},[x,d]);return P.createElement(w$.Provider,{value:E},P.createElement(wq.Provider,{value:O},P.createElement(!0===v?wY:wJ,{width:null!=T?T:null==m?void 0:m.width,height:null!=j?j:null==m?void 0:m.height,className:oz("recharts-wrapper",n),style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wK(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({position:"relative",cursor:"default",width:T,height:j},m),onClick:k,onContextMenu:F,onDoubleClick:U,onFocus:R,onKeyDown:L,onMouseDown:V,onMouseEnter:N,onMouseLeave:M,onMouseMove:D,onMouseUp:B,onTouchEnd:q,onTouchMove:$,onTouchStart:z,ref:I},P.createElement(wG,null),r)))}),w0=lx([hi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),w1=lx([w0,c4,c8],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),w2=(0,P.createContext)(void 0),w5=e=>{var{children:t}=e,[r]=(0,P.useState)("".concat(oX("recharts"),"-clip")),n=cB(w1);if(null==n)return null;var{x:i,y:a,width:o,height:s}=n;return P.createElement(w2.Provider,{value:r},P.createElement("defs",null,P.createElement("clipPath",{id:r},P.createElement("rect",{x:i,y:a,height:s,width:o}))),t)},w6=["width","height","responsive","children","className","style","compact","title","desc"],w3=(0,P.forwardRef)((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:u,desc:c}=e,h=wb(function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,w6));return l?P.createElement(P.Fragment,null,P.createElement(hd,{width:r,height:n}),P.createElement(wR,{otherAttributes:h,title:u,desc:c},a)):P.createElement(wZ,{className:o,style:s,width:r,height:n,responsive:null!=i&&i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},P.createElement(wR,{otherAttributes:h,title:u,desc:c,ref:t},P.createElement(w5,null,a)))}),w4=["layout"];function w8(){return(w8=Object.assign.bind()).apply(null,arguments)}var w7={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},w9=(0,P.forwardRef)(function(e,t){var r,n=uw(e.categoricalChartProps,w7),{layout:i}=n,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(n,w4),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u}=e;return P.createElement(wl,{preloadedState:{options:{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0}},reduxStoreName:null!=(r=n.id)?r:o},P.createElement(wu,{chartData:n.data}),P.createElement(wh,{layout:i,margin:n.margin}),P.createElement(wf,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),P.createElement(wd,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),P.createElement(w3,w8({},a,{ref:t})))});function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var xr=["axis"],xn=xt(xt({},w7),{},{layout:"centric",startAngle:90,endAngle:-270}),xi=(0,P.forwardRef)((e,t)=>{var r=uw(e,xn);return P.createElement(w9,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xr,tooltipPayloadSearcher:ug,categoricalChartProps:r,ref:t})}),xa=e=>e.graphicalItems.polarItems,xo=lx([g4,g8],my),xs=lx([xa,mp,xo],mb),xl=lx([xs],mO),xu=lx([xl,gl],mC),xc=lx([xu,mp,xs],mT);lx([xu,mp,xs],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:cJ(e,null!=(n=t.dataKey)?n:r.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:cJ(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var xh=()=>void 0,xf=lx([xu,mp,xs,mK,g4],mG),xd=lx([mp,mz,m$,xh,xf,xh,hf,g4],ye),xp=lx([mp,hf,xu,xc,gj,g4,xd],yn),xg=lx([xp,mp,yo],yl),xm=lx([mp,xp,xg,g4],yc),xy=(e,t,r)=>{switch(t){case"angleAxis":return gY(e,r);case"radiusAxis":return gQ(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},xv=(e,t,r)=>{switch(t){case"angleAxis":return g2(e,r);case"radiusAxis":return g6(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},xb=lx([xy,yo,xm,xv],ys),xw=lx([hf,xc,mg,g4],yk),xx=lx([hf,xy,yo,xb,xg,xv,yI,xw,g4],yP),xE=lx([xx],e=>{if(e){var t=new Map;return e.forEach(e=>{var r=(e.coordinate+360)%360;t.has(r)||t.set(r,e)}),Array.from(t.values())}});lx([hf,xy,xb,xv,yI,xw,g4],yM);var xS=lx([(e,t)=>xx(e,"angleAxis",t,!1)],e=>{if(e)return e.map(e=>e.coordinate)}),xO=lx([(e,t)=>xx(e,"radiusAxis",t,!1)],e=>{if(e)return e.map(e=>e.coordinate)}),xA=e.i(74080);function xC(e){var{zIndex:t,children:r}=e,n=void 0!==cB(hf)&&void 0!==t&&0!==t,i=hs(),a=cL();(0,P.useLayoutEffect)(()=>n?(a(wr({zIndex:t})),()=>{a(wn({zIndex:t}))}):o5,[a,t,n]);var o=cB(e=>w_(e,t,i));if(!n)return r;if(!o)return null;var s=document.getElementById(o);return s?(0,xA.createPortal)(r,s):null}var x_=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function xT(){return(xT=Object.assign.bind()).apply(null,arguments)}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var xk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:a,radialLines:o}=e;if(!a||!a.length||!o)return null;var s=xI({stroke:"#ccc"},wb(e));return P.createElement("g",{className:"recharts-polar-grid-angle"},a.map(e=>{var a=gU(t,r,n,e),o=gU(t,r,i,e);return P.createElement("line",xT({key:"line-".concat(e)},s,{x1:a.x,y1:a.y,x2:o.x,y2:o.y}))}))},xN=e=>{var{cx:t,cy:r,radius:n}=e,i=xI({stroke:"#ccc",fill:"none"},wb(e));return P.createElement("circle",xT({},i,{className:oz("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:r,r:n}))},xP=e=>{var t,r,n,i,{radius:a}=e,o=xI({stroke:"#ccc",fill:"none"},wb(e));return P.createElement("path",xT({},o,{className:oz("recharts-polar-grid-concentric-polygon",e.className),d:(t=e.cx,r=e.cy,n=e.polarAngles,i="",n.forEach((e,n)=>{var o=gU(t,r,a,e);n?i+="L ".concat(o.x,",").concat(o.y):i+="M ".concat(o.x,",").concat(o.y)}),i+="Z")}))},xM=e=>{var{polarRadius:t,gridType:r}=e;if(!t||!t.length)return null;var n=Math.max(...t),i=e.fill&&"none"!==e.fill;return P.createElement("g",{className:"recharts-polar-grid-concentric"},i&&"circle"===r&&P.createElement(xN,xT({},e,{radius:n})),i&&"circle"!==r&&P.createElement(xP,xT({},e,{radius:n})),t.map((t,n)=>"circle"===r?P.createElement(xN,xT({key:n},e,{fill:"none",radius:t})):P.createElement(xP,xT({key:n},e,{fill:"none",radius:t}))))},xD=e=>{var t,r,n,i,a,o,s,l,u,{gridType:c="polygon",radialLines:h=!0,angleAxisId:f=0,radiusAxisId:d=0,cx:p,cy:g,innerRadius:m,outerRadius:y,polarAngles:v,polarRadius:b}=e,w=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,x_),x=cB(g3),E=cB(e=>xS(e,f)),S=cB(e=>xO(e,d)),O=Array.isArray(v)?v:E,A=Array.isArray(b)?b:S;if(null==O||null==A)return null;var C=xI(xI({cx:null!=(t=null!=(r=null==x?void 0:x.cx)?r:p)?t:0,cy:null!=(n=null!=(i=null==x?void 0:x.cy)?i:g)?n:0,innerRadius:null!=(a=null!=(o=null==x?void 0:x.innerRadius)?o:m)?a:0,outerRadius:null!=(s=null!=(l=null==x?void 0:x.outerRadius)?l:y)?s:0,polarAngles:O,polarRadius:A},w),{},{zIndex:null!=(u=w.zIndex)?u:gB.grid}),{outerRadius:_}=C;return _<=0?null:P.createElement(xC,{zIndex:C.zIndex},P.createElement("g",{className:"recharts-polar-grid"},P.createElement(xM,xT({gridType:c,radialLines:h},C,{polarAngles:O,polarRadius:A})),P.createElement(xk,xT({gridType:c,radialLines:h},C,{polarAngles:O,polarRadius:A}))))};xD.displayName="PolarGrid";var xR=["children","className"];function xL(){return(xL=Object.assign.bind()).apply(null,arguments)}var xF=P.forwardRef((e,t)=>{var{children:r,className:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,xR),a=oz("recharts-layer",n);return P.createElement("g",xL({className:a},wx(i),{ref:t}),r)}),xU=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,P.isValidElement)(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var n={};return Object.keys(r).forEach(e=>{wg(e)&&(n[e]=t||(t=>r[e](r,t)))}),n},xV=(e,t,r)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];wg(i)&&"function"==typeof a&&(n||(n={}),n[i]=e=>(a(t,r,e),null))}),n};function xB(){return(xB=Object.assign.bind()).apply(null,arguments)}var xz=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=oz("recharts-dot",i);return oW(t)&&oW(r)&&oW(n)?P.createElement("circle",xB({},wb(e),xU(e),{className:a,cx:t,cy:r,r:n})):null},x$=["points","className","baseLinePoints","connectNulls"];function xq(){return(xq=Object.assign.bind()).apply(null,arguments)}var xK=e=>e&&e.x===+e.x&&e.y===+e.y,xH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(e=>{xK(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),xK(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},xG=(e,t)=>{var r=xH(e);t&&(r=[r.reduce((e,t)=>[...e,...t],[])]);var n=r.map(e=>e.reduce((e,t,r)=>"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y),"")).join("");return 1===r.length?"".concat(n,"Z"):n},xW=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,x$);if(!t||!t.length)return null;var o=oz("recharts-polygon",r);if(n&&n.length){var s,l=a.stroke&&"none"!==a.stroke,u=(s=xG(t,i),"".concat("Z"===s.slice(-1)?s.slice(0,-1):s,"L").concat(xG(Array.from(n).reverse(),i).slice(1)));return P.createElement("g",{className:o},P.createElement("path",xq({},wx(a),{fill:"Z"===u.slice(-1)?a.fill:"none",stroke:"none",d:u})),l?P.createElement("path",xq({},wx(a),{fill:"none",d:xG(t,i)})):null,l?P.createElement("path",xq({},wx(a),{fill:"none",d:xG(n,i)})):null)}var c=xG(t,i);return P.createElement("path",xq({},wx(a),{fill:"Z"===c.slice(-1)?a.fill:"none",className:o,d:c}))};function xY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var xQ=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xY(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),xX=new class{constructor(e){!function(e,t,r){var n;(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;null!=r&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(xQ.cacheSize),xJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xZ="recharts_measurement_span",x0=(e,t)=>{try{var r=document.getElementById(xZ);r||((r=document.createElement("span")).setAttribute("id",xZ),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,xJ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(e){return{width:0,height:0}}},x1=function(e){var t,r,n,i,a,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||b4.isSsr)return{width:0,height:0};if(!xQ.enableCache)return x0(e,s);var l=(t=s.fontSize||"",r=s.fontFamily||"",n=s.fontWeight||"",i=s.fontStyle||"",a=s.letterSpacing||"",o=s.textTransform||"","".concat(e,"|").concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o)),u=xX.get(l);if(u)return u;var c=x0(e,s);return xX.set(l,c),c},x2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x6=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,x3=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,x4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},x8=Object.keys(x4);class x7{static parse(e){var t,[,r,n]=null!=(t=x3.exec(e))?t:[];return new x7(parseFloat(r),null!=n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,oH(e)&&(this.unit=""),""===t||x6.test(t)||(this.num=NaN,this.unit=""),x8.includes(t)&&(this.num=e*x4[t],this.unit="px")}add(e){return this.unit!==e.unit?new x7(NaN,""):new x7(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new x7(NaN,""):new x7(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new x7(NaN,""):new x7(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new x7(NaN,""):new x7(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oH(this.num)}}function x9(e){if(e.includes("NaN"))return"NaN";for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=null!=(r=x2.exec(t))?r:[],o=x7.parse(null!=n?n:""),s=x7.parse(null!=a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return"NaN";t=t.replace(x2,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,h,f]=null!=(u=x5.exec(t))?u:[],d=x7.parse(null!=c?c:""),p=x7.parse(null!=f?f:""),g="+"===h?d.add(p):d.subtract(p);if(g.isNaN())return"NaN";t=t.replace(x5,g.toString())}return t}var Ee=/\(([^()]*)\)/;function Et(e){var t=function(e){try{var t;return t=e.replace(/\s+/g,""),t=function(e){for(var t,r=e;null!=(t=Ee.exec(r));){var[,n]=t;r=r.replace(Ee,x9(n))}return r}(t),t=x9(t)}catch(e){return"NaN"}}(e.slice(5,-1));return"NaN"===t?"":t}var Er=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],En=["dx","dy","angle","className","breakAll"];function Ei(){return(Ei=Object.assign.bind()).apply(null,arguments)}function Ea(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Eo=/[ \f\n\r\t\v\u2028\u2029]+/,Es=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];null!=t&&(i=r?t.toString().split(""):t.toString().split(Eo));var a=i.map(e=>({word:e,width:x1(e,n).width})),o=r?0:x1("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch(e){return null}},El=(e,t,r,n)=>e.reduce((e,i)=>{var{word:a,width:o}=i,s=e[e.length-1];return s&&null!=o&&(null==t||n||s.width+o+r<Number(t))?(s.words.push(a),s.width+=o+r):e.push({words:[a],width:o}),e},[]),Eu=e=>e.reduce((e,t)=>e.width>t.width?e:t),Ec=(e,t,r,n,i,a,o,s)=>{var l=Es({breakAll:r,style:n,children:e.slice(0,t)+""});if(!l)return[!1,[]];var u=El(l.wordsWithComputedWidth,a,o,s);return[u.length>i||Eu(u).width>Number(a),u]},Eh=e=>[{words:null==e?[]:e.toString().split(Eo),width:void 0}],Ef="#808080",Ed={angle:0,breakAll:!1,capHeight:"0.71em",fill:Ef,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ep=(0,P.forwardRef)((e,t)=>{var r,n=uw(e,Ed),{x:i,y:a,lineHeight:o,capHeight:s,fill:l,scaleToFit:u,textAnchor:c,verticalAnchor:h}=n,f=Ea(n,Er),d=(0,P.useMemo)(()=>(e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!b4.isSsr){var s=Es({breakAll:a,children:n,style:i});if(!s)return Eh(n);var{wordsWithComputedWidth:l,spaceWidth:u}=s;return((e,t,r,n,i)=>{var a,{maxLines:o,children:s,style:l,breakAll:u}=e,c=oW(o),h=String(s),f=El(t,n,r,i);if(!c||i||!(f.length>o||Eu(f).width>Number(n)))return f;for(var d=0,p=h.length-1,g=0;d<=p&&g<=h.length-1;){var m=Math.floor((d+p)/2),[y,v]=Ec(h,m-1,u,l,o,n,r,i),[b]=Ec(h,m,u,l,o,n,r,i);if(y||b||(d=m+1),y&&b&&(p=m-1),!y&&b){a=v;break}g++}return a||f})({breakAll:a,children:n,maxLines:o,style:i},l,u,t,!!r)}return Eh(n)})({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:u,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,u,f.style,f.width]),{dx:p,dy:g,angle:m,className:y,breakAll:v}=f,b=Ea(f,En);if(!oY(i)||!oY(a)||0===d.length)return null;var w=Number(i)+(oW(p)?p:0),x=Number(a)+(oW(g)?g:0);if(!se(w)||!se(x))return null;switch(h){case"start":r=Et("calc(".concat(s,")"));break;case"middle":r=Et("calc(".concat((d.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:r=Et("calc(".concat(d.length-1," * -").concat(o,")"))}var E=[];if(u){var S=d[0].width,{width:O}=f;E.push("scale(".concat(oW(O)&&oW(S)?O/S:1,")"))}return m&&E.push("rotate(".concat(m,", ").concat(w,", ").concat(x,")")),E.length&&(b.transform=E.join(" ")),P.createElement("text",Ei({},wx(b),{ref:t,x:w,y:x,className:oz("recharts-text",y),textAnchor:c,fill:l.includes("url")?Ef:l}),d.map((e,t)=>{var n=e.words.join(v?"":" ");return P.createElement("tspan",{x:w,dy:0===t?r:o,key:"".concat(n,"-").concat(t)},n)}))});Ep.displayName="Text";var Eg=["children"];function Em(){return(Em=Object.assign.bind()).apply(null,arguments)}function Ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ev(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ey(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ey(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Eb=Math.cos(gF(45));function Ew(e){var t=cL(),r=(0,P.useMemo)(()=>{var{children:t}=e,r=e,n=Eg;if(null==r)return{};var i,a,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(r,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)i=s[a],-1===n.indexOf(i)&&({}).propertyIsEnumerable.call(r,i)&&(o[i]=r[i])}return o},[e]),n=cB(e=>gY(e,r.id)),i=r===n;return((0,P.useEffect)(()=>(t(bU(r)),()=>{t(bV(r))}),[t,r]),i)?e.children:null}var Ex=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:a,ticks:o}=e;if(!a)return null;var s=Ev(Ev({},wb(e)),{},{fill:"none"},wb(a));if("circle"===i)return P.createElement(xz,Em({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:r,r:n}));var l=o.map(e=>gU(t,r,n,e.coordinate));return P.createElement(xW,Em({className:"recharts-polar-angle-axis-line"},s,{points:l}))},EE=e=>{var{tick:t,tickProps:r,value:n}=e;return t?P.isValidElement(t)?P.cloneElement(t,r):"function"==typeof t?t(r):P.createElement(Ep,Em({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},ES=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:a}=e,o=wb(e),s=ww(t),l=Ev(Ev({},o),{},{fill:"none"},wb(r)),u=a.map((a,u)=>{var c,h,f,d,p=((e,t)=>{var{cx:r,cy:n,radius:i,orientation:a,tickSize:o}=t,s=gU(r,n,i,e.coordinate),l=gU(r,n,i+("inner"===a?-1:1)*(o||8),e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}})(a,e),g=(c=e.orientation,(h=Math.cos(gF(-a.coordinate)))>1e-5?"outer"===c?"start":"end":h<-1e-5?"outer"===c?"end":"start":"middle"),m=(f=Math.cos(gF(-a.coordinate)),d=Math.sin(gF(-a.coordinate)),Math.abs(f)<=Eb?d>0?"start":"end":"middle"),y=Ev(Ev(Ev({},o),{},{textAnchor:g,verticalAnchor:m,stroke:"none",fill:i},s),{},{index:u,payload:a,x:p.x2,y:p.y2});return P.createElement(xF,Em({className:oz("recharts-polar-angle-axis-tick",gV(t)),key:"tick-".concat(a.coordinate)},xV(e,a,u)),r&&P.createElement("line",Em({className:"recharts-polar-angle-axis-tick-line"},l,p)),P.createElement(EE,{tick:t,tickProps:y,value:n?n(a.value,u):a.value}))});return P.createElement(xF,{className:"recharts-polar-angle-axis-ticks"},u)},EO=e=>{var{angleAxisId:t}=e,r=cB(g3),n=cB(e=>xb(e,"angleAxis",t)),i=hs(),a=cB(e=>xE(e,"angleAxis",t,i));if(null==r||!a||!a.length||null==n)return null;var o=Ev(Ev(Ev({},e),{},{scale:n},r),{},{radius:r.outerRadius,ticks:a});return P.createElement(xC,{zIndex:o.zIndex},P.createElement(xF,{className:oz("recharts-polar-angle-axis","angleAxis",o.className)},P.createElement(Ex,o),P.createElement(ES,o)))};function EA(e){var t=uw(e,gz);return P.createElement(Ew,{id:t.angleAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:t.reversed,includeHidden:!1,allowDecimals:t.allowDecimals,tickCount:t.tickCount,ticks:t.ticks,tick:t.tick,domain:t.domain},P.createElement(EO,t))}EA.displayName="PolarAngleAxis";var EC=e.i(13058),E_=e.i(68398),ET=["labelRef"];function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ek(){return(Ek=Object.assign.bind()).apply(null,arguments)}var EN=(0,P.createContext)(null),EP=(0,P.createContext)(null),EM=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o,clockWise:s,children:l}=e,u=(0,P.useMemo)(()=>({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o,clockWise:s}),[t,r,n,i,a,o,s]);return P.createElement(EP.Provider,{value:u},l)},ED=()=>{var e=(0,P.useContext)(EP),t=cB(g3);return e||t},ER=e=>null!=e&&"function"==typeof e,EL=e=>"cx"in e&&oW(e.cx),EF={angle:0,offset:5,zIndex:gB.label,position:"middle",textBreakAll:!1};function EU(e){var t,r,n,i,a,o,s=uw(e,EF),{viewBox:l,position:u,value:c,children:h,content:f,className:d="",textBreakAll:p,labelRef:g}=s,m=ED(),y=(t=(0,P.useContext)(EN),r=hh(),t||hc(r));if(!(i=null==l?"center"===u?y:null!=m?m:y:EL(l)?l:hc(l))||null==c&&null==h&&!(0,P.isValidElement)(f)&&"function"!=typeof f)return null;var v=EI(EI({},s),{},{viewBox:i});if((0,P.isValidElement)(f)){var{labelRef:b}=v,w=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(v,ET);return(0,P.cloneElement)(f,w)}if("function"==typeof f){if(a=(0,P.createElement)(f,v),(0,P.isValidElement)(a))return a}else a=(e=>{var{value:t,formatter:r}=e,n=null==e.children?t:e.children;return"function"==typeof r?r(n):n})(s);var x=wx(s);if(EL(i)){if("insideStart"===u||"insideEnd"===u||"end"===u)return((e,t,r,n,i)=>{var a,o,{offset:s,className:l}=e,{cx:u,cy:c,innerRadius:h,outerRadius:f,startAngle:d,endAngle:p,clockWise:g}=i,m=(h+f)/2,y=oK(p-d)*Math.min(Math.abs(p-d),360),v=y>=0?1:-1;switch(t){case"insideStart":a=d+v*s,o=g;break;case"insideEnd":a=p-v*s,o=!g;break;case"end":a=p+v*s,o=g;break;default:throw Error("Unsupported position ".concat(t))}o=y<=0?o:!o;var b=gU(u,c,m,a),w=gU(u,c,m,a+(o?1:-1)*359),x="M".concat(b.x,",").concat(b.y,"\n    A").concat(m,",").concat(m,",0,1,").concat(+!o,",\n    ").concat(w.x,",").concat(w.y),E=null==e.id?oX("recharts-radial-line-"):e.id;return P.createElement("text",Ek({},n,{dominantBaseline:"central",className:oz("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:E,d:x})),P.createElement("textPath",{xlinkHref:"#".concat(E)},r))})(s,u,a,x,i);o=((e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if("outside"===r){var{x:c,y:h}=gU(n,i,o+t,u);return{x:c,y:h,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var{x:f,y:d}=gU(n,i,(a+o)/2,u);return{x:f,y:d,textAnchor:"middle",verticalAnchor:"middle"}})(i,s.offset,s.position)}else o=((e,t)=>{var r,{parentViewBox:n,offset:i,position:a}=e;null==n||EL(n)||(r=n);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:c}=t,h=o+(l-u)/2,f=(o+h)/2,d=(l+u)/2,p=c>=0?1:-1,g=p*i,m=p>0?"end":"start",y=p>0?"start":"end",v=l>=0?1:-1,b=v*i,w=v>0?"end":"start",x=v>0?"start":"end";if("top"===a)return EI(EI({},{x:o+l/2,y:s-g,textAnchor:"middle",verticalAnchor:m}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===a)return EI(EI({},{x:h+u/2,y:s+c+g,textAnchor:"middle",verticalAnchor:y}),r?{height:Math.max(r.y+r.height-(s+c),0),width:u}:{});if("left"===a){var E={x:f-b,y:s+c/2,textAnchor:w,verticalAnchor:"middle"};return EI(EI({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if("right"===a){var S={x:f+d+b,y:s+c/2,textAnchor:x,verticalAnchor:"middle"};return EI(EI({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:c}:{})}var O=r?{width:d,height:c}:{};return"insideLeft"===a?EI({x:f+b,y:s+c/2,textAnchor:x,verticalAnchor:"middle"},O):"insideRight"===a?EI({x:f+d-b,y:s+c/2,textAnchor:w,verticalAnchor:"middle"},O):"insideTop"===a?EI({x:o+l/2,y:s+g,textAnchor:"middle",verticalAnchor:y},O):"insideBottom"===a?EI({x:h+u/2,y:s+c-g,textAnchor:"middle",verticalAnchor:m},O):"insideTopLeft"===a?EI({x:o+b,y:s+g,textAnchor:x,verticalAnchor:y},O):"insideTopRight"===a?EI({x:o+l-b,y:s+g,textAnchor:w,verticalAnchor:y},O):"insideBottomLeft"===a?EI({x:h+b,y:s+c-g,textAnchor:x,verticalAnchor:m},O):"insideBottomRight"===a?EI({x:h+u-b,y:s+c-g,textAnchor:w,verticalAnchor:m},O):a&&"object"==typeof a&&(oW(a.x)||oG(a.x))&&(oW(a.y)||oG(a.y))?EI({x:o+oJ(a.x,d),y:s+oJ(a.y,c),textAnchor:"end",verticalAnchor:"end"},O):EI({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},O)})(s,i);return P.createElement(xC,{zIndex:s.zIndex},P.createElement(Ep,Ek({ref:g,className:oz("recharts-label",d)},x,o,{textAnchor:"start"===(n=x.textAnchor)||"middle"===n||"end"===n||"inherit"===n?x.textAnchor:o.textAnchor,breakAll:p}),a))}function EV(e){var{label:t}=e;return((e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return!0===e?P.createElement(EU,Ek({key:"label-implicit"},n)):oY(e)?P.createElement(EU,Ek({key:"label-implicit",value:e},n)):(0,P.isValidElement)(e)?e.type===EU?(0,P.cloneElement)(e,EI({key:"label-implicit"},n)):P.createElement(EU,Ek({key:"label-implicit",content:e},n)):ER(e)?P.createElement(EU,Ek({key:"label-implicit",content:e},n)):e&&"object"==typeof e?P.createElement(EU,Ek({},e,{key:"label-implicit"},n)):null})(t,ED())||null}EU.displayName="Label";var EB=["cx","cy","angle","axisLine"],Ez=["angle","tickFormatter","stroke","tick"];function E$(){return(E$=Object.assign.bind()).apply(null,arguments)}function Eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eq(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function EH(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EG(e){var t=cL();return(0,P.useEffect)(()=>(t(bL(e)),()=>{t(bF(e))})),null}var EW=e=>{var t,r,n,i,a,{radiusAxisId:o}=e,s=cB(g3),l=cB(e=>xb(e,"radiusAxis",o)),u=cB(e=>xx(e,"radiusAxis",o,!1));if(null==s||!u||!u.length||null==l)return null;var c=EK(EK({},e),{},{scale:l},s),{tick:h,axisLine:f}=c;return P.createElement(xC,{zIndex:c.zIndex},P.createElement(xF,{className:oz("recharts-polar-radius-axis","radiusAxis",c.className)},f&&((e,t)=>{var{cx:r,cy:n,angle:i,axisLine:a}=e,o=EH(e,EB),s=t.reduce((e,t)=>[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)],[1/0,-1/0]),l=gU(r,n,s[0],i),u=gU(r,n,s[1],i),c=EK(EK(EK({},wb(o)),{},{fill:"none"},wb(a)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return P.createElement("line",E$({className:"recharts-polar-radius-axis-line"},c))})(c,u),h&&((e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:a}=e,o=EH(e,Ez),s=(e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle"}return t})(e.orientation),l=wb(o),u=ww(a),c=t.map((t,o)=>{var c,h=((e,t,r,n)=>{var{coordinate:i}=e;return gU(r,n,i,t)})(t,e.angle,e.cx,e.cy),f=EK(EK(EK(EK({textAnchor:s,transform:"rotate(".concat(90-r,", ").concat(h.x,", ").concat(h.y,")")},l),{},{stroke:"none",fill:i},u),{},{index:o},h),{},{payload:t});return P.createElement(xF,E$({className:oz("recharts-polar-radius-axis-tick",gV(a)),key:"tick-".concat(t.coordinate)},xV(e,t,o)),(c=n?n(t.value,o):t.value,P.isValidElement(a)?P.cloneElement(a,f):"function"==typeof a?a(f):P.createElement(Ep,E$({},f,{className:"recharts-polar-radius-axis-tick-value"}),c)))});return P.createElement(xF,{className:"recharts-polar-radius-axis-ticks"},c)})(c,u),P.createElement(EM,(t=c.angle,r=c.cx,n=c.cy,i=(0,EC.default)(u,e=>e.coordinate||0),{cx:r,cy:n,startAngle:t,endAngle:t,innerRadius:(null==(a=(0,E_.default)(u,e=>e.coordinate||0))?void 0:a.coordinate)||0,outerRadius:(null==i?void 0:i.coordinate)||0,clockWise:!1}),P.createElement(EV,{label:c.label}),c.children)))};function EY(e){var t=uw(e,g$);return P.createElement(P.Fragment,null,P.createElement(EG,{domain:t.domain,id:t.radiusAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDataOverflow:t.allowDataOverflow,reversed:t.reversed,includeHidden:t.includeHidden,allowDecimals:t.allowDecimals,ticks:t.ticks,tickCount:t.tickCount,tick:t.tick}),P.createElement(EW,t))}EY.displayName="PolarRadiusAxis";var EQ=e.i(4178),EX=["valueAccessor"],EJ=["dataKey","clockWise","id","textBreakAll","zIndex"];function EZ(){return(EZ=Object.assign.bind()).apply(null,arguments)}function E0(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var E1=e=>Array.isArray(e.value)?(0,EQ.default)(e.value):e.value,E2=(0,P.createContext)(void 0),E5=E2.Provider,E6=(0,P.createContext)(void 0);function E3(e){var{valueAccessor:t=E1}=e,r=E0(e,EX),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:s}=r,l=E0(r,EJ),u=(0,P.useContext)(E2),c=(0,P.useContext)(E6),h=u||c;return h&&h.length?P.createElement(xC,{zIndex:null!=s?s:gB.label},P.createElement(xF,{className:"recharts-label-list"},h.map((e,i)=>{var s,u=null==n?t(e,i):cJ(e&&e.payload,n),c=null==a?{}:{id:"".concat(a,"-").concat(i)};return P.createElement(EU,EZ({key:"label-".concat(i)},wx(e),l,c,{fill:null!=(s=r.fill)?s:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:o,viewBox:e.viewBox,index:i,zIndex:0}))}))):null}function E4(e){var{label:t}=e;return t?!0===t?P.createElement(E3,{key:"labelList-implicit"}):P.isValidElement(t)||ER(t)?P.createElement(E3,{key:"labelList-implicit",content:t}):"object"==typeof t?P.createElement(E3,EZ({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}E6.Provider,E3.displayName="LabelList",e.i(79684);var E8=["points"];function E7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E7(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E7(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Se(){return(Se=Object.assign.bind()).apply(null,arguments)}function St(e){var{option:t,dotProps:r,className:n}=e;if((0,P.isValidElement)(t))return(0,P.cloneElement)(t,r);if("function"==typeof t)return t(r);var i=oz(n,"boolean"!=typeof t?t.className:""),a=null!=r?r:{},{points:o}=a,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(a,E8);return P.createElement(xz,Se({},s,{className:i}))}function Sr(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:l,zIndex:u=gB.scatter}=e;if(null==t||!r&&1!==t.length)return null;var c=!r||"object"!=typeof r||!("clipDot"in r)||!!r.clipDot,h=null==r?null:(0,P.isValidElement)(r)?wx(r.props):"object"!=typeof r||Array.isArray(r)?null:wx(r),f=t.map((e,n)=>{var s,l,u=E9(E9(E9({r:3},o),h),{},{index:n,cx:null!=(s=e.x)?s:void 0,cy:null!=(l=e.y)?l:void 0,dataKey:a,value:e.value,payload:e.payload,points:t});return P.createElement(St,{key:"dot-".concat(n),option:r,dotProps:u,className:i})}),d={};return s&&null!=l&&(d.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),P.createElement(xC,{zIndex:u},P.createElement(xF,Se({className:n},d),f))}function Sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Sa=e=>{var t,{point:r,childIndex:n,mainColor:i,activeDot:a,dataKey:o,clipPath:s}=e;if(!1===a||null==r.x||null==r.y)return null;var l=Si(Si(Si({},{index:n,dataKey:o,cx:r.x,cy:r.y,r:4,fill:null!=i?i:"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value}),ww(a)),xU(a));return t=(0,P.isValidElement)(a)?(0,P.cloneElement)(a,l):"function"==typeof a?a(l):P.createElement(xz,l),P.createElement(xF,{className:"recharts-active-dot",clipPath:s},t)};function So(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=gB.activeDot}=e,s=cB(v_),l=cB(vD);if(null==t||null==l)return null;var u=t.find(e=>l.includes(e.payload));return null==u?null:P.createElement(xC,{zIndex:o},P.createElement(Sa,{point:u,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}function Ss(e){var{tooltipEntrySettings:t}=e,r=cL(),n=hs(),i=(0,P.useRef)(null);return(0,P.useLayoutEffect)(()=>{n||(null===i.current?r(cc(t)):i.current!==t&&r(ch({prev:i.current,next:t})),i.current=t)},[t,r,n]),(0,P.useLayoutEffect)(()=>()=>{i.current&&(r(cf(i.current)),i.current=null)},[r]),null}function Sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Su(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Sc=(e,t)=>xb(e,"radiusAxis",t),Sh=lx([Sc],e=>{if(null!=e)return{scale:e}}),Sf=lx([gQ,Sc],(e,t)=>{if(null!=e&&null!=t)return Su(Su({},e),{},{scale:t})}),Sd=(e,t,r)=>gY(e,r),Sp=(e,t,r)=>xb(e,"angleAxis",r),Sg=lx([Sd,Sp],(e,t)=>{if(null!=e&&null!=t)return Su(Su({},e),{},{scale:t})}),Sm=lx([Sd,Sp,g3],(e,t,r)=>{if(null!=r&&null!=t)return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),Sy=lx([hf,Sf,(e,t,r,n)=>xx(e,"radiusAxis",t,n),Sg,(e,t,r,n)=>xx(e,"angleAxis",r,n)],(e,t,r,n,i)=>cZ(e,"radiusAxis")?c5(t,r,!1):c5(n,i,!1)),Sv=lx([xa,(e,t,r,n,i)=>i],(e,t)=>{if(null!=e){var r=e.find(e=>"radar"===e.type&&t===e.id);return null==r?void 0:r.dataKey}}),Sb=lx([Sh,Sm,gl,Sv,Sy],(e,t,r,n,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:s}=r;if(null!=e&&null!=t&&null!=a&&null!=i&&null!=n)return function(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:a}=e,{cx:o,cy:s}=r,l=!1,u=[],c="number"!==r.type&&null!=a?a:0;n.forEach((e,n)=>{var a=cJ(e,r.dataKey,n),h=cJ(e,i),f=r.scale(a)+c,d=Array.isArray(h)?(0,EQ.default)(h):h,p=null==d?0:t.scale(d);Array.isArray(h)&&h.length>=2&&(l=!0),u.push(SG(SG({},gU(o,s,p,f)),{},{name:a,value:h,cx:o,cy:s,radius:p,angle:f,payload:e}))});var h=[];return l&&u.forEach(e=>{if(Array.isArray(e.value)){var r=e.value[0],n=null==r?0:t.scale(r);h.push(SG(SG({},e),{},{radius:n},gU(o,s,n,e.angle)))}else h.push(e)}),{points:u,isRange:l,baseLinePoints:h}}({radiusAxis:e,angleAxis:t,displayedData:a.slice(o,s+1),dataKey:n,bandSize:i})});function Sw(e){var{legendPayload:t}=e,r=cL(),n=cB(hf),i=(0,P.useRef)(null);return(0,P.useLayoutEffect)(()=>{("centric"===n||"radial"===n)&&(null===i.current?r(bT(t)):i.current!==t&&r(bj({prev:i.current,next:t})),i.current=t)},[r,n,t]),(0,P.useLayoutEffect)(()=>()=>{i.current&&(r(bI(i.current)),i.current=null)},[r]),null}var Sx=(0,P.createContext)(void 0),SE=e=>{var{id:t,type:r,children:n}=e,i=wC("recharts-".concat(r),t);return P.createElement(Sx.Provider,{value:i},n(i))};function SS(e){var t=cL();return(0,P.useLayoutEffect)(()=>(t(bc(e)),()=>{t(bh(e))}),[t,e]),null}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var SC=(e,t)=>Object.keys(t).reduce((r,n)=>SA(SA({},r),{},{[n]:e(n,t[n])}),{});function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ST(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Sj=(e,t,r)=>e+(t-e)*r,SI=e=>{var{from:t,to:r}=e;return t!==r},Sk=(e,t,r)=>{var n=SC((t,r)=>{if(SI(r)){var[n,i]=e(r.from,r.to,r.velocity);return ST(ST({},r),{},{from:n,velocity:i})}return r},t);return r<1?SC((e,t)=>SI(t)?ST(ST({},t),{},{velocity:Sj(t.velocity,n[e].velocity,r),from:Sj(t.from,n[e].from,r)}):t,t):Sk(e,n,r-1)},SN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],SP=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),SM=(e,t)=>r=>SP(SN(e,t),r),SD=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var n,i=t[0].split("(");if("cubic-bezier"===i[0]&&(null==(n=i[1])?void 0:n.split(")")[0].split(",").length)===4){var a=i[1].split(")")[0].split(",").map(e=>parseFloat(e));return[a[0],a[1],a[2],a[3]]}}return 4===t.length?t:[0,0,1,1]},SR=function(){return((e,t,r,n)=>{var i=SM(e,r),a=SM(t,n),o=t=>SP([...SN(e,r).map((e,t)=>e*t).slice(1),0],t),s=e=>e>1?1:e<0?0:e,l=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var l=i(r)-t,u=o(r);if(1e-4>Math.abs(l-t)||u<1e-4)break;r=s(r-l/u)}return a(r)};return l.isStepper=!1,l})(...SD(...arguments))},SL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*r)*n/1e3,s=a*n/1e3+e;return 1e-4>Math.abs(s-i)&&1e-4>Math.abs(o)?[i,0]:[s,o]};return i.isStepper=!0,i.dt=n,i};class SF{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,i=a=>{a-r>=t?e(a):"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{null!=n&&cancelAnimationFrame(n)}}}var SU=(0,P.createContext)(function(){var e,t,r,n,i;return e=new SF,t=()=>null,r=!1,n=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var[o,...s]=a;if("number"==typeof o){n=e.setTimeout(i.bind(null,s),o);return}i(o),n=e.setTimeout(i.bind(null,s));return}"string"==typeof a&&t(a),"object"==typeof a&&t(a),"function"==typeof a&&a()}},{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}),SV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SB={t:0},Sz={t:1};function S$(e){var t,r,n,i=uw(e,SV),{isActive:a,canBegin:o,duration:s,easing:l,begin:u,onAnimationEnd:c,onAnimationStart:h,children:f}=i,d="auto"===a?!b4.isSsr:a,p=(t=i.animationId,r=i.animationManager,n=(0,P.useContext)(SU),(0,P.useMemo)(()=>null!=r?r:n(t),[t,r,n])),[g,m]=(0,P.useState)(d?SB:Sz),y=(0,P.useRef)(null);return(0,P.useEffect)(()=>{d||m(Sz)},[d]),(0,P.useEffect)(()=>{if(!d||!o)return o5;var e=((e,t,r,n,i,a)=>{var o,s,l,u,c,h,f,d,p=[Object.keys(e),Object.keys(t)].reduce((e,t)=>e.filter(e=>t.includes(e)));return null==r?()=>(i(ST(ST({},e),t)),()=>{}):!0===r.isStepper?(s=p.reduce((r,n)=>ST(ST({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,u=n=>{o||(o=n);var c=(n-o)/r.dt;s=Sk(r,s,c),i(ST(ST(ST({},e),t),SC((e,t)=>t.from,s))),o=n,Object.values(s).filter(SI).length&&(l=a.setTimeout(u))},()=>(l=a.setTimeout(u),()=>{var e;null==(e=l)||e()})):(h=null,f=p.reduce((r,n)=>ST(ST({},r),{},{[n]:[e[n],t[n]]}),{}),d=o=>{c||(c=o);var s=(o-c)/n,l=SC((e,t)=>Sj(...t,r(s)),f);if(i(ST(ST(ST({},e),t),l)),s<1)h=a.setTimeout(d);else{var u=SC((e,t)=>Sj(...t,r(1)),f);i(ST(ST(ST({},e),t),u))}},()=>(h=a.setTimeout(d),()=>{var e;null==(e=h)||e()}))})(SB,Sz,(e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SR(e);case"spring":return SL();default:if("cubic-bezier"===e.split("(")[0])return SR(e)}return"function"==typeof e?e:null})(l),s,m,p.getTimeoutController());return p.start([h,u,()=>{y.current=e()},s,c]),()=>{p.stop(),y.current&&y.current(),c()}},[d,o,s,l,u,h,c,p]),f(g.t)}var Sq=["id"];function SK(){return(SK=Object.assign.bind()).apply(null,arguments)}function SH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function SG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SH(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SW(e,t){return e&&"none"!==e?e:t}var SY=P.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,tooltipType:s}=e,l={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:c3(a,t),hide:o,type:s,color:SW(r,i),unit:""}};return P.createElement(Ss,{tooltipEntrySettings:l})});function SQ(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r,{id:a}=r,o=wb(function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,Sq));return P.createElement(Sr,{points:t,dot:n,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:o})}function SX(e){var{showLabels:t,points:r,children:n}=e,i=r.map(e=>{var t,r={x:e.x,y:e.y,width:0,lowerWidth:0,upperWidth:0,height:0};return SG(SG({},r),{},{value:null!=(t=e.value)?t:"",payload:e.payload,parentViewBox:void 0,viewBox:r,fill:void 0})});return P.createElement(E5,{value:t?i:void 0},n)}function SJ(e){var t,{points:r,baseLinePoints:n,props:i}=e;if(null==r)return null;var{shape:a,isRange:o,connectNulls:s}=i;return t=P.isValidElement(a)?P.cloneElement(a,SG(SG({},i),{},{points:r})):"function"==typeof a?a(SG(SG({},i),{},{points:r})):P.createElement(xW,SK({},wx(i),{onMouseEnter:e=>{var{onMouseEnter:t}=i;t&&t(i,e)},onMouseLeave:e=>{var{onMouseLeave:t}=i;t&&t(i,e)},points:r,baseLinePoints:o?n:void 0,connectNulls:s})),P.createElement(xF,{className:"recharts-radar-polygon"},t,P.createElement(SQ,{props:i,points:r}))}var SZ=(e,t,r)=>(n,i)=>{var a=e&&e[Math.floor(i*t)];return a?SG(SG({},n),{},{x:o0(a.x,n.x,r),y:o0(a.y,n.y,r)}):SG(SG({},n),{},{x:o0(n.cx,n.x,r),y:o0(n.cy,n.y,r)})};function S0(e){var{props:t,previousPointsRef:r,previousBaseLinePointsRef:n}=e,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:c,onAnimationStart:h}=t,f=r.current,d=n.current,p=f?f.length/i.length:1,g=d?d.length/a.length:1,m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,P.useRef)(oX(t)),n=(0,P.useRef)(e);return n.current!==e&&(r.current=oX(t),n.current=e),r.current}(t,"recharts-radar-"),[y,v]=(0,P.useState)(!1),b=(0,P.useCallback)(()=>{"function"==typeof c&&c(),v(!1)},[c]),w=(0,P.useCallback)(()=>{"function"==typeof h&&h(),v(!0)},[h]);return P.createElement(SX,{showLabels:!y,points:i},P.createElement(S$,{animationId:m,begin:s,duration:l,isActive:o,easing:u,key:"radar-".concat(m),onAnimationEnd:b,onAnimationStart:w},e=>{var o=1===e?i:i.map(SZ(f,p,e)),s=1===e?a:null==a?void 0:a.map(SZ(d,g,e));return e>0&&(r.current=o,n.current=s),P.createElement(SJ,{points:o,baseLinePoints:s,props:t})}),P.createElement(E4,{label:t.label}),t.children)}function S1(e){var t=(0,P.useRef)(void 0),r=(0,P.useRef)(void 0);return P.createElement(S0,{props:e,previousPointsRef:t,previousBaseLinePointsRef:r})}var S2={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:gB.area};function S5(e){var{hide:t,className:r,points:n}=e;if(t)return null;var i=oz("recharts-radar",r);return P.createElement(xC,{zIndex:e.zIndex},P.createElement(xF,{className:i},P.createElement(S1,e)),P.createElement(So,{points:n,mainColor:SW(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function S6(e){var t=hs(),r=cB(r=>Sb(r,e.radiusAxisId,e.angleAxisId,t,e.id));return(null==r?void 0:r.points)==null?null:P.createElement(S5,SK({},e,{points:null==r?void 0:r.points,baseLinePoints:null==r?void 0:r.baseLinePoints,isRange:null==r?void 0:r.isRange}))}function S3(e){var t=uw(e,S2);return P.createElement(SE,{id:t.id,type:"radar"},e=>P.createElement(P.Fragment,null,P.createElement(SS,{type:"radar",id:e,data:void 0,dataKey:t.dataKey,hide:t.hide,angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId}),P.createElement(Sw,{legendPayload:(e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:SW(n,i),value:c3(r,t),payload:e}]})(t)}),P.createElement(SY,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),P.createElement(S6,SK({},t,{id:e}))))}S3.displayName="Radar";let S4=oD("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),S8=oD("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),S7=oD("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),S9=oD("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),Oe=oD("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Ot=oD("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Or=oD("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),On=oD("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),Oi=oD("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Oa=oD("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Oo=oD("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Os=oD("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ol=oD("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);function Ou({place:e}){let[t,r]=(0,P.useState)("evaluation"),[n,i]=(0,P.useState)(""),[a,o]=(0,P.useState)(!1);(0,P.useEffect)(()=>{oB().then(e=>{console.log("API Key fetched:",!!e),i(e)})},[]);let s=async()=>{o(!0);try{await oV(e.id)}catch(e){console.error("Retry failed:",e),o(!1)}};if("pending"===e.status||"processing"===e.status||a)return(0,N.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 space-y-4 animate-pulse",children:[(0,N.jsx)(oL,{className:"w-12 h-12 text-rose-500 animate-spin"}),(0,N.jsx)("p",{className:"text-xl text-slate-800 font-medium",children:"AI..."}),(0,N.jsx)("p",{className:"text-sm text-slate-500",children:""})]});if("error"===e.status)return(0,N.jsxs)("div",{className:"p-8 bg-red-50 border border-red-100 rounded-3xl text-center shadow-sm flex flex-col items-center gap-4",children:[(0,N.jsx)("p",{className:"text-red-600 font-medium",children:""}),(0,N.jsxs)("button",{onClick:s,disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-white border border-red-200 text-red-600 rounded-full hover:bg-red-50 transition-colors font-medium shadow-sm",children:[(0,N.jsx)(Os,{className:`w-4 h-4 ${a?"animate-spin":""}`}),""]})]});let l=e.axisScores?[{subject:"",A:e.axisScores.taste,fullMark:5},{subject:"",A:e.axisScores.service,fullMark:5},{subject:"",A:e.axisScores.atmosphere,fullMark:5},{subject:"",A:e.axisScores.cost,fullMark:5}]:[];return(0,N.jsxs)("div",{className:"w-full max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[(0,N.jsx)("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 p-8 md:p-10",children:(0,N.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[(0,N.jsx)(Ot,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Google Maps "})]}),(0,N.jsx)("h2",{className:"text-4xl font-extrabold text-slate-900 tracking-tight leading-tight",children:e.name}),(0,N.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(()=>{if(e.priceRange){let t=e.priceRange.startPrice?.units,r=e.priceRange.endPrice?.units;if(t||r){let e=`${t?""+Number(t).toLocaleString():""} ~ ${r?""+Number(r).toLocaleString():""}`,n="bg-slate-500 text-white shadow-sm",i="",a=Number(t||r||0);return a>=1e4?(n="bg-rose-600 text-white shadow-sm shadow-rose-200",i=""):a>=3e3?(n="bg-orange-500 text-white shadow-sm shadow-orange-200",i=""):a>=1e3?(n="bg-blue-500 text-white shadow-sm shadow-blue-200",i=""):(n="bg-emerald-500 text-white shadow-sm shadow-emerald-200",i=""),(0,N.jsxs)("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold tracking-wide shadow-sm border ${n}`,children:[(0,N.jsx)(S7,{className:"w-3 h-3"}),(0,N.jsxs)("span",{children:[i," (",e,")"]})]})}}let t=function(e){switch(e){case"PRICE_LEVEL_FREE":return{label:"",color:"bg-slate-500 text-white shadow-sm"};case"PRICE_LEVEL_INEXPENSIVE":return{label:" (~1,000)",color:"bg-emerald-500 text-white shadow-sm shadow-emerald-200"};case"PRICE_LEVEL_MODERATE":return{label:" (1,000~3,000)",color:"bg-blue-500 text-white shadow-sm shadow-blue-200"};case"PRICE_LEVEL_EXPENSIVE":return{label:" (3,000~10,000)",color:"bg-orange-500 text-white shadow-sm shadow-orange-200"};case"PRICE_LEVEL_VERY_EXPENSIVE":return{label:" (10,000~)",color:"bg-rose-600 text-white shadow-sm shadow-rose-200"};default:return null}}(e.priceLevel);return t?(0,N.jsxs)("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold tracking-wide shadow-sm border ${t.color}`,children:[(0,N.jsx)(S7,{className:"w-3 h-3"}),(0,N.jsx)("span",{children:t.label})]}):null})(),e.usageScores?.business&&e.usageScores.business>=4&&(0,N.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-slate-800 text-white text-xs font-bold tracking-wide shadow-sm",children:[(0,N.jsx)(Or,{className:"w-3 h-3"}),(0,N.jsx)("span",{children:""})]}),e.usageScores?.date&&e.usageScores.date>=4&&(0,N.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-rose-500 text-white text-xs font-bold tracking-wide shadow-sm shadow-rose-200",children:[(0,N.jsx)(On,{className:"w-3 h-3 fill-current"}),(0,N.jsx)("span",{children:""})]}),e.usageScores?.solo&&e.usageScores.solo>=4&&(0,N.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-emerald-600 text-white text-xs font-bold tracking-wide shadow-sm shadow-emerald-200",children:[(0,N.jsx)(Oi,{className:"w-3 h-3"}),(0,N.jsx)("span",{children:""})]}),e.usageScores?.family&&e.usageScores.family>=4&&(0,N.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-orange-500 text-white text-xs font-bold tracking-wide shadow-sm shadow-orange-200",children:[(0,N.jsx)(Oa,{className:"w-3 h-3"}),(0,N.jsx)("span",{children:""})]}),e.axisScores?.taste&&e.axisScores.taste>=4.5&&(0,N.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-amber-400 text-white text-xs font-bold tracking-wide shadow-sm shadow-amber-200",children:[(0,N.jsx)(Oo,{className:"w-3 h-3"}),(0,N.jsx)("span",{children:""})]})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-2 text-sm text-slate-600 mt-2",children:[e.address&&(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsx)(Ot,{className:"w-4 h-4 text-slate-400 shrink-0"}),(0,N.jsx)("span",{children:e.address})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsx)(Ol,{className:"w-4 h-4 text-slate-400 shrink-0"}),(0,N.jsx)("a",{href:`https://www.google.com/maps/search/?api=1&query=Google&query_place_id=${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Google Map"})]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2 text-slate-400 text-xs mt-2",children:[(0,N.jsx)(Os,{className:"w-3 h-3"}),(0,N.jsxs)("span",{className:"tabular-nums",children:[": ",function(e){if(!e)return"";try{if(e.seconds)return new Date(1e3*e.seconds).toLocaleDateString("ja-JP");return new Date(e).toLocaleDateString("ja-JP")}catch(e){return""}}(e.updatedAt)]})]})]})}),(0,N.jsxs)("div",{className:"flex border-b border-gray-200 mb-8",children:[(0,N.jsxs)("button",{onClick:()=>r("evaluation"),className:`px-6 py-3 text-sm font-medium transition-colors relative ${"evaluation"===t?"text-orange-600":"text-gray-500 hover:text-gray-700"}`,children:["","evaluation"===t&&(0,N.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-600"})]}),(0,N.jsxs)("button",{onClick:()=>r("map"),className:`px-6 py-3 text-sm font-medium transition-colors relative ${"map"===t?"text-orange-600":"text-gray-500 hover:text-gray-700"}`,children:["","map"===t&&(0,N.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-600"})]})]}),"map"===t&&(0,N.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-4 h-[500px] w-full",children:n?(0,N.jsx)("iframe",{width:"100%",height:"100%",style:{border:0,borderRadius:"0.75rem"},loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade",src:`https://www.google.com/maps/embed/v1/place?key=${n}&q=place_id:${e.id}`}):(0,N.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-50 text-gray-400",children:(0,N.jsx)(oL,{className:"w-8 h-8 animate-spin"})})}),"evaluation"===t&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,N.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-orange-100 flex flex-col items-center justify-center relative overflow-hidden",children:[(0,N.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-400 to-red-500"}),(0,N.jsx)("h3",{className:"text-gray-500 font-medium mb-2",children:"AI"}),(0,N.jsxs)("div",{className:"flex items-baseline",children:[(0,N.jsx)("span",{className:"text-6xl font-bold text-gray-900 tabular-nums",children:e.trueScore?.toFixed(1)}),(0,N.jsx)("span",{className:"text-2xl text-gray-400 ml-1",children:"/5.0"})]}),(0,N.jsx)("div",{className:"flex items-center mt-2 text-orange-500",children:[void 0,void 0,void 0,void 0,void 0].map((t,r)=>(0,N.jsx)(S4,{className:`w-6 h-6 ${r<Math.round(e.trueScore||0)?"fill-current":"text-gray-200"}`},r))}),(0,N.jsxs)("p",{className:"text-xs text-gray-400 mt-4 text-center",children:["5",(0,N.jsx)("br",{}),""]})]}),(0,N.jsxs)("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200 flex flex-col items-center justify-center",children:[(0,N.jsx)("h3",{className:"text-gray-500 font-medium mb-2",children:"Google Map Score"}),(0,N.jsxs)("div",{className:"flex items-baseline",children:[(0,N.jsx)("span",{className:"text-4xl font-bold text-gray-700 tabular-nums",children:e.originalRating.toFixed(1)}),(0,N.jsx)("span",{className:"text-xl text-gray-400 ml-1",children:"/5.0"})]}),(0,N.jsx)("div",{className:"flex items-center mt-2 text-yellow-400",children:[void 0,void 0,void 0,void 0,void 0].map((t,r)=>(0,N.jsx)(S4,{className:`w-5 h-5 ${r<Math.round(e.originalRating)?"fill-current":"text-gray-300"}`},r))}),(0,N.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[(0,N.jsx)("span",{className:"tabular-nums",children:e.userRatingsTotal.toLocaleString()})," "]})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,N.jsxs)("div",{className:"lg:col-span-1 bg-white rounded-3xl shadow-lg border border-slate-100 p-8 h-96",children:[(0,N.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:""}),(0,N.jsx)(su,{width:"100%",height:"100%",children:(0,N.jsxs)(xi,{cx:"50%",cy:"45%",outerRadius:"70%",data:l,children:[(0,N.jsx)(xD,{stroke:"#e2e8f0"}),(0,N.jsx)(EA,{dataKey:"subject",tick:{fill:"#64748b",fontSize:13,fontWeight:600}}),(0,N.jsx)(EY,{angle:30,domain:[0,5],tick:!1,axisLine:!1}),(0,N.jsx)(S3,{name:"Score",dataKey:"A",stroke:"#f43f5e",strokeWidth:3,fill:"#f43f5e",fillOpacity:.2})]})})]}),(0,N.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,N.jsx)(Oh,{icon:S9,label:"",value:e.axisScores?.taste}),(0,N.jsx)(Oh,{icon:Oe,label:"",value:e.axisScores?.service}),(0,N.jsx)(Oh,{icon:S8,label:"",value:e.axisScores?.atmosphere}),(0,N.jsx)(Oh,{icon:S7,label:"",value:e.axisScores?.cost})]})]}),(0,N.jsx)("div",{className:"space-y-6",children:(0,N.jsxs)("div",{className:"bg-white rounded-3xl shadow-lg border border-slate-100 p-8",children:[(0,N.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"AI"}),(0,N.jsx)("p",{className:"text-lg text-slate-600 leading-relaxed",children:e.summary}),e.gapReason&&(0,N.jsxs)("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-2xl p-6",children:[(0,N.jsxs)("h4",{className:"flex items-center gap-2 font-bold text-amber-800 mb-2",children:[(0,N.jsx)(S8,{className:"w-5 h-5"}),""]}),(0,N.jsx)("p",{className:"text-amber-900 text-sm leading-relaxed",children:e.gapReason})]})]})}),e.axisAnalysis&&(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsx)("h3",{className:"text-2xl font-bold text-slate-900",children:" "}),(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,N.jsx)(Of,{title:"",icon:S9,data:e.axisAnalysis.taste,color:"rose"}),(0,N.jsx)(Of,{title:"",icon:Oe,data:e.axisAnalysis.service,color:"blue"}),(0,N.jsx)(Of,{title:"",icon:S8,data:e.axisAnalysis.atmosphere,color:"purple"}),(0,N.jsx)(Of,{title:"",icon:S7,data:e.axisAnalysis.cost,color:"emerald"})]})]}),(0,N.jsxs)("div",{className:"bg-white rounded-3xl shadow-lg border border-slate-100 p-8 md:p-10",children:[(0,N.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-8",children:""}),(0,N.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[(0,N.jsx)(Oc,{label:"",subLabel:"",value:e.usageScores?.business}),(0,N.jsx)(Oc,{label:"",subLabel:"",value:e.usageScores?.date}),(0,N.jsx)(Oc,{label:"",subLabel:"",value:e.usageScores?.solo}),(0,N.jsx)(Oc,{label:"",subLabel:"",value:e.usageScores?.family})]}),e.usageSummary&&(0,N.jsxs)("div",{className:"mt-6 bg-slate-50 border border-slate-200 rounded-2xl p-4 text-sm text-slate-600 leading-relaxed",children:[(0,N.jsx)("span",{className:"font-bold text-slate-700 mr-2",children:" :"}),e.usageSummary]})]})]})]})}function Oc({label:e,subLabel:t,value:r}){let n=r||0,i=n>=4;return(0,N.jsxs)("div",{className:`group p-6 rounded-2xl border-2 transition-all duration-300 hover:shadow-lg ${i?"bg-white border-rose-100 hover:border-rose-200":"bg-slate-50 border-transparent"}`,children:[(0,N.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"text-slate-900 font-bold text-lg",children:e}),(0,N.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:t})]}),(0,N.jsx)("div",{className:`text-2xl font-black ${i?"text-rose-500":"text-slate-300"}`,children:n.toFixed(1)})]}),(0,N.jsx)("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,N.jsx)("div",{className:`h-full rounded-full transition-all duration-1000 ${i?"bg-rose-500":"bg-slate-300"}`,style:{width:`${n/5*100}%`}})})]})}function Oh({icon:e,label:t,value:r}){return(0,N.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow flex items-start gap-4",children:[(0,N.jsx)("div",{className:"p-3 rounded-xl bg-slate-50 text-slate-700",children:(0,N.jsx)(e,{className:"w-6 h-6"})}),(0,N.jsxs)("div",{className:"flex-1",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,N.jsx)("h4",{className:"font-bold text-slate-900",children:t}),(0,N.jsx)("span",{className:"text-2xl font-black text-slate-900",children:r?.toFixed(1)})]}),(0,N.jsx)("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,N.jsx)("div",{className:"h-full bg-slate-900 rounded-full transition-all duration-1000",style:{width:`${r/5*100}%`}})})]})]})}function Of({title:e,icon:t,data:r,color:n}){let i={rose:{bg:"bg-rose-50",border:"border-rose-100",text:"text-rose-800",dot:"bg-rose-500"},blue:{bg:"bg-blue-50",border:"border-blue-100",text:"text-blue-800",dot:"bg-blue-500"},purple:{bg:"bg-purple-50",border:"border-purple-100",text:"text-purple-800",dot:"bg-purple-500"},emerald:{bg:"bg-emerald-50",border:"border-emerald-100",text:"text-emerald-800",dot:"bg-emerald-500"}},a=i[n]||i.rose;return(0,N.jsxs)("div",{className:`rounded-3xl border ${a.bg} ${a.border} p-6 h-full`,children:[(0,N.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,N.jsx)("div",{className:`p-2 rounded-xl bg-white/60 ${a.text}`,children:(0,N.jsx)(t,{className:"w-5 h-5"})}),(0,N.jsx)("h4",{className:`font-bold text-lg ${a.text}`,children:e})]}),(0,N.jsx)("p",{className:"text-sm text-slate-700 font-medium mb-4 leading-relaxed bg-white/50 p-3 rounded-xl",children:r?.summary}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 flex items-center gap-1",children:[(0,N.jsx)(Oe,{className:"w-3 h-3"})," "]}),(0,N.jsx)("ul",{className:"space-y-2",children:r?.pros?.map((e,t)=>(0,N.jsxs)("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[(0,N.jsx)("span",{className:`mt-1.5 w-1.5 h-1.5 rounded-full ${a.dot} shrink-0`}),e]},t))})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 flex items-center gap-1",children:[(0,N.jsx)(S8,{className:"w-3 h-3 rotate-180"})," "]}),(0,N.jsx)("ul",{className:"space-y-2",children:r?.cons?.map((e,t)=>(0,N.jsxs)("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[(0,N.jsx)("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-slate-400 shrink-0"}),e]},t))})]})]})]})}function Od({title:e,location:t,rating:r,price:n,imageUrl:i,tags:a,onClick:o}){return(0,N.jsxs)("div",{className:"group cursor-pointer flex flex-col gap-4",onClick:o,children:[(0,N.jsxs)("div",{className:"relative aspect-[4/3] w-full overflow-hidden rounded-sm bg-gray-100",children:[i?(0,N.jsx)("img",{src:i,alt:e,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"}):(0,N.jsx)("div",{className:"flex h-full w-full items-center justify-center bg-gray-200 text-gray-400",children:"No Image"}),(0,N.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-1",children:[a&&a.length>0&&(0,N.jsx)("div",{className:"flex gap-2 mb-1",children:a.map((e,t)=>(0,N.jsx)("span",{className:"text-[10px] uppercase tracking-wider font-medium text-[#E65100] border border-[#E65100]/20 px-2 py-0.5 rounded-full",children:e},t))}),(0,N.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,N.jsx)("h3",{className:"text-lg font-serif font-bold text-gray-900 group-hover:text-[#E65100] transition-colors duration-300 line-clamp-1",children:e}),(0,N.jsxs)("div",{className:"flex items-center gap-1 shrink-0 bg-[#FAFAFA] px-2 py-0.5 rounded-full border border-gray-100",children:[(0,N.jsx)(S4,{className:"w-3 h-3 fill-[#C5A059] text-[#C5A059]"}),(0,N.jsx)("span",{className:"text-sm font-medium text-gray-700",children:r.toFixed(2)})]})]}),(0,N.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-500 font-sans",children:[(0,N.jsx)("p",{children:t}),(0,N.jsx)("p",{className:"font-medium text-gray-900",children:n})]})]})]})}let Op=oD("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function Og({places:e,onSelect:t}){return(0,N.jsxs)("div",{className:"w-full max-w-6xl mx-auto px-4 py-8",children:[(0,N.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:""}),(0,N.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,N.jsxs)("div",{onClick:()=>t(e.id),className:"bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl border border-slate-100 transition-all duration-300 cursor-pointer group",children:[(0,N.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,N.jsx)("h3",{className:"text-xl font-bold text-slate-900 group-hover:text-orange-600 transition-colors line-clamp-1",children:e.name}),(0,N.jsxs)("div",{className:"flex flex-col items-end",children:[(0,N.jsx)("div",{className:"text-[10px] text-slate-400 font-bold mb-0.5",children:"Google Map Score"}),(0,N.jsxs)("div",{className:"flex items-center bg-orange-50 px-2 py-1 rounded-lg",children:[(0,N.jsx)(S4,{className:"w-4 h-4 text-orange-500 fill-orange-500 mr-1"}),(0,N.jsx)("span",{className:"font-bold text-orange-700",children:e.rating}),(0,N.jsxs)("span",{className:"text-xs text-orange-400 ml-1",children:["(",e.userRatingsTotal,")"]})]})]})]}),e.vicinity&&(0,N.jsxs)("div",{className:"flex items-start text-slate-500 text-sm mb-4",children:[(0,N.jsx)(Ot,{className:"w-4 h-4 mr-1 mt-0.5 shrink-0"}),(0,N.jsx)("span",{className:"line-clamp-2",children:e.vicinity})]}),(0,N.jsx)("div",{className:"flex justify-end mt-4",children:(0,N.jsxs)("span",{className:"text-sm font-bold text-slate-400 group-hover:text-orange-500 flex items-center transition-colors",children:[" ",(0,N.jsx)(Op,{className:"w-4 h-4 ml-1"})]})})]},e.id))})]})}var Om=(0,oU.createServerReference)("40643ffc311fa554980b6ccefb27d019ded1354a44",oU.callServer,void 0,oU.findSourceMapURL,"searchPlaces");let Oy=oD("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),Ov=oD("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ob=[{id:"1",title:"  ",location:"",rating:4.85,price:"30,000~",imageUrl:"https://images.unsplash.com/photo-1579871494447-9811cf80d66c?q=80&w=1470&auto=format&fit=crop",tags:["","",""]},{id:"2",title:"L'Effervescence",location:"",rating:4.92,price:"50,000~",imageUrl:"https://images.unsplash.com/photo-1559339352-11d035aa65de?q=80&w=1374&auto=format&fit=crop",tags:["","",""]},{id:"3",title:"",location:"",rating:4.75,price:"15,000~",imageUrl:"https://images.unsplash.com/photo-1625937751876-4515cd8e7752?q=80&w=1374&auto=format&fit=crop",tags:["","",""]},{id:"4",title:"NARISAWA",location:"",rating:4.88,price:"45,000~",imageUrl:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?q=80&w=1470&auto=format&fit=crop",tags:["","",""]}];function Ow(){let e=(0,M.useRouter)(),t=(0,M.useSearchParams)(),r=t.get("view")||"HOME",n=t.get("q")||"",i=t.get("id"),[a,o]=(0,P.useState)([]),[s,l]=(0,P.useState)(null),[u,c]=(0,P.useState)(!1);(0,P.useEffect)(()=>{(async()=>{if("LIST"===r&&n){c(!0);try{let e=await Om(n);o(e)}catch(e){console.error(e)}finally{c(!1)}}else if("DETAIL"===r&&i){c(!0);try{await oV(i)}catch(e){console.error(e)}finally{c(!1)}}else"HOME"===r&&(o([]),l(null))})()},[r,n,i]),(0,P.useEffect)(()=>{if("DETAIL"!==r||!i)return;let e=function(e,...t){var r;let n,i,a,o,s;e=en(e);let l={includeMetadataChanges:!1,source:"default"},u=0;"object"!=typeof t[0]||od(t[u])||(l=t[u++]);let c={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(od(t[u])){let e=t[u];t[u]=e.next?.bind(e),t[u+1]=e.error?.bind(e),t[u+2]=e.complete?.bind(e)}if(e instanceof ol)i=t$(e.firestore,op),a=new r5(e._key.path),n={next:r=>{var n,a,o;let s,l;t[u]&&t[u]((n=i,a=e,s=(o=r).docs.get(a._key),l=new oj(n),new oC(n,l,a._key,s,new oA(o.hasPendingWrites,o.fromCache),a.converter)))},error:t[u+1],complete:t[u+2]};else{let r=t$(e,os);i=t$(r.firestore,op),a=r._query;let o=new oj(i);n={next:e=>{t[u]&&t[u](new oT(i,o,r,e))},error:t[u+1],complete:t[u+2]},function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new tx(tw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return r=function(e){if(e._terminated)throw new tx(tw.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,r,n;let i,a=e._freezeSettings(),o=(t=e._databaseId,r=e._app?.options.appId||"",new rf(t,r,e._persistenceKey,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,or(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator));e._componentsProvider||a.localCache?._offlineComponentProvider&&a.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new a4(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&(n=e._componentsProvider,i=n?._online.build(),{_offline:n?._offline.build(i),_online:i}))}(e),e._firestoreClient}(i),s=new aI(a,o=new a6(n),c),r.asyncQueue.enqueueAndForget(async()=>aA(await ot(r),s)),()=>{o.Nu(),r.asyncQueue.enqueueAndForget(async()=>aC(await ot(r),s))}}(function(e,t,...r){if(e=en(e),1==arguments.length&&(t=tk.newId()),function(e,t,r){if(!r)throw new tx(tw.INVALID_ARGUMENT,`Function doc() cannot be called with an empty ${t}.`)}(0,"path",t),e instanceof oo){let n=tF.fromString(t,...r);return tz(n),new ol(e,null,new tB(n))}{if(!(e instanceof ol||e instanceof ou))throw new tx(tw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(tF.fromString(t,...r));return tz(n),new ol(e.firestore,e instanceof ou?e.converter:null,new tB(n))}}(oI,"places",i),e=>{e.exists()&&l({...e.data(),id:e.id})});return()=>e()},[r,i]);let h=()=>{c(!0)},f=async t=>{let r=new URLSearchParams;r.set("view","LIST"),r.set("q",t),e.push(`/?${r.toString()}`)},d=async t=>{let r=new URLSearchParams;r.set("view","DETAIL"),r.set("id",t),n&&r.set("q",n),e.push(`/?${r.toString()}`)},p=()=>{e.back()};return(0,N.jsxs)("main",{className:"min-h-screen bg-[#FAFAFA] text-[#1A1A1A] font-serif selection:bg-[#E65100]/20",children:[(0,N.jsxs)("nav",{className:`absolute top-0 w-full z-50 p-6 flex justify-between items-center transition-colors duration-300 ${"HOME"===r?"text-white":"text-slate-900"}`,children:[(0,N.jsx)("div",{className:"text-2xl font-bold tracking-widest cursor-pointer",onClick:()=>{e.push("/")},children:"GASTRONOMY AI"}),(0,N.jsxs)("div",{className:"hidden md:flex gap-8 text-sm font-medium tracking-wide",children:[(0,N.jsx)("span",{className:"cursor-pointer hover:text-[#E65100] transition-colors",children:"COLLECTIONS"}),(0,N.jsx)("span",{className:"cursor-pointer hover:text-[#E65100] transition-colors",children:"ABOUT"}),(0,N.jsx)("span",{className:"cursor-pointer hover:text-[#E65100] transition-colors",children:"LOGIN"})]})]}),"HOME"===r&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("section",{className:"relative h-[80vh] w-full flex flex-col items-center justify-center overflow-hidden",children:[(0,N.jsx)("div",{className:"absolute inset-0 z-0",children:(0,N.jsx)("img",{src:"https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?q=80&w=2070&auto=format&fit=crop",alt:"Fine Dining",className:"w-full h-full object-cover brightness-[0.4]"})}),(0,N.jsxs)("div",{className:"relative z-10 w-full max-w-4xl px-6 text-center flex flex-col items-center gap-8",children:[(0,N.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[(0,N.jsxs)("h1",{className:"text-5xl md:text-7xl font-bold text-white tracking-tight text-shadow-lg leading-tight",children:["",(0,N.jsx)("span",{className:"text-[#E65100]",children:""}),"",(0,N.jsx)("br",{}),""]}),(0,N.jsx)("p",{className:"text-gray-200 text-lg md:text-xl font-sans font-light tracking-wide max-w-2xl mx-auto",children:"AI"})]}),(0,N.jsx)("div",{className:"w-full max-w-2xl animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200",children:(0,N.jsx)(oF,{onSearchStart:h,onSearchComplete:f})})]})]}),(0,N.jsx)("section",{className:"py-24 bg-white",children:(0,N.jsx)("div",{className:"container mx-auto px-6",children:(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 text-center",children:[(0,N.jsxs)("div",{className:"flex flex-col items-center gap-4 group",children:[(0,N.jsx)("div",{className:"w-16 h-16 rounded-full bg-[#FAFAFA] flex items-center justify-center group-hover:bg-[#E65100]/10 transition-colors",children:(0,N.jsx)(Oy,{className:"w-8 h-8 text-[#E65100]"})}),(0,N.jsx)("h3",{className:"text-xl font-bold",children:"AI"}),(0,N.jsxs)("p",{className:"text-gray-500 font-sans text-sm leading-relaxed",children:["",(0,N.jsx)("br",{}),""]})]}),(0,N.jsxs)("div",{className:"flex flex-col items-center gap-4 group",children:[(0,N.jsx)("div",{className:"w-16 h-16 rounded-full bg-[#FAFAFA] flex items-center justify-center group-hover:bg-[#E65100]/10 transition-colors",children:(0,N.jsx)(Oo,{className:"w-8 h-8 text-[#C5A059]"})}),(0,N.jsx)("h3",{className:"text-xl font-bold",children:""}),(0,N.jsxs)("p",{className:"text-gray-500 font-sans text-sm leading-relaxed",children:["",(0,N.jsx)("br",{}),""]})]}),(0,N.jsxs)("div",{className:"flex flex-col items-center gap-4 group",children:[(0,N.jsx)("div",{className:"w-16 h-16 rounded-full bg-[#FAFAFA] flex items-center justify-center group-hover:bg-[#E65100]/10 transition-colors",children:(0,N.jsx)(S8,{className:"w-8 h-8 text-[#1A1A1A]"})}),(0,N.jsx)("h3",{className:"text-xl font-bold",children:""}),(0,N.jsxs)("p",{className:"text-gray-500 font-sans text-sm leading-relaxed",children:["",(0,N.jsx)("br",{}),""]})]})]})})}),(0,N.jsx)("section",{className:"py-24 bg-[#FAFAFA]",children:(0,N.jsxs)("div",{className:"container mx-auto px-6",children:[(0,N.jsxs)("div",{className:"flex justify-between items-end mb-12",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Curated Selection"}),(0,N.jsx)("p",{className:"text-gray-500 font-sans",children:"AI"})]}),(0,N.jsx)("button",{className:"text-[#E65100] font-sans font-medium hover:underline",children:"View All"})]}),(0,N.jsx)("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(300px,1fr))] gap-4",children:Ob.map(e=>(0,N.jsx)(Od,{...e,onClick:()=>console.log("Clicked",e.title)},e.id))})]})})]}),"LIST"===r&&(0,N.jsxs)("div",{className:"pt-32 pb-24 min-h-screen bg-slate-50",children:[(0,N.jsx)("div",{className:"container mx-auto px-6 mb-8",children:(0,N.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,N.jsxs)("button",{onClick:p,className:"flex items-center gap-2 text-slate-500 hover:text-[#E65100] transition-colors w-fit font-medium",children:[(0,N.jsx)(Ov,{className:"w-5 h-5"}),"Back to Home"]}),(0,N.jsx)("div",{className:"w-full max-w-4xl mx-auto",children:(0,N.jsx)(oF,{onSearchStart:h,onSearchComplete:f})})]})}),(0,N.jsx)(Og,{places:a,onSelect:d})]}),"DETAIL"===r&&s&&(0,N.jsxs)("div",{className:"pt-32 pb-24 container mx-auto px-6 animate-in fade-in duration-500",children:[(0,N.jsxs)("button",{onClick:p,className:"flex items-center gap-2 text-slate-500 hover:text-[#E65100] transition-colors mb-6 font-medium",children:[(0,N.jsx)(Ov,{className:"w-5 h-5"}),"Back to List"]}),(0,N.jsx)(Ou,{place:s})]})]})}function Ox(){return(0,N.jsx)(P.Suspense,{fallback:(0,N.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#FAFAFA]",children:(0,N.jsx)("div",{className:"animate-pulse text-[#E65100]",children:"Loading..."})}),children:(0,N.jsx)(Ow,{})})}e.s(["default",()=>Ox],52683)}]);