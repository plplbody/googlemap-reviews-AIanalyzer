# Future Roadmap

本ドキュメントでは、機能追加の要望があったものの、コストや工数の観点から次フェーズ以降に見送られた機能について記載します。

## 1. 店舗画像の表示

### 概要
店舗詳細ページに、Google Mapsに掲載されている写真（料理、内観、外観など）を表示する機能。

### 実装方法
*   **API**: Google Places API (New) - Place Photos
*   **コスト**: **$7.00 / 1,000 リクエスト** (画像の表示回数に応じて課金)
*   **実装のポイント**:
    *   `places.photos` フィールド（Basicカテゴリ）で写真のメタデータ（ID, width, height）を取得。
    *   取得したIDを使用して、画像バイナリを取得するURLを生成。
    *   コスト抑制のため、表示枚数を制限する（例：メイン1枚のみ）か、ユーザーがクリックした時のみ読み込む等の工夫が必要。

## 2. 最寄り駅と徒歩分数の表示

### 概要
店舗の最寄り駅と、そこからの徒歩所要時間を表示する機能。

### 実装方法
Google Places API単体では「最寄り駅」というフィールドは存在しないため、複数のAPIを組み合わせる必要がある。

1.  **周辺検索 (Nearby Search)**:
    *   店舗の座標を中心として、`type=train_station` や `subway_station` で周辺の駅を検索。
    *   距離順 (`rankPreference=DISTANCE`) でソートし、最も近い駅を特定。
2.  **ルート計算 (Routes API / Distance Matrix API)**:
    *   店舗と特定した駅の間の「徒歩ルート」を計算。
    *   所要時間 (`duration`) と距離 (`distanceMeters`) を取得。

### 課題
*   **APIコール数の増加**: 1回の店舗表示につき、追加で最低2回（周辺検索＋ルート計算）のAPIコールが発生する。
*   **コスト**: Routes APIやDistance Matrix APIは比較的高価であり、リクエスト数が3倍になるため、ランニングコストが大幅に増加する可能性がある。
*   **精度**: 直線距離で近い駅が、実際の徒歩ルートでは遠い場合がある（川や線路を挟む場合など）。

## 3. その他の検討事項
*   **多言語対応**: 現在は日本語のみだが、インバウンド向けに英語対応を行う。
*   **お気に入り機能**: ユーザーが気になった店を保存できる機能（要認証基盤）。
